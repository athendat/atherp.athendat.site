"use strict";(self.webpackChunkatherp=self.webpackChunkatherp||[]).push([[563],{3294:(P,A,n)=>{n.d(A,{g:()=>l});var i=n(3075),r=n(8966),m=n(3844),t=n(5e3),e=n(9808),s=n(7423),g=n(5245),d=n(7322),v=n(7531);function a(o,c){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," EL motivo del rechazo es obligatorio "),t.qZA())}function h(o,c){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," EL motivo del rechazo debe contener entre 3 y 1000 caracteres. "),t.qZA())}const E=function(o){return{"cursor-not-allowed":o}};let l=(()=>{class o{constructor(u,_){this.data=u,this._dialogRef=_,this.rejectControl=new i.NI(""),this.rejectedReasonRequired=!0,this.rejectedReasonRequired=u.rejectedReasonRequired}ngOnInit(){this.rejectControl.setValidators(this.rejectedReasonRequired?[i.kI.required,i.kI.minLength(3),i.kI.maxLength(1e3)]:[i.kI.minLength(3),i.kI.maxLength(1e3)]),this.rejectControl.setValue(this.data.rejectedReason)}accept(){this._dialogRef.close({reason:this.rejectControl.value})}cancel(){this._dialogRef.close()}}return o.\u0275fac=function(u){return new(u||o)(t.Y36(r.WI),t.Y36(r.so))},o.\u0275cmp=t.Xpm({type:o,selectors:[["commercial-reject-confirm-dialog"]],decls:28,vars:15,consts:[[1,"ng-star-inserted","h-full"],[1,"relative","flex","flex-col","w-full","h-full"],[1,"h-full","flex","items-center"],[1,"block","w-full"],[1,"flex","flex-col","sm:flex-row","flex-auto","items-center","sm:items-start","p-8","pb-4","sm:pb-6"],["ng-reflect-ng-class","[object Object]",1,"flex","flex-0","items-center","justify-center","w-10","h-10","sm:mr-4","rounded-full","text-blue-600","bg-blue-100","dark:text-blue-50","dark:bg-blue-600","ng-star-inserted"],["role","img","aria-hidden","true","ng-reflect-svg-icon","heroicons_outline:question-mar","data-mat-icon-type","svg","data-mat-icon-name","question-mark-circle","data-mat-icon-namespace","heroicons_outline",1,"mat-icon","notranslate","text-current","mat-icon-no-color"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","fit","","height","100%","width","100%","preserveAspectRatio","xMidYMid meet","focusable","false"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"flex","flex-col","items-center","sm:items-start","mt-4","sm:mt-0","sm:pr-8","space-y-1","text-center","sm:text-left","ng-star-inserted"],[1,"text-xl","leading-6","font-medium","ng-star-inserted"],[1,"text-secondary","ng-star-inserted"],[1,"pr-8","pl-8","mt-10","sm:mt-0","sm:pl-22","pb-6",3,"autocomplete"],[1,"w-full","fuse-mat-textarea"],["matPrefix","","svgIcon","heroicons_solid:menu-alt-2",1,"hidden","sm:flex","icon-size-5"],["matInput","",3,"formControl","placeholder","minLength","maxLength","required"],[4,"ngIf"],[1,"flex","flex-wrap","tems-center","justify-end","md:justify-end","px-6","py-4","space-x-3","bg-gray-50","dark:bg-black","dark:bg-opacity-10","ng-star-inserted"],["mat-stroked-button","",3,"click"],["mat-flat-button","","mat-button","",3,"color","disabled","ngClass","click"]],template:function(u,_){1&u&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"mat-icon",6),t.O4$(),t.TgZ(7,"svg",7),t._UZ(8,"path",8),t.qZA()()(),t.kcU(),t.TgZ(9,"div",9)(10,"div",10),t._uU(11),t.qZA(),t.TgZ(12,"div",11),t._uU(13),t.qZA()()(),t.TgZ(14,"form",12)(15,"div")(16,"mat-form-field",13)(17,"mat-label"),t._uU(18,"Motivo"),t.qZA(),t._UZ(19,"mat-icon",14)(20,"textarea",15),t.YNc(21,a,2,0,"mat-error",16),t.YNc(22,h,2,0,"mat-error",16),t.qZA()()()()(),t.TgZ(23,"div",17)(24,"button",18),t.NdJ("click",function(){return _.cancel()}),t._uU(25,"Cancelar"),t.qZA(),t.TgZ(26,"button",19),t.NdJ("click",function(){return _.accept()}),t._uU(27," Aceptar "),t.qZA()()()()),2&u&&(t.xp6(11),t.Oqu(_.data.title),t.xp6(2),t.Oqu(_.data.message),t.xp6(1),t.Q6J("autocomplete","off"),t.xp6(6),t.Q6J("formControl",_.rejectControl)("placeholder","Escriba el motivo del rechazo")("minLength",3)("maxLength",1e3)("required",_.rejectedReasonRequired),t.xp6(1),t.Q6J("ngIf",_.rejectControl.hasError("required")),t.xp6(1),t.Q6J("ngIf",_.rejectControl.hasError("maxlength")||_.rejectControl.hasError("minlength")),t.xp6(4),t.Q6J("color","primary")("disabled",_.rejectControl.invalid)("ngClass",t.VKq(13,E,_.rejectControl.invalid)))},dependencies:[e.mk,e.O5,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.F,i.oH,s.lW,g.Hw,d.TO,d.KE,d.hX,d.qo,v.Nt],encapsulation:2,data:{animation:m.L},changeDetection:0}),o})()},4062:(P,A,n)=>{n.d(A,{i:()=>i});class i{constructor(m){this.slug=this._slugGenerator(m)}_slugGenerator(m){return m.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace("  "," ").replace(" ","-")}}},9784:(P,A,n)=>{n.d(A,{h:()=>g});var i=n(7261),r=n(5e3),m=n(9808),t=n(2494),e=n(5245);function s(d,v){if(1&d&&r._UZ(0,"mat-icon",3),2&d){const a=r.oxw();r.Q6J("svgIcon",a.svgIcon)}}let g=(()=>{class d{constructor(a){this.data=a,this.message="",this.title="",this.svgIcon="",this.type="success",this.appearance="fill",this.message=a.message,this.title=a.title,this.svgIcon=a.svgIcon,this.type=a.type,a.appearance&&(this.appearance=a.appearance)}}return d.\u0275fac=function(a){return new(a||d)(r.Y36(i.qD))},d.\u0275cmp=r.Xpm({type:d,selectors:[["ath-snackbar"]],decls:5,vars:5,consts:[[3,"type","appearance"],["class","icon-size-5","fuseAlertIcon","",3,"svgIcon",4,"ngIf"],["fuseAlertTitle",""],["fuseAlertIcon","",1,"icon-size-5",3,"svgIcon"]],template:function(a,h){1&a&&(r.TgZ(0,"fuse-alert",0),r.YNc(1,s,1,1,"mat-icon",1),r.TgZ(2,"span",2),r._uU(3),r.qZA(),r._uU(4),r.qZA()),2&a&&(r.Q6J("type",h.type)("appearance",h.appearance),r.xp6(1),r.Q6J("ngIf",h.svgIcon),r.xp6(2),r.Oqu(h.title),r.xp6(1),r.hij(" ",h.message,"\n"))},dependencies:[m.O5,t.W,e.Hw],styles:[".snack-alert-success[_ngcontent-%COMP%]{background-color:#39b54a!important;color:#fff}.snack-alert-warning[_ngcontent-%COMP%]{background-color:#f59e0b!important;color:#fff}.snack-alert-error[_ngcontent-%COMP%]{background-color:#ff2828!important;color:#fff}"]}),d})()},2491:(P,A,n)=>{n.d(A,{L:()=>r});var i=n(3075);class r{static isEmptyInputValue(t){return null==t||0===t.length}static mustMatch(t,e){return s=>{const g=s.get(t),d=s.get(e);if(!g||!d||(d.hasError("mustMatch")&&(delete d.errors.mustMatch,d.updateValueAndValidity()),this.isEmptyInputValue(d.value)||g.value===d.value))return null;const v={mustMatch:"Las contrase\xf1a no coinciden."};return d.setErrors(v),v}}static strongPassWord(t,e,s,g,d){return v=>{const a=v.value;if(!a)return null;const h=!t||/[A-Z]+/.test(a),E=!e||/[a-z]+/.test(a),l=!s||/[0-9]+/.test(a),o=!g||!/^[a-zA-Z0-9]+$/.test(a);return h&&E&&l&&o&&a.length>=d?null:{password:"La contrase\xf1a no cumple con los est\xe1ndares de seguridad requeridos"}}}static onlyNumber(t){return e=>{const s=e.get(t);if(!s||!s.value||(s.hasError("onlyNumber")&&(delete s.errors.mustMatch,s.updateValueAndValidity()),/^[a-zA-Z0-9]+$/.test(s.value.toString())))return null;const d={onlyNumber:"Solo se admiten n\xfameros."};return s.setErrors(d),d}}static strongPasWordPattern(){return i.kI.pattern(/((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/)}static emailPattern(){return i.kI.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")}static onlyNumbersPattern(){return i.kI.pattern("^[0-9]*$")}static numbersAndDecimalsPattern(){return i.kI.pattern(/^-?\d*[.,]?\d{0,2}$/)}static onlyAlphabetsWithAccentPattern(){return i.kI.pattern("^[a-zA-Z \xe1\xe9\xed\xf3\xfa\xf1\xfc]*$")}static onlyAlphabetsPattern(){return i.kI.pattern("^[a-zA-Z ]*$")}static validateIdNumber(){return t=>{if(!t)return null;let e=t.value;if(!e)return null;void 0!==t.value.idNumber&&(e=t.value.idNumber);const s=parseInt(e.substring(0,2),10),g=parseInt(e.substring(2,4),10)-1,d=parseInt(e.substring(4,6),10),v=new Date(s,g,d);if(v.getFullYear().toString().substring(2,4)===s.toString()&&v.getMonth()===g&&v.getDate()===d)return null;const h={validateIdNumber:"El n\xfamero de identidad introducido es incorrecto"};return t.setErrors(h),h}}static validFullName(t){return e=>{const s=e.get(t);if(!s||!t||(s.hasError("validFullName")&&(delete s.errors.validFullName,s.updateValueAndValidity()),this._isEmptyInputValue(s.value))||s.value.trim().split(" ").length>1)return null;const g={validFullName:"El nombre completo deber\xe1 tener al menos un nombre y un apellido"};return s.setErrors(g),g}}static _isEmptyInputValue(t){return null==t||0===t.length}}},3005:(P,A,n)=>{n.d(A,{YP:()=>m,ZQ:()=>t});var i=n(5620);const r=e=>e.productServices,m=(0,i.P1)(r,e=>e.productService),t=(0,i.P1)(r,e=>e.productServices)},2834:(P,A,n)=>{n.d(A,{z:()=>a});var i=n(520),r=n(8505),m=n(5714),t=n(2340),e=n(5057),s=n(5e3),g=n(1235),d=n(5620);const v=t.N.API_URL;let a=(()=>{class h{constructor(l,o,c){this._httpClient=l,this.rolesService=o,this.store=c}getProductServices(l=0,o=20,c="active",u="desc",_=""){const f=(new i.LE).append("page",l).append("size",o).append("sort",c).append("order",u).append("search",_);return this._httpClient.get(`${v}/products-services/`,{params:f}).pipe((0,r.b)(D=>{this.store.dispatch((0,m.Jr)({pagination:D.pagination})),this.store.dispatch((0,e.C5)({productServices:D.dataArr}))}))}getActiveProductServices(){return this._httpClient.get(`${v}/products-services/active`).pipe((0,r.b)(l=>{this.store.dispatch((0,e.C5)({productServices:l.dataArr}))}))}getActiveProductServicesByMerchantId(l){return this._httpClient.get(`${v}/products-services/active-by-merchantId/${l}`).pipe((0,r.b)(o=>{this.store.dispatch((0,e.C5)({productServices:o.dataArr}))}))}getProductServiceById(l){return this._httpClient.get(`${v}/products-services/${l}`).pipe((0,r.b)(o=>{this.store.dispatch((0,e.Fl)({productService:o.productService}))}))}createProductService(l){return this._httpClient.post(`${v}/products-services`,l).pipe((0,r.b)(o=>{this.store.dispatch((0,e.QI)({productService:o.data}))}))}updateProductService(l){return this._httpClient.patch(`${v}/products-services/${l._id}`,l).pipe((0,r.b)(o=>{this.store.dispatch((0,e.pF)({productService:o.data}))}))}deleteProductService(l,o=0,c=20,u="active",_="desc",f=""){const D=(new i.LE).append("page",o).append("size",c).append("sort",u).append("order",_).append("search",f);return this._httpClient.delete(`${v}/products-services/${l}`,{params:D}).pipe((0,r.b)(p=>{this.store.dispatch((0,m.Jr)({pagination:p.pagination})),this.store.dispatch((0,e.C5)({productServices:p.dataArr}))}))}}return h.\u0275fac=function(l){return new(l||h)(s.LFG(i.eN),s.LFG(g.cM),s.LFG(d.yh))},h.\u0275prov=s.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},8721:(P,A,n)=>{n.d(A,{o:()=>a});var i=n(520),r=n(8505),m=n(4004),t=n(2768),e=n(5714),s=n(2340),g=n(5e3),d=n(5620);const v=s.N.API_URL;let a=(()=>{class h{constructor(l,o){this._httpClient=l,this.store=o}getPaymentMethods(l=0,o=20,c="active",u="desc",_=""){const f=(new i.LE).append("page",l).append("size",o).append("sort",c).append("order",u).append("search",_);return this._httpClient.get(`${v}/payment-methods/`,{params:f}).pipe((0,r.b)(D=>{this.store.dispatch((0,e.Jr)({pagination:D.pagination})),this.store.dispatch((0,t.DA)({paymentMethods:D.dataArr}))}))}getActivePaymentMethods(){return this._httpClient.get(`${v}/payment-methods/active`).pipe((0,m.U)(l=>l.dataArr),(0,r.b)(l=>{this.store.dispatch((0,t.DA)({paymentMethods:l}))}))}createPaymentMethod(l){return this._httpClient.post(`${v}/payment-methods`,l).pipe((0,r.b)(o=>{this.store.dispatch((0,e.W4)()),this.store.dispatch((0,t.Iw)({paymentMethod:o.data}))}))}updatePaymentMethod(l){return this._httpClient.patch(`${v}/payment-methods/${l._id}`,l).pipe((0,r.b)(o=>{this.store.dispatch((0,t.TV)({paymentMethod:o.data}))}))}deletePaymentMethod(l,o=0,c=20,u="active",_="desc",f=""){const D=(new i.LE).append("page",o).append("size",c).append("sort",u).append("order",_).append("search",f);return this._httpClient.delete(`${v}/payment-methods/${l}`,{params:D}).pipe((0,r.b)(p=>{this.store.dispatch((0,e.Jr)({pagination:p.pagination})),this.store.dispatch((0,t.DA)({paymentMethods:p.dataArr}))}))}}return h.\u0275fac=function(l){return new(l||h)(g.LFG(i.eN),g.LFG(d.yh))},h.\u0275prov=g.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},5453:(P,A,n)=>{n.d(A,{i:()=>_});var i=n(4787),r=n(7579),m=n(2722),t=n(6861),e=n(5e3),s=n(5620),g=n(9808),d=n(5357),v=n(393);function a(f,D){if(1&f&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&f){const p=e.oxw();e.xp6(1),e.hij(" ",p.merchantQuotation.phoneNumbers[0].stateCode+" "+p.merchantQuotation.phoneNumbers[0].phoneNumber,"")}}function h(f,D){if(1&f&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&f){const p=e.oxw();e.xp6(1),e.Oqu(p.merchantQuotation.emails[0].email)}}const E=function(){return["$"]};function l(f,D){if(1&f&&(e.TgZ(0,"div",31),e._UZ(1,"div",32),e.TgZ(2,"div",33),e._uU(3),e.qZA(),e.TgZ(4,"div",34),e._uU(5),e.qZA(),e.TgZ(6,"div",34),e._uU(7),e.ALo(8,"currency"),e.qZA(),e.TgZ(9,"div",35),e._uU(10),e.ALo(11,"currency"),e.qZA()()),2&f){const p=D.$implicit;e.xp6(3),e.Oqu(p.name),e.xp6(2),e.Oqu(p.amount),e.xp6(2),e.Oqu(e.xi3(8,4,p.price,e.DdM(10,E))),e.xp6(3),e.Oqu(e.xi3(11,7,p.quantity,e.DdM(11,E)))}}function o(f,D){if(1&f&&(e.TgZ(0,"div",36)(1,"div",37)(2,"span"),e._uU(3),e.qZA(),e.TgZ(4,"span"),e._uU(5,"-"),e.qZA()(),e.TgZ(6,"span",38),e._uU(7),e.qZA()()),2&f){const p=D.$implicit;e.xp6(3),e.hij("",p.percent,"%"),e.xp6(4),e.Oqu(p.description)}}const c=function(){return["CUP "]},u=function(f,D){return[f,D]};let _=(()=>{class f{constructor(p,O){this.store=p,this._changeDetectorRef=O,this.selectedQuotation$=null,this.selectedQuotation=null,this._unsubscribeAll=new r.x}ngOnInit(){this.store.select(i.rk).pipe((0,m.R)(this._unsubscribeAll)).subscribe(p=>{console.log(p),this.linkRequest=p?"/modules/commercial/request":"/public/request",this._changeDetectorRef.markForCheck()}),this.selectedQuotation$=this.store.select(t.$i),this.selectedQuotation$.pipe((0,m.R)(this._unsubscribeAll)).subscribe(p=>{this.selectedQuotation=p,this.merchantQuotation=p.merchantId,this.requestQuotation=p.requestId,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}getTotalQuantity(){return this.selectedQuotation.goodsData.map(p=>p.quantity).reduce((p,O)=>p+O,0)}}return f.\u0275fac=function(p){return new(p||f)(e.Y36(s.yh),e.Y36(e.sBO))},f.\u0275cmp=e.Xpm({type:f,selectors:[["quotation-details"]],decls:68,vars:36,consts:[["cdkScrollable","",1,"flex","md:justify-center","w-full","print:overflow-visible"],[1,"inline-block","p-6","sm:p-10","text-left","print:p-0"],[1,"w-240","p-16","rounded-2xl","shadow","bg-card","print:w-auto","print:rounded-none","print:shadow-none","print:bg-transparent"],[1,"flex","items-start","justify-between"],[1,"grid","grid-cols-2","gap-y-1",2,"width","260px !important"],[1,"text-3xl","tracking-tight","text-secondary"],[1,"text-2xl","flex","items-center","font-medium"],[1,"font-medium","tracking-tight","text-secondary"],[1,"font-medium"],[1,"font-medium","text-primary-500","hover:text-primary-700","cursor-pointer",3,"routerLink"],[1,"grid","auto-cols-max","grid-flow-col","gap-x-8","-mr-16","py-6","px-8","rounded-l-2xl","bg-primary-50"],[1,"place-self-center","w-24"],[1,"w-24",3,"src"],[1,"pl-8","overflow-auto","break-word","border-l","text-md",2,"width","220px !important","border-color","black"],[4,"ngIf"],[1,"mt-4","text-md"],[1,"text-xl","font-medium"],[1,"grid","grid-cols-12","gap-x-1","mt-14"],[1,"col-span-8","font-medium","text-md","text-secondary"],[1,"font-medium","text-md","text-right","text-secondary"],[1,"col-span-2","font-medium","text-md","text-right","text-secondary"],["class","col-span-12 grid grid-cols-12 gap-x-1",4,"ngFor","ngForOf"],[1,"col-span-12","mt-16"],[1,"col-span-12","my-3","border-b"],[1,"col-span-10","self-center","text-2xl","font-medium","tracking-tight","text-secondary"],[1,"col-span-2","text-right","text-2xl","font-medium"],[1,"mt-16"],[1,"flex","items-start","mt-4"],[1,"flex-0","w-10","mt-1",3,"src"],[1,"flex","flex-col","ml-6","w-full"],["style","grid-template-columns: 45px auto !important;","class","grid grid-cols-2 text-sm text-secondary w-full",4,"ngFor","ngForOf"],[1,"col-span-12","grid","grid-cols-12","gap-x-1"],[1,"col-span-12","my-4","border-b"],[1,"col-span-8","text-lg","font-medium"],[1,"self-center","text-center"],[1,"col-span-2","self-center","text-right"],[1,"grid","grid-cols-2","text-sm","text-secondary","w-full",2,"grid-template-columns","45px auto !important"],[1,"flex","justify-between"],[1,"ml-4"]],template:function(p,O){1&p&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6,"OFERTA"),e.qZA(),e.TgZ(7,"div",6),e._uU(8),e.qZA(),e.TgZ(9,"div",7),e._uU(10,"EMITIDA EL"),e.qZA(),e.TgZ(11,"div",8),e._uU(12),e.ALo(13,"date"),e.qZA(),e.TgZ(14,"div",7),e._uU(15,"ESTADO"),e.qZA(),e.TgZ(16,"div",8),e._uU(17),e.qZA(),e.TgZ(18,"div",7),e._uU(19,"IMPORTE TOTAL"),e.qZA(),e.TgZ(20,"div",8),e._uU(21),e.ALo(22,"currency"),e.qZA(),e.TgZ(23,"div",7),e._uU(24,"SOLICITUD"),e.qZA(),e.TgZ(25,"a",9),e._uU(26),e.qZA()(),e.TgZ(27,"div",10)(28,"div",11),e._UZ(29,"img",12),e.qZA(),e.TgZ(30,"div",13)(31,"div",8),e._uU(32),e.qZA(),e.TgZ(33,"div"),e._uU(34),e.qZA(),e.YNc(35,a,2,1,"div",14),e.YNc(36,h,2,1,"div",14),e.TgZ(37,"div"),e._uU(38),e.qZA()()()(),e.TgZ(39,"div",15)(40,"div",16),e._uU(41),e.qZA(),e.TgZ(42,"div"),e._uU(43),e.qZA()(),e.TgZ(44,"div",17)(45,"div",18),e._uU(46,"PRODUCTO O SERVICIO"),e.qZA(),e.TgZ(47,"div",19),e._uU(48,"CANTIDAD"),e.qZA(),e.TgZ(49,"div",19),e._uU(50,"PRECIO"),e.qZA(),e.TgZ(51,"div",20),e._uU(52,"TOTAL"),e.qZA(),e.YNc(53,l,12,12,"div",21),e._UZ(54,"div",22)(55,"div",23),e.TgZ(56,"div",24),e._uU(57,"TOTAL"),e.qZA(),e.TgZ(58,"div",25),e._uU(59),e.ALo(60,"currency"),e.qZA()(),e.TgZ(61,"div",26)(62,"div",8),e._uU(63,"T\xe9rminos o condiciones de pago."),e.qZA(),e.TgZ(64,"div",27),e._UZ(65,"img",28),e.TgZ(66,"div",29),e.YNc(67,o,8,2,"div",30),e.qZA()()()()()()),2&p&&(e.xp6(8),e.hij("#",O.selectedQuotation.no,""),e.xp6(4),e.Oqu(e.xi3(13,22,O.selectedQuotation.createdAt,"dd/MM/yyyy")),e.xp6(5),e.Oqu(O.selectedQuotation.status.toUpperCase()),e.xp6(4),e.Oqu(e.xi3(22,25,O.getTotalQuantity(),e.DdM(31,c))),e.xp6(4),e.Q6J("routerLink",e.WLB(32,u,O.linkRequest,O.requestQuotation._id)),e.xp6(1),e.hij("#",O.selectedQuotation.requestNo,""),e.xp6(3),e.Q6J("src",O.merchantQuotation.logoUrl,e.LSH),e.xp6(3),e.Oqu(O.merchantQuotation.name),e.xp6(2),e.HOy("",O.merchantQuotation.address,", ",O.merchantQuotation.city,", ",O.merchantQuotation.state,", ",O.merchantQuotation.country," "),e.xp6(1),e.Q6J("ngIf",O.merchantQuotation.phoneNumbers.length>0),e.xp6(1),e.Q6J("ngIf",O.merchantQuotation.emails.length>0),e.xp6(2),e.Oqu(O.merchantQuotation.website),e.xp6(3),e.AsE("",O.requestQuotation.name," ",O.requestQuotation.lastName,""),e.xp6(2),e.Oqu(O.requestQuotation.email),e.xp6(10),e.Q6J("ngForOf",O.selectedQuotation.goodsData),e.xp6(6),e.Oqu(e.xi3(60,28,O.getTotalQuantity(),e.DdM(35,c))),e.xp6(6),e.Q6J("src",O.merchantQuotation.logoUrl,e.LSH),e.xp6(2),e.Q6J("ngForOf",O.selectedQuotation.paymentMethodData.terms))},dependencies:[g.sg,g.O5,d.yS,v.PQ,g.H9,g.uU],encapsulation:2,changeDetection:0}),f})()},6863:(P,A,n)=>{n.d(A,{K:()=>m});var i=n(6338),r=n(5e3);let m=(()=>{class t{}return t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[i.m]}),t})()},9641:(P,A,n)=>{n.d(A,{S:()=>s,x:()=>g});var i=n(2843),r=n(262),m=n(5e3),t=n(7871),e=n(5357);let s=(()=>{class d{constructor(a){this._quotationsService=a}resolve(a,h){return this._quotationsService.getQuotations()}}return d.\u0275fac=function(a){return new(a||d)(m.LFG(t.D))},d.\u0275prov=m.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),g=(()=>{class d{constructor(a,h){this._quotationsService=a,this._router=h}resolve(a,h){return this._quotationsService.getQuotationById(a.params.quotationId).pipe((0,r.K)(l=>{console.error(l);const o=h.url.split("/").slice(0,-1).join("/");return this._router.navigateByUrl(o),(0,i._)(l)}))}}return d.\u0275fac=function(a){return new(a||d)(m.LFG(t.D),m.LFG(e.F0))},d.\u0275prov=m.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},6861:(P,A,n)=>{n.d(A,{$i:()=>m,uy:()=>t});var i=n(5620);const r=e=>e.quotations,m=(0,i.P1)(r,e=>e.quotation),t=(0,i.P1)(r,e=>e.quotations)},7871:(P,A,n)=>{n.d(A,{D:()=>h});var i=n(520),r=n(8505),m=n(5714),t=n(7205),e=n(2340),s=n(1494),g=n(5e3),d=n(1235),v=n(5620);const a=e.N.API_URL;let h=(()=>{class E{constructor(o,c,u){this._httpClient=o,this.rolesService=c,this.store=u}getQuotations(o=0,c=20,u="createdAt",_="desc",f=""){const D=(new i.LE).append("page",o).append("size",c).append("sort",u).append("order",_).append("search",f);return this._httpClient.get(`${a}/quotations/`,{params:D}).pipe((0,r.b)(p=>{this.store.dispatch((0,m.Jr)({pagination:p.pagination})),this.store.dispatch((0,s.ZI)({quotations:p.dataArr}))}))}getQuotationById(o){return this._httpClient.get(`${a}/quotations/${o}`).pipe((0,r.b)(c=>{this.store.dispatch((0,s.Yd)({quotation:c.quotation}))}))}createQuotation(o){return this._httpClient.post(`${a}/quotations`,o).pipe((0,r.b)(c=>{this.store.dispatch((0,s.T9)({quotation:c.data})),this.store.dispatch((0,s.Yd)({quotation:c.data}))}))}updateQuotation(o){return this._httpClient.patch(`${a}/quotations/${o._id}`,o).pipe((0,r.b)(c=>{this.store.dispatch((0,s.qm)({quotation:c.data}))}))}acceptQuotation(o){return this._httpClient.patch(`${a}/quotations/accept`,{_id:o,status:t.qm.Aceptada}).pipe((0,r.b)(c=>{console.log(c.data),this.store.dispatch((0,s.qm)({quotation:c.data})),this.store.dispatch((0,s.Yd)({quotation:c.data}))}))}rejectQuotation(o,c=""){return this._httpClient.patch(`${a}/quotations/reject`,{_id:o,rejectedReason:c,status:t.qm.Rechazada}).pipe((0,r.b)(u=>{this.store.dispatch((0,s.qm)({quotation:u.data})),this.store.dispatch((0,s.Yd)({quotation:u.data}))}))}deleteQuotation(o,c=0,u=20,_="createdAt",f="desc",D=""){const p=(new i.LE).append("page",c).append("size",u).append("sort",_).append("order",f).append("search",D);return this._httpClient.delete(`${a}/quotations/${o}`,{params:p}).pipe((0,r.b)(O=>{this.store.dispatch((0,m.Jr)({pagination:O.pagination})),this.store.dispatch((0,s.ZI)({quotations:O.dataArr}))}))}}return E.\u0275fac=function(o){return new(o||E)(g.LFG(i.eN),g.LFG(d.cM),g.LFG(v.yh))},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()},7205:(P,A,n)=>{n.d(A,{R8:()=>m,qm:()=>r});var r=(()=>{return(t=r||(r={})).Nueva="Nueva",t.Aceptada="Aceptada",t.Facturada="Facturada",t.Rechazada="Rechazada",r;var t})();class m{constructor(e){this.paymentMethodId=e._id,this.name=e.name,this.merchantId=e.merchantId,this.terms=e.terms}}},2627:(P,A,n)=>{n.d(A,{d:()=>l});var i=n(7579),r=n(2722),m=n(4899),t=n(5e3),e=n(5620),s=n(9808),g=n(393);function d(o,c){if(1&o&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&o){const u=t.oxw();t.xp6(1),t.hij(" ",u.merchantRequest.phoneNumbers[0].stateCode+" "+u.merchantRequest.phoneNumbers[0].phoneNumber,"")}}function v(o,c){if(1&o&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&o){const u=t.oxw();t.xp6(1),t.Oqu(u.merchantRequest.emails[0].email)}}const a=function(){return["$"]};function h(o,c){if(1&o&&(t.TgZ(0,"div",26),t._UZ(1,"div",22),t.TgZ(2,"div",27)(3,"div",28),t._uU(4),t.qZA(),t.TgZ(5,"div",29),t._uU(6),t.qZA()(),t.TgZ(7,"div",30),t._uU(8),t.qZA(),t.TgZ(9,"div",30),t._uU(10),t.ALo(11,"currency"),t.qZA(),t.TgZ(12,"div",31),t._uU(13),t.ALo(14,"currency"),t.qZA()()),2&o){const u=c.$implicit;t.xp6(4),t.Oqu(u.name),t.xp6(2),t.hij(" ",u.description," "),t.xp6(2),t.Oqu(u.amount),t.xp6(2),t.Oqu(t.xi3(11,5,u.price,t.DdM(11,a))),t.xp6(3),t.Oqu(t.xi3(14,8,u.quantity,t.DdM(12,a)))}}const E=function(){return["CUP "]};let l=(()=>{class o{constructor(u,_){this.store=u,this._changeDetectorRef=_,this.selectedRequest$=null,this.selectedRequest=null,this._unsubscribeAll=new i.x}ngOnInit(){this.selectedRequest$=this.store.select(m.V8),this.selectedRequest$.pipe((0,r.R)(this._unsubscribeAll)).subscribe(u=>{this.selectedRequest=u,this.merchantRequest=u.merchantId,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}getTotalQuantity(){return this.selectedRequest.goodsData.map(u=>u.quantity).reduce((u,_)=>u+_,0)}}return o.\u0275fac=function(u){return new(u||o)(t.Y36(e.yh),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["request-details"]],decls:60,vars:28,consts:[["cdkScrollable","",1,"flex","md:justify-center","w-full","print:overflow-visible"],[1,"inline-block","p-6","sm:p-10","text-left","print:p-0"],[1,"w-240","min-w-240","p-16","rounded-2xl","shadow","bg-card","print:w-auto","print:p-0","print:rounded-none","print:shadow-none","print:bg-transparent"],[1,"flex","items-start"],[1,"grid","grid-rows-2","place-items-start","gap-y-12"],[1,"grid","auto-cols-max","grid-flow-col","gap-x-8"],[1,"place-self-center","w-24"],[1,"w-24",3,"src"],[1,"pl-10","border-l","text-md","overflow-auto","break-word",2,"width","220px !important"],[1,"font-medium"],[4,"ngIf"],[1,"place-self-center","w-24","text-center","text-2xl","text-secondary"],[1,"pl-10","border-l","text-md"],[1,"grid","grid-cols-2","gap-x-4","gap-y-1","ml-auto"],[1,"justify-self-end","text-3xl","tracking-tight","text-secondary"],[1,"text-xl","flex","items-center","font-medium"],[1,"justify-self-end","font-medium","tracking-tight","text-secondary"],[1,"grid","grid-cols-12","gap-x-1"],[1,"col-span-8","font-medium","text-md","text-secondary"],[1,"font-medium","text-md","text-right","text-secondary"],[1,"col-span-2","font-medium","text-md","text-right","text-secondary"],["class","col-span-12 grid grid-cols-12 gap-x-1",4,"ngFor","ngForOf"],[1,"col-span-12","my-4","border-b"],[1,"col-span-12","mt-16"],[1,"col-span-10","self-center","text-2xl","font-medium","tracking-tight","text-secondary"],[1,"col-span-2","text-right","text-2xl","font-medium"],[1,"col-span-12","grid","grid-cols-12","gap-x-1"],[1,"col-span-8"],[1,"text-lg","font-medium"],[1,"mt-2","text-md","text-secondary"],[1,"self-center","text-center"],[1,"col-span-2","self-center","text-right"]],template:function(u,_){1&u&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t._UZ(7,"img",7),t.qZA(),t.TgZ(8,"div",8)(9,"div",9),t._uU(10),t.qZA(),t.TgZ(11,"div"),t._uU(12),t.qZA(),t.YNc(13,d,2,1,"div",10),t.YNc(14,v,2,1,"div",10),t.qZA()(),t.TgZ(15,"div",5)(16,"div",11),t._uU(17," Por "),t.qZA(),t.TgZ(18,"div",12)(19,"div",9),t._uU(20),t.qZA(),t._UZ(21,"div"),t.TgZ(22,"div"),t._uU(23),t.qZA()()()(),t.TgZ(24,"div",13)(25,"div",14),t._uU(26,"SOLICITUD"),t.qZA(),t.TgZ(27,"div",15),t._uU(28),t.qZA(),t.TgZ(29,"div",16),t._uU(30,"CREADA EL"),t.qZA(),t.TgZ(31,"div",9),t._uU(32),t.ALo(33,"date"),t.qZA(),t.TgZ(34,"div",16),t._uU(35,"ESTADO"),t.qZA(),t.TgZ(36,"div",9),t._uU(37),t.qZA(),t.TgZ(38,"div",16),t._uU(39,"IMPORTE TOTAL"),t.qZA(),t.TgZ(40,"div",9),t._uU(41),t.ALo(42,"currency"),t.qZA()()(),t.TgZ(43,"div",17)(44,"div",18),t._uU(45,"PRODUCTO O SERVICIO"),t.qZA(),t.TgZ(46,"div",19),t._uU(47,"CANTIDAD"),t.qZA(),t.TgZ(48,"div",19),t._uU(49,"PRECIO"),t.qZA(),t.TgZ(50,"div",20),t._uU(51,"TOTAL"),t.qZA(),t.YNc(52,h,15,13,"div",21),t._UZ(53,"div",22)(54,"div",23),t.TgZ(55,"div",24),t._uU(56,"TOTAL"),t.qZA(),t.TgZ(57,"div",25),t._uU(58),t.ALo(59,"currency"),t.qZA()()()()()),2&u&&(t.xp6(7),t.Q6J("src",_.merchantRequest.logoUrl,t.LSH),t.xp6(3),t.Oqu(_.merchantRequest.name),t.xp6(2),t.HOy("",_.merchantRequest.address,", ",_.merchantRequest.city,", ",_.merchantRequest.state,", ",_.merchantRequest.country," "),t.xp6(1),t.Q6J("ngIf",_.merchantRequest.phoneNumbers.length>0),t.xp6(1),t.Q6J("ngIf",_.merchantRequest.emails.length>0),t.xp6(6),t.AsE("",_.selectedRequest.name," ",_.selectedRequest.lastName,""),t.xp6(3),t.Oqu(_.selectedRequest.email),t.xp6(5),t.hij("#",_.selectedRequest.no,""),t.xp6(4),t.Oqu(t.xi3(33,17,_.selectedRequest.createdAt,"dd/MM/yyyy")),t.xp6(5),t.Oqu(_.selectedRequest.status.toUpperCase()),t.xp6(4),t.Oqu(t.xi3(42,20,_.getTotalQuantity(),t.DdM(26,E))),t.xp6(11),t.Q6J("ngForOf",_.selectedRequest.goodsData),t.xp6(6),t.Oqu(t.xi3(59,23,_.getTotalQuantity(),t.DdM(27,E))))},dependencies:[s.sg,s.O5,g.PQ,s.H9,s.uU],encapsulation:2,changeDetection:0}),o})()},4290:(P,A,n)=>{n.d(A,{N:()=>v,r:()=>d});var i=n(4128),r=n(2843),m=n(262),t=n(5e3),e=n(2454),s=n(8721),g=n(5357);let d=(()=>{class a{constructor(E,l){this._requestsService=E,this._paymentMethods=l}resolve(E,l){return(0,i.D)([this._requestsService.getRequests(),this._paymentMethods.getActivePaymentMethods()])}}return a.\u0275fac=function(E){return new(E||a)(t.LFG(e.r),t.LFG(s.o))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),v=(()=>{class a{constructor(E,l){this._requestsService=E,this._router=l}resolve(E,l){return this._requestsService.getRequestById(E.params.requestId).pipe((0,m.K)(c=>{console.error(c);const u=l.url.split("/").slice(0,-1).join("/");return this._router.navigateByUrl(u),(0,r._)(c)}))}}return a.\u0275fac=function(E){return new(E||a)(t.LFG(e.r),t.LFG(g.F0))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},4899:(P,A,n)=>{n.d(A,{Mu:()=>t,V8:()=>m});var i=n(5620);const r=e=>e.requests,m=(0,i.P1)(r,e=>e.request),t=(0,i.P1)(r,e=>e.requests)},2454:(P,A,n)=>{n.d(A,{r:()=>h});var i=n(520),r=n(8505),m=n(5714),t=n(1896),e=n(2340),s=n(2440),g=n(5e3),d=n(1235),v=n(5620);const a=e.N.API_URL;let h=(()=>{class E{constructor(o,c,u){this._httpClient=o,this.rolesService=c,this.store=u}getRequests(o=0,c=20,u="createdAt",_="desc",f=""){const D=(new i.LE).append("page",o).append("size",c).append("sort",u).append("order",_).append("search",f);return this._httpClient.get(`${a}/requests/`,{params:D}).pipe((0,r.b)(p=>{this.store.dispatch((0,m.Jr)({pagination:p.pagination})),this.store.dispatch((0,s.g1)({requests:p.dataArr}))}))}getRequestById(o){return this._httpClient.get(`${a}/requests/${o}`).pipe((0,r.b)(c=>{this.store.dispatch((0,s.xR)({request:c.request}))}))}createRequest(o){return this._httpClient.post(`${a}/requests`,o).pipe((0,r.b)(c=>{this.store.dispatch((0,s.hG)({request:c.data}))}))}updateRequest(o){return this._httpClient.patch(`${a}/requests/${o._id}`,o).pipe((0,r.b)(c=>{this.store.dispatch((0,s.WN)({request:c.data}))}))}rejectRequest(o,c){return this._httpClient.patch(`${a}/requests/reject`,{_id:o,rejectedReason:c,status:t.eJ.Rechazada}).pipe((0,r.b)(u=>{this.store.dispatch((0,s.WN)({request:u.data}))}))}deleteRequest(o,c=0,u=20,_="createdAt",f="desc",D=""){const p=(new i.LE).append("page",c).append("size",u).append("sort",_).append("order",f).append("search",D);return this._httpClient.delete(`${a}/requests/${o}`,{params:p}).pipe((0,r.b)(O=>{this.store.dispatch((0,m.Jr)({pagination:O.pagination})),this.store.dispatch((0,s.g1)({requests:O.dataArr}))}))}}return E.\u0275fac=function(o){return new(o||E)(g.LFG(i.eN),g.LFG(d.cM),g.LFG(v.yh))},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()},1896:(P,A,n)=>{n.d(A,{eJ:()=>r});var r=(()=>{return(t=r||(r={})).Nueva="Nueva",t.Aceptada="Aceptada",t.Rechazada="Rechazada",r;var t})()}}]);