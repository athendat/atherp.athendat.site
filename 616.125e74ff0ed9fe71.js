"use strict";(self.webpackChunkatherp=self.webpackChunkatherp||[]).push([[616],{7231:(H,A,l)=>{l.d(A,{C:()=>e});var d=l(520),h=l(2340),v=l(5e3);const m=h.N.API_URL;let e=(()=>{class g{constructor(c){this._httpClient=c}uploadImage(c,f){const _=new FormData;return _.append("image",f,f.name),this._httpClient.post(`${m}/cloudinary/upload/${c}`,_)}removeImage(c,f){const _=f.slice(f.indexOf(c),f.length).split(".")[0],y=(new d.LE).set("public_id",_);return this._httpClient.delete(`${m}/cloudinary/remove`,{params:y})}}return g.\u0275fac=function(c){return new(c||g)(v.LFG(d.eN))},g.\u0275prov=v.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},6428:(H,A,l)=>{l.d(A,{B:()=>v});const v=(0,l(5620).P1)(m=>m.pagination,m=>m.pagination)},4062:(H,A,l)=>{l.d(A,{i:()=>d});class d{constructor(v){this.slug=this._slugGenerator(v)}_slugGenerator(v){return v.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace("  "," ").replace(" ","-")}}},9784:(H,A,l)=>{l.d(A,{h:()=>x});var d=l(7261),h=l(5e3),v=l(9808),m=l(2494),e=l(5245);function g(c,f){if(1&c&&h._UZ(0,"mat-icon",3),2&c){const _=h.oxw();h.Q6J("svgIcon",_.svgIcon)}}let x=(()=>{class c{constructor(_){this.data=_,this.message="",this.title="",this.svgIcon="",this.type="success",this.appearance="fill",this.message=_.message,this.title=_.title,this.svgIcon=_.svgIcon,this.type=_.type,_.appearance&&(this.appearance=_.appearance)}}return c.\u0275fac=function(_){return new(_||c)(h.Y36(d.qD))},c.\u0275cmp=h.Xpm({type:c,selectors:[["ath-snackbar"]],decls:5,vars:5,consts:[[3,"type","appearance"],["class","icon-size-5","fuseAlertIcon","",3,"svgIcon",4,"ngIf"],["fuseAlertTitle",""],["fuseAlertIcon","",1,"icon-size-5",3,"svgIcon"]],template:function(_,y){1&_&&(h.TgZ(0,"fuse-alert",0),h.YNc(1,g,1,1,"mat-icon",1),h.TgZ(2,"span",2),h._uU(3),h.qZA(),h._uU(4),h.qZA()),2&_&&(h.Q6J("type",y.type)("appearance",y.appearance),h.xp6(1),h.Q6J("ngIf",y.svgIcon),h.xp6(2),h.Oqu(y.title),h.xp6(1),h.hij(" ",y.message,"\n"))},dependencies:[v.O5,m.W,e.Hw],styles:[".snack-alert-success[_ngcontent-%COMP%]{background-color:#39b54a!important;color:#fff}.snack-alert-warning[_ngcontent-%COMP%]{background-color:#f59e0b!important;color:#fff}.snack-alert-error[_ngcontent-%COMP%]{background-color:#ff2828!important;color:#fff}"]}),c})()},2491:(H,A,l)=>{l.d(A,{L:()=>h});var d=l(3075);class h{static isEmptyInputValue(m){return null==m||0===m.length}static mustMatch(m,e){return g=>{const x=g.get(m),c=g.get(e);if(!x||!c||(c.hasError("mustMatch")&&(delete c.errors.mustMatch,c.updateValueAndValidity()),this.isEmptyInputValue(c.value)||x.value===c.value))return null;const f={mustMatch:"Las contrase\xf1a no coinciden."};return c.setErrors(f),f}}static strongPassWord(m,e,g,x,c){return f=>{const _=f.value;if(!_)return null;const y=!m||/[A-Z]+/.test(_),I=!e||/[a-z]+/.test(_),E=!g||/[0-9]+/.test(_),Y=!x||!/^[a-zA-Z0-9]+$/.test(_);return y&&I&&E&&Y&&_.length>=c?null:{password:"La contrase\xf1a no cumple con los est\xe1ndares de seguridad requeridos"}}}static onlyNumber(m){return e=>{const g=e.get(m);if(!g||(g.hasError("onlyNumber")&&(delete g.errors.mustMatch,g.updateValueAndValidity()),/^[a-zA-Z0-9]+$/.test(g.value.toString())))return null;const c={onlyNumber:"Solo se admiten n\xfameros."};return g.setErrors(c),c}}static strongPasWordPattern(){return d.kI.pattern(/((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/)}static emailPattern(){return d.kI.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")}static onlyNumbersPattern(){return d.kI.pattern("^[0-9]*$")}static onlyAlphabetsWithAccentPattern(){return d.kI.pattern("^[a-zA-Z \xe1\xe9\xed\xf3\xfa\xf1\xfc]*$")}static onlyAlphabetsPattern(){return d.kI.pattern("^[a-zA-Z ]*$")}static validateIdNumber(){return m=>{if(!m)return null;let e=m.value;if(!e)return null;void 0!==m.value.idNumber&&(e=m.value.idNumber);const g=parseInt(e.substring(0,2),10),x=parseInt(e.substring(2,4),10)-1,c=parseInt(e.substring(4,6),10),f=new Date(g,x,c);if(f.getFullYear().toString().substring(2,4)===g.toString()&&f.getMonth()===x&&f.getDate()===c)return null;const y={validateIdNumber:"El n\xfamero de identidad introducido es incorrecto"};return m.setErrors(y),y}}static validFullName(m){return e=>{const g=e.get(m);if(!g||!m||(g.hasError("validFullName")&&(delete g.errors.validFullName,g.updateValueAndValidity()),this._isEmptyInputValue(g.value))||g.value.trim().split(" ").length>1)return null;const x={validFullName:"El nombre completo deber\xe1 tener al menos un nombre y un apellido"};return g.setErrors(x),x}}static _isEmptyInputValue(m){return null==m||0===m.length}}},6616:(H,A,l)=>{l.r(A),l.d(A,{HrmModule:()=>mn});var d=l(5357),h=l(6338),v=l(7579),m=l(2722),e=l(5e3),g=l(9602),x=l(393),c=l(5245),f=l(7238);let _=(()=>{class o{constructor(t,n,a){this._activatedRoute=t,this._changeDetectorRef=n,this._router=a,this.merchantId="",this._unsubscribeAll=new v.x}ngOnInit(){this._activatedRoute.params.pipe((0,m.R)(this._unsubscribeAll)).subscribe(({merchantId:t})=>{void 0!==t&&(this.merchantId=t,this._changeDetectorRef.markForCheck())})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.gz),e.Y36(e.sBO),e.Y36(d.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ath-hrm"]],decls:62,vars:6,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-wrap","p-6","sm:flex-row","flex-0","sm:items-center","sm:justify-between","sm:pt-12","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"ml-1","text-primary-500","hover:underline",3,"routerLink"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"flex-auto","p-6","sm:p-10"],[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","w-full"],[1,"grid","grid-flow-row","grid-cols-1","mt-8","sm:grid-cols-2","lg:grid-cols-4","gap-y-12","sm:gap-x-4"],["routerLink","/modules/hrm/departments",1,"flex","items-center","justify-between","w-full","p-6","cursor-pointer","max-w-80","filter-info","hover:shadow-md"],[1,"flex","flex-col"],[1,"text-2xl","font-semibold","leading-tight"],[1,"text-md","text-secondary"],["routerLink","/modules/hrm/charges",1,"flex","items-center","justify-between","w-full","p-6","cursor-pointer","max-w-80","filter-info","hover:shadow-md"],["routerLink","/modules/hrm/employees",1,"flex","items-center","justify-between","w-full","p-6","cursor-pointer","max-w-80","fl","filter-info","hover:shadow-md"],[1,"flex","items-center","justify-between","w-full","p-6","cursor-not-allowed","max-w-80","filter-info","hover:shadow-md",3,"matTooltip"],[1,"flex","items-center","justify-between","w-full","p-6","cursor-not-allowed","max-w-80","filter-info","hover:shadow-md"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Recursos Humanos"),e.qZA()()(),e.TgZ(12,"div",8)(13,"a",9),e._UZ(14,"mat-icon",6),e.TgZ(15,"span",10),e._uU(16,"Regresar"),e.qZA()()()(),e.TgZ(17,"div",11)(18,"div",12),e._uU(19," Recursos Humanos "),e.qZA()()()(),e.TgZ(20,"div",13)(21,"div",14)(22,"div",15)(23,"div",12),e._uU(24," M\xf3dulos "),e.qZA(),e.TgZ(25,"div",16)(26,"fuse-card",17)(27,"div",18)(28,"div",19),e._uU(29,"Departamentos"),e.qZA(),e.TgZ(30,"div",20),e._uU(31,"listado de departamentos o \xe1reas "),e.qZA()()(),e.TgZ(32,"fuse-card",21)(33,"div",18)(34,"div",19),e._uU(35,"Cargos"),e.qZA(),e.TgZ(36,"div",20),e._uU(37,"listado de cargos"),e.qZA()()(),e.TgZ(38,"fuse-card",22)(39,"div",18)(40,"div",19),e._uU(41,"Empleados"),e.qZA(),e.TgZ(42,"div",20),e._uU(43,"listado de empleados"),e.qZA()()(),e.TgZ(44,"fuse-card",23)(45,"div",18)(46,"div",19),e._uU(47,"Plantilla"),e.qZA(),e.TgZ(48,"div",20),e._uU(49,"estructura de la plantilla"),e.qZA()()(),e.TgZ(50,"fuse-card",24)(51,"div",18)(52,"div",19),e._uU(53,"Festivos"),e.qZA(),e.TgZ(54,"div",20),e._uU(55,"listado de d\xedas festivos"),e.qZA()()(),e.TgZ(56,"fuse-card",23)(57,"div",18)(58,"div",19),e._uU(59,"Aspirantes"),e.qZA(),e.TgZ(60,"div",20),e._uU(61,"listado de aspirantes"),e.qZA()()()()()()()()),2&t&&(e.xp6(6),e.MGl("routerLink","/home/",n.merchantId,""),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:chevron-left"),e.xp6(30),e.Q6J("matTooltip","Pr\xf3ximamente"),e.xp6(12),e.Q6J("matTooltip","Pr\xf3ximamente"))},dependencies:[d.rH,d.yS,g.y,x.PQ,c.Hw,f.gM],encapsulation:2,changeDetection:0}),o})();var y=l(6087),I=l(4847),E=l(9646),Y=l(6451),$=l(3900),Q=l(4004),k=l(5620);const me=o=>o.hrmCharges,ce=((0,k.P1)(me,o=>o.charge),(0,k.P1)(me,o=>o.charges));var X=l(8288),i=l(3075),q=l(8966),pe=l(5119),ee=l(4787),te=l(1910),F=l(9784);class ge{}var w=l(4062),J=l(1683),L=l(520),C=l(8505),S=l(4219),de=l(5714),oe=l(2340);const B=oe.N.API_URL;let P=(()=>{class o{constructor(t,n){this._httpClient=t,this.store=n}getCharges(t=0,n=20,a="name",s="asc",p=""){const b=(new L.LE).append("page",t).append("size",n).append("sort",a).append("order",s).append("search",p);return this._httpClient.get(`${B}/charges/`,{params:b}).pipe((0,C.b)(T=>{this.store.dispatch((0,de.Jr)({pagination:T.pagination})),this.store.dispatch((0,S.dH)({charges:T.dataArr}))}))}getActiveCharges(){return this._httpClient.get(`${B}/charges/active`).pipe((0,C.b)(t=>{this.store.dispatch((0,S.dH)({charges:t.dataArr}))}))}createCharge(t){return this._httpClient.post(`${B}/charges`,t).pipe((0,C.b)(n=>{this.store.dispatch((0,S.TI)({charge:n.data}))}))}updateCharge(t){return this._httpClient.patch(`${B}/charges/${t._id}`,t).pipe((0,C.b)(n=>{this.store.dispatch((0,S.uE)({charge:n.data}))}))}deleteCharge(t){return this._httpClient.delete(`${B}/charges/${t}`).pipe((0,C.b)(()=>{this.store.dispatch((0,S.ek)({id:t}))}))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(L.eN),e.LFG(k.yh))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var N=l(7261),u=l(9808),z=l(508),D=l(7423),Z=l(7322),ne=l(7531),j=l(4107),re=l(2368);function Ae(o,r){1&o&&(e.TgZ(0,"h2",7),e._uU(1,"Agregar cargo"),e.qZA())}function ke(o,r){1&o&&(e.TgZ(0,"h2",7),e._uU(1,"Editar cargo"),e.qZA())}function Ie(o,r){1&o&&(e.TgZ(0,"h2",7),e._uU(1,"Detalles del cargo"),e.qZA())}function qe(o,r){if(1&o&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"h6",13),e._uU(6,"Nombre"),e.qZA(),e.TgZ(7,"span",14),e._uU(8),e.qZA()(),e.TgZ(9,"div",15)(10,"h6",13),e._uU(11,"Descripci\xf3n"),e.qZA(),e.TgZ(12,"span",14),e._uU(13),e.qZA()()()()()()),2&o){const t=e.oxw();e.xp6(8),e.Oqu(t.data.charge.name||"Sin nombre"),e.xp6(5),e.Oqu(t.data.charge.description||"Sin descripci\xf3n")}}function Fe(o,r){if(1&o&&(e.TgZ(0,"mat-option",31),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.name," ")}}function Ue(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar un Negocio. "),e.qZA())}function De(o,r){if(1&o&&(e.TgZ(0,"div",28)(1,"mat-form-field",20)(2,"mat-label"),e._uU(3,"Negocio"),e.qZA(),e.TgZ(4,"mat-select",29),e.YNc(5,Fe,2,2,"mat-option",30),e.qZA(),e.YNc(6,Ue,2,0,"mat-error",6),e.TgZ(7,"mat-hint"),e._uU(8,"Seleccione el negocio al cual pertenece el cargo"),e.qZA()()()),2&o){const t=r.ngIf,n=e.oxw(2);e.xp6(4),e.Q6J("formControlName","merchantId"),e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",n.trackByFn),e.xp6(1),e.Q6J("ngIf",n.chargeForm.get("merchantId").hasError("required"))}}function Ee(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del cargo es obligatorio. "),e.qZA())}function Qe(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del cargo debe contener entre 3 y 255 caracteres. "),e.qZA())}function we(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La descripci\xf3n del cargo debe contener al menos 5 caracteres. "),e.qZA())}function Je(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El salario debe contener solo n\xfameros. "),e.qZA())}function Ne(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El salario es obligatorio "),e.qZA())}function He(o,r){if(1&o&&(e.TgZ(0,"div",16)(1,"div",9)(2,"form",17),e.YNc(3,De,9,4,"div",18),e.ALo(4,"async"),e.TgZ(5,"div",19)(6,"mat-form-field",20)(7,"mat-label"),e._uU(8,"Nombre"),e.qZA(),e._UZ(9,"input",21),e.YNc(10,Ee,2,0,"mat-error",6),e.YNc(11,Qe,2,0,"mat-error",6),e.qZA()(),e.TgZ(12,"div",22)(13,"mat-form-field",23)(14,"mat-label"),e._uU(15,"Requisito"),e.qZA(),e._UZ(16,"mat-icon",24)(17,"textarea",25),e.YNc(18,we,2,0,"mat-error",6),e.qZA()(),e.TgZ(19,"div",22)(20,"mat-form-field",20)(21,"mat-label"),e._uU(22,"Salario"),e.qZA(),e._UZ(23,"input",26),e.YNc(24,Je,2,0,"mat-error",6),e.YNc(25,Ne,2,0,"mat-error",6),e.qZA()(),e.TgZ(26,"div",19)(27,"mat-slide-toggle",27),e._uU(28," Activo "),e.qZA()()()()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.chargeForm)("autocomplete","off"),e.xp6(1),e.Q6J("ngIf",e.lcZ(4,23,t.merchants$)),e.xp6(6),e.Q6J("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del cargo"),e.xp6(1),e.Q6J("ngIf",t.chargeForm.get("name").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.chargeForm.get("name").hasError("maxlength")||t.chargeForm.get("name").hasError("minlength")),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:menu-alt-2"),e.xp6(1),e.Q6J("formControlName","requirement")("rows",3)("spellcheck",!1)("minlength",5),e.xp6(1),e.Q6J("ngIf",t.chargeForm.get("requirement").hasError("minlength")),e.xp6(5),e.Q6J("formControlName","salary")("placeholder","Salario"),e.xp6(1),e.Q6J("ngIf",t.chargeForm.get("salary").hasError("pattern")),e.xp6(1),e.Q6J("ngIf",t.chargeForm.get("salary").hasError("required")),e.xp6(2),e.Q6J("value",!0)("color","primary")("formControlName","active")}}const ue=function(o){return{"cursor-not-allowed":o}};function Ye(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",34),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.updateCharge())}),e._uU(2," Actualizar "),e.qZA(),e.BQk()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("color","primary")("matDialogClose","confirmed")("disabled",t.chargeForm.invalid)("ngClass",e.VKq(4,ue,t.chargeForm.invalid))}}function Le(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",34),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.createCharge())}),e._uU(2," Agregar "),e.qZA(),e.BQk()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("color","primary")("matDialogClose","confirmed")("disabled",t.chargeForm.invalid)("ngClass",e.VKq(4,ue,t.chargeForm.invalid))}}function Se(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",32),e.ynx(2),e.TgZ(3,"button",33),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.deleteSelectedCharge())}),e._uU(4," Cancelar "),e.qZA(),e.BQk(),e.YNc(5,Ye,3,6,"ng-container",6),e.YNc(6,Le,3,6,"ng-container",6),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("matDialogClose","cancelled"),e.xp6(2),e.Q6J("ngIf","edit"===t.data.dialogMode),e.xp6(1),e.Q6J("ngIf","add"===t.data.dialogMode)}}let Be=(()=>{class o{constructor(t,n,a,s,p,b,T,M){this.data=t,this._activatedRoute=n,this._changeDetectorRef=a,this._formBuilder=s,this._fuseConfirmationService=p,this._chargesService=b,this._snackBar=T,this.store=M,this.charge=new ge,this.dialogMode="view",this.merchants=[],this.selectedMerchant=null,this.selectedMerchant$=null,this.user=null,this.user$=(0,E.of)(null),this.merchants$=null,this._unsubscribeAll=new v.x}ngOnInit(){this.user$=this.store.select(ee.rk),this.user$.subscribe(t=>{this.user=t,this._changeDetectorRef.markForCheck()}),this.merchants$=this.store.select(te.UV),this.chargeForm=this._formBuilder.group({_id:[""],active:[!0,[i.kI.required]],userId:[this.user._id,[i.kI.required]],merchantId:[this.user.merchantId,[i.kI.required]],name:["",[i.kI.required,i.kI.minLength(3),i.kI.maxLength(255)]],slug:[""],requirement:["",[i.kI.minLength(5),i.kI.maxLength(1e3)]],salary:[0,[i.kI.required,i.kI.min(0)]]}),"edit"===this.data.dialogMode&&(this.chargeForm.patchValue(this.data.charge),this.chargeForm.get("merchantId").setValue(this.data.charge.merchantId._id))}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createCharge(){let t=this.chargeForm.getRawValue();t=(0,pe.Z)(t,"_id"),t.slug=new w.i(t.name).slug,this._fuseConfirmationService.open({title:"Crear Cargo",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(a=>{"confirmed"===a&&this._chargesService.createCharge(t).subscribe(s=>{this._snackBar.openFromComponent(F.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"border"}}),this._changeDetectorRef.markForCheck()}),this._changeDetectorRef.markForCheck()})}updateCharge(){const t=this.chargeForm.getRawValue();t.slug=new w.i(t.name).slug,this._fuseConfirmationService.open({title:"Actualizar Cargo",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(a=>{"confirmed"===a&&this._chargesService.updateCharge(t).subscribe(s=>{this._snackBar.openFromComponent(F.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"border"}}),this._changeDetectorRef.markForCheck()}),this._changeDetectorRef.markForCheck()})}trackByFn(t,n){return n.id||t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(q.WI),e.Y36(d.gz),e.Y36(e.sBO),e.Y36(i.qu),e.Y36(J.R),e.Y36(P),e.Y36(N.ux),e.Y36(k.yh))},o.\u0275cmp=e.Xpm({type:o,selectors:[["charges-detail"]],decls:12,vars:6,consts:[[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl text-gray-400",4,"ngIf"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],["class","flex-auto",4,"ngIf"],["class","w-full overflow-hidden",4,"ngIf"],[4,"ngIf"],[1,"text-2xl","text-gray-400"],[1,"flex-auto"],[1,"flex"],[1,"flex","flex-col","w-full","mt-5"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"w-full","py-10","my-10"],[1,"mb-2","font-medium"],[1,"border-sm"],[1,"w-full","pb-4","my-10"],[1,"w-full","overflow-hidden"],[1,"flex","flex-col","w-full","mt-1",3,"formGroup","autocomplete"],["class","pt-5 sm:col-span-2",4,"ngIf"],[1,"sm:col-span-2"],[1,"w-full"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],[1,"pt-4","sm:col-span-2"],[1,"w-full","fuse-mat-textarea","flex-auto"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","matTextareaAutosize","",3,"formControlName","rows","spellcheck","minlength"],["type","number","matInput","","required","",3,"formControlName","placeholder"],[1,"pt-4","mb-2",3,"value","color","formControlName"],[1,"pt-5","sm:col-span-2"],["required","",3,"formControlName"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[3,"value"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose","click"],["mat-flat-button","",3,"color","matDialogClose","disabled","ngClass","click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1),e.YNc(3,Ae,2,0,"h2",2),e.YNc(4,ke,2,0,"h2",2),e.YNc(5,Ie,2,0,"h2",2),e.qZA(),e.BQk(),e.TgZ(6,"div",3),e.ynx(7),e.YNc(8,qe,14,2,"div",4),e.BQk(),e.ynx(9),e.YNc(10,He,29,25,"div",5),e.BQk(),e.qZA(),e.YNc(11,Se,7,3,"ng-container",6),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngIf",null===n.data.charge._id&&"add"===n.data.dialogMode),e.xp6(1),e.Q6J("ngIf",n.data.charge._id&&"edit"===n.data.dialogMode),e.xp6(1),e.Q6J("ngIf",n.data.charge._id&&"view"===n.data.dialogMode),e.xp6(3),e.Q6J("ngIf","view"===n.data.dialogMode),e.xp6(2),e.Q6J("ngIf","edit"===n.data.dialogMode||"add"),e.xp6(1),e.Q6J("ngIf","view"!==n.data.dialogMode))},dependencies:[u.mk,u.sg,u.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.Q7,i.wO,i.nD,i.sg,i.u,z.ey,D.lW,q.ZT,c.Hw,Z.TO,Z.KE,Z.bx,Z.hX,Z.qo,ne.Nt,j.gD,re.Rr,u.Ov],encapsulation:2,changeDetection:0}),o})();var ae=l(6428);function Re(o,r){1&o&&(e.ynx(0),e._UZ(1,"mat-icon",40),e.BQk()),2&o&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:check"))}function Oe(o,r){1&o&&(e.ynx(0),e._UZ(1,"mat-icon",41),e.BQk()),2&o&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:x"))}const Me=function(){return["$"]};function $e(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",32)(2,"div",33),e._uU(3),e.qZA(),e.TgZ(4,"div",33),e._uU(5),e.qZA(),e.TgZ(6,"div",34),e._uU(7),e.qZA(),e.TgZ(8,"div",35),e._uU(9),e.ALo(10,"currency"),e.qZA(),e.TgZ(11,"div",36),e.YNc(12,Re,2,1,"ng-container",29),e.YNc(13,Oe,2,1,"ng-container",29),e.qZA(),e.TgZ(14,"div",37)(15,"button",38),e.NdJ("click",function(){const s=e.CHM(t).$implicit,p=e.oxw(4);return e.KtG(p.editCharge(s))}),e._UZ(16,"mat-icon",39),e.qZA(),e.TgZ(17,"button",38),e.NdJ("click",function(){const s=e.CHM(t).$implicit,p=e.oxw(4);return e.KtG(p.deleteCharge(s._id))}),e._UZ(18,"mat-icon",39),e.qZA()()(),e.BQk()}if(2&o){const t=r.$implicit;e.xp6(3),e.hij(" ",t.merchantId.name," "),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.requirement," "),e.xp6(2),e.hij(" ",e.xi3(10,8,t.salary,e.DdM(11,Me))," "),e.xp6(3),e.Q6J("ngIf",t.active),e.xp6(1),e.Q6J("ngIf",!t.active),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:pencil"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function Pe(o,r){if(1&o&&(e.ynx(0),e.YNc(1,$e,19,12,"ng-container",31),e.BQk()),2&o){const t=r.ngIf,n=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",n.trackByFn)}}const ze=function(o){return{"pointer-events-none":o}},je=function(){return[10,25,50,100]};function Ge(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"div",22)(2,"div",23)(3,"div"),e._uU(4," Negocio "),e.qZA(),e.TgZ(5,"div",24),e._uU(6," Nombre "),e.qZA(),e.TgZ(7,"div",25),e._uU(8," Requisitos "),e.qZA(),e.TgZ(9,"div",26),e._uU(10," Salario "),e.qZA(),e.TgZ(11,"div",27),e._uU(12," Activo "),e.qZA(),e.TgZ(13,"div",28),e._uU(14," Acciones "),e.qZA()(),e.YNc(15,Pe,2,2,"ng-container",29),e.ALo(16,"async"),e._UZ(17,"mat-paginator",30),e.qZA(),e.BQk()),2&o){const t=e.oxw(2);e.xp6(5),e.Q6J("mat-sort-header","name"),e.xp6(4),e.Q6J("mat-sort-header","salary"),e.xp6(2),e.Q6J("mat-sort-header","active"),e.xp6(4),e.Q6J("ngIf",e.lcZ(16,10,t.charges$)),e.xp6(2),e.Q6J("ngClass",e.VKq(12,ze,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(14,je))("showFirstLastButtons",!0)}}function Ve(o,r){if(1&o&&(e.ynx(0),e.YNc(1,Ge,18,15,"ng-container",20),e.BQk()),2&o){const t=r.ngIf;e.oxw();const n=e.MAs(34);e.xp6(1),e.Q6J("ngIf",t.length>0)("ngIfElse",n)}}function Ke(o,r){1&o&&(e.TgZ(0,"div",42),e._uU(1,"No ha creado ning\xfan cargo a\xfan!"),e.qZA())}let We=(()=>{class o{constructor(t,n,a,s,p,b){this._changeDetectorRef=t,this._chargeService=n,this._dialog=a,this._fuseConfirmationService=s,this._snackBar=p,this.store=b,this.merchantId="",this.charges$=(0,E.of)([]),this.charge=new ge,this.isLoading=!1,this._unsubscribeAll=new v.x}ngOnInit(){this.charges$=this.store.select(ce),this.store.select(ae.B).pipe((0,m.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"active",start:"desc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,m.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,Y.T)(this._sort.sortChange,this._paginator.page).pipe((0,$.w)(()=>(this.isLoading=!0,this._chargeService.getCharges(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,Q.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createCharge(){this._openDialog(this.charge,"add")}editCharge(t){this._openDialog(t,"edit")}deleteCharge(t){this._fuseConfirmationService.open({title:"Eliminar Cargo",message:"\xbfEsta seguro que desea Eliminar el cargo? Perder\xe1 el acceso a todos los datos asociados al mismo.",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(a=>{"confirmed"===a&&this._chargeService.deleteCharge(t).subscribe(s=>{this._snackBar.openFromComponent(F.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"border"}}),this._changeDetectorRef.markForCheck()}),this._changeDetectorRef.markForCheck()})}trackByFn(t,n){return n.id||t}_openDialog(t,n){this._dialog.open(Be,{width:"600px",data:{charge:t,dialogMode:n},panelClass:"ath-dialog-panel"})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.sBO),e.Y36(P),e.Y36(q.uw),e.Y36(J.R),e.Y36(N.ux),e.Y36(k.yh))},o.\u0275cmp=e.Xpm({type:o,selectors:[["hrm-charges"]],viewQuery:function(t,n){if(1&t&&(e.Gf(y.NW,5),e.Gf(I.YE,5)),2&t){let a;e.iGM(a=e.CRH())&&(n._paginator=a.first),e.iGM(a=e.CRH())&&(n._sort=a.first)}},decls:35,vars:9,consts:[["cdkScrollable","",1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","sm:overflow-hidden","bg-card","dark:bg-transparent","overflow-hidden","sm:overflow-y-auto"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/desktop",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"flex","items-center","flex-shrink-0","mt-6","sm:mt-0","sm:ml-4"],["mat-raised-button","",1,"ml-4","text-white","bg-primary-500","hover:bg-primary-700","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"flex","flex-auto"],[1,"flex","flex-col","flex-auto"],[4,"ngIf","ngIfElse"],["noCharges",""],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5","charges-table"],[3,"mat-sort-header"],[1,"hidden","lg:block"],[1,"hidden","md:block",3,"mat-sort-header"],[1,"hidden","text-center","sm:block",3,"mat-sort-header"],[1,"text-center"],[4,"ngIf"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","md:px-8","charges-table"],[1,"truncate"],[1,"hidden","truncate","lg:block"],[1,"hidden","md:block"],[1,"hidden","text-center","sm:block"],[1,"flex","flex-col","justify-center","gap-1","md:flex-row"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"text-green-400","icon-size-5",3,"svgIcon"],[1,"text-red-400","icon-size-5",3,"svgIcon"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Recursos Humanos"),e.qZA()(),e.TgZ(12,"div",4),e._UZ(13,"mat-icon",6),e.TgZ(14,"a",8),e._uU(15,"Cargos"),e.qZA()()(),e.TgZ(16,"div",9)(17,"a",10),e._UZ(18,"mat-icon",6),e.TgZ(19,"span",11),e._uU(20,"Regresar"),e.qZA()()()(),e.TgZ(21,"div",12)(22,"div",13),e._uU(23," Listado de Cargos "),e.qZA()()(),e.TgZ(24,"div",14)(25,"button",15),e.NdJ("click",function(){return n.createCharge()}),e._UZ(26,"mat-icon",16),e.TgZ(27,"span",17),e._uU(28,"Nuevo"),e.qZA()()()(),e.TgZ(29,"div",18)(30,"div",19),e.YNc(31,Ve,2,2,"ng-container",20),e.ALo(32,"async"),e.YNc(33,Ke,2,0,"ng-template",null,21,e.W1O),e.qZA()()()),2&t){const a=e.MAs(34);e.xp6(9),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:chevron-left"),e.xp6(8),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(5),e.Q6J("ngIf",e.lcZ(32,7,n.charges$))("ngIfElse",a)}},dependencies:[d.yS,u.mk,u.sg,u.O5,x.PQ,D.lW,c.Hw,y.NW,I.YE,I.nU,u.Ov,u.H9],encapsulation:2,data:{animation:X.L},changeDetection:0}),o})();var R=l(679),Xe=l(1235);const O=oe.N.API_URL;let G=(()=>{class o{constructor(t,n,a){this._httpClient=t,this.rolesService=n,this.store=a}getDepartments(t=0,n=20,a="name",s="asc",p=""){const b=(new L.LE).append("page",t).append("size",n).append("sort",a).append("order",s).append("search",p);return this._httpClient.get(`${O}/departments/`,{params:b}).pipe((0,C.b)(T=>{this.store.dispatch((0,de.Jr)({pagination:T.pagination})),this.store.dispatch((0,R.xt)({departments:T.dataArr}))}))}getActiveDepartments(){return this._httpClient.get(`${O}/departments/active`).pipe((0,C.b)(t=>{this.store.dispatch((0,R.xt)({departments:t.dataArr}))}))}createDepartment(t){return this._httpClient.post(`${O}/departments`,t).pipe((0,C.b)(n=>{this.store.dispatch((0,R.v$)({department:n.data}))}))}updateDepartment(t){return this._httpClient.patch(`${O}/departments/${t._id}`,t).pipe((0,C.b)(n=>{this.store.dispatch((0,R.j4)({department:n.data}))}))}deleteDepartment(t){return this._httpClient.delete(`${O}/departments/${t}`).pipe((0,C.b)(()=>{this.store.dispatch((0,R.$m)({id:t}))}))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(L.eN),e.LFG(Xe.cM),e.LFG(k.yh))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function et(o,r){1&o&&(e.TgZ(0,"h2",7),e._uU(1,"Agregar departamento"),e.qZA())}function tt(o,r){1&o&&(e.TgZ(0,"h2",7),e._uU(1,"Editar departamento"),e.qZA())}function ot(o,r){1&o&&(e.TgZ(0,"h2",7),e._uU(1,"Detalles del departamento"),e.qZA())}function nt(o,r){if(1&o&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11),e.ynx(4),e.TgZ(5,"div",12)(6,"mat-label",13),e._uU(7,"Nombre"),e.qZA(),e.TgZ(8,"div",14),e._uU(9),e.qZA()(),e.BQk(),e.ynx(10),e.TgZ(11,"div",12)(12,"mat-label",13),e._uU(13,"Nombre"),e.qZA(),e.TgZ(14,"div",14),e._uU(15),e.qZA()(),e.BQk(),e.qZA()()()()),2&o){const t=e.oxw();e.xp6(9),e.Oqu(t.data.department.name),e.xp6(6),e.Oqu(t.data.department.description)}}function rt(o,r){if(1&o&&(e.TgZ(0,"mat-option",29),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.name," ")}}function at(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar un Negocio. "),e.qZA())}function it(o,r){if(1&o&&(e.TgZ(0,"div",26)(1,"mat-form-field",19)(2,"mat-label"),e._uU(3,"Negocio"),e.qZA(),e.TgZ(4,"mat-select",27),e.YNc(5,rt,2,2,"mat-option",28),e.qZA(),e.YNc(6,at,2,0,"mat-error",6),e.TgZ(7,"mat-hint"),e._uU(8,"Seleccione el negocio al cual pertenece el departamento"),e.qZA()()()),2&o){const t=r.ngIf,n=e.oxw(2);e.xp6(4),e.Q6J("formControlName","merchantId"),e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",n.trackByFn),e.xp6(1),e.Q6J("ngIf",n.departmentForm.get("merchantId").hasError("required"))}}function st(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del departamento es obligatorio. "),e.qZA())}function lt(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del departamento debe contener entre 3 y 255 caracteres. "),e.qZA())}function mt(o,r){if(1&o&&(e.TgZ(0,"div",15)(1,"div",9)(2,"form",16),e.YNc(3,it,9,4,"div",17),e.ALo(4,"async"),e.TgZ(5,"div",18)(6,"mat-form-field",19)(7,"mat-label"),e._uU(8,"Nombre"),e.qZA(),e._UZ(9,"input",20),e.YNc(10,st,2,0,"mat-error",6),e.YNc(11,lt,2,0,"mat-error",6),e.qZA()(),e.TgZ(12,"div",21)(13,"mat-form-field",22)(14,"mat-label"),e._uU(15,"Descripci\xf3n del Departamento"),e.qZA(),e._UZ(16,"mat-icon",23)(17,"textarea",24),e.qZA()(),e.TgZ(18,"div",18)(19,"mat-slide-toggle",25),e._uU(20," Activo "),e.qZA()()()()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.departmentForm)("autocomplete","off"),e.xp6(1),e.Q6J("ngIf",e.lcZ(4,18,t.merchants$)),e.xp6(6),e.Q6J("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del departamento"),e.xp6(1),e.Q6J("ngIf",t.departmentForm.get("name").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.departmentForm.get("name").hasError("maxlength")||t.departmentForm.get("name").hasError("minlength")),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:menu-alt-2"),e.xp6(1),e.Q6J("formControlName","description")("rows",3)("spellcheck",!1)("maxlength",1e3),e.xp6(2),e.Q6J("value",!0)("color","primary")("formControlName","active")}}const _e=function(o){return{"cursor-not-allowed":o}};function ct(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",32),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.updateDepartment())}),e._uU(2," Actualizar "),e.qZA(),e.BQk()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("color","primary")("matDialogClose","confirmed")("disabled",t.departmentForm.invalid)("ngClass",e.VKq(4,_e,t.departmentForm.invalid))}}function pt(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",32),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.createDepartment())}),e._uU(2," Agregar "),e.qZA(),e.BQk()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("color","primary")("matDialogClose","confirmed")("disabled",t.departmentForm.invalid)("ngClass",e.VKq(4,_e,t.departmentForm.invalid))}}function gt(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"div",30),e.ynx(2),e.TgZ(3,"button",31),e._uU(4," Cancelar "),e.qZA(),e.BQk(),e.YNc(5,ct,3,6,"ng-container",6),e.YNc(6,pt,3,6,"ng-container",6),e.qZA(),e.BQk()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("matDialogClose","cancelled"),e.xp6(2),e.Q6J("ngIf","edit"===t.data.dialogMode),e.xp6(1),e.Q6J("ngIf","add"===t.data.dialogMode)}}let he=(()=>{class o{constructor(t,n,a,s,p,b,T,M){this.data=t,this._activatedRoute=n,this._changeDetectorRef=a,this._formBuilder=s,this._fuseConfirmationService=p,this._hrmDepartmentsService=b,this._snackBar=T,this.store=M,this.dialogMode="view",this.user$=(0,E.of)(null),this.merchants$=null,this._unsubscribeAll=new v.x}ngOnInit(){this.user$=this.store.select(ee.rk),this.user$.subscribe(t=>{this.user=t,this._changeDetectorRef.markForCheck()}),this.merchants$=this.store.select(te.UV),this.departmentForm=this._formBuilder.group({_id:[""],active:[!1],merchantId:["",[i.kI.required]],userId:[this.user._id,[i.kI.required]],code:[{value:"",disabled:!0}],name:["",[i.kI.required,i.kI.minLength(3),i.kI.maxLength(255)]],slug:[""],description:["",[i.kI.maxLength(1e3)]]}),"edit"===this.data.dialogMode&&(this.departmentForm.patchValue(this.data.department),this.departmentForm.get("merchantId").setValue(this.data.department.merchantId._id))}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createDepartment(){let t=this.departmentForm.getRawValue();t=(0,pe.Z)(t,"_id"),t.slug=new w.i(t.name).slug,this._fuseConfirmationService.open({title:"Crear Departamento",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(a=>{"confirmed"===a&&this._hrmDepartmentsService.createDepartment(t).subscribe(s=>{this._snackBar.openFromComponent(F.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"border"}}),this._changeDetectorRef.markForCheck()}),this._changeDetectorRef.markForCheck()})}updateDepartment(){const t=this.departmentForm.getRawValue();t.slug=new w.i(t.name).slug,this._fuseConfirmationService.open({title:"Actualizar Departamento",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(a=>{"confirmed"===a&&this._hrmDepartmentsService.updateDepartment(t).subscribe(s=>{this._snackBar.openFromComponent(F.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"border"}}),this._changeDetectorRef.markForCheck()}),this._changeDetectorRef.markForCheck()})}trackByFn(t,n){return n.id||t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(q.WI),e.Y36(d.gz),e.Y36(e.sBO),e.Y36(i.qu),e.Y36(J.R),e.Y36(G),e.Y36(N.ux),e.Y36(k.yh))},o.\u0275cmp=e.Xpm({type:o,selectors:[["department-detail"]],decls:12,vars:6,consts:[[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl text-gray-400",4,"ngIf"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],["class","flex-auto",4,"ngIf"],["class","w-full overflow-hidden",4,"ngIf"],[4,"ngIf"],[1,"text-2xl","text-gray-400"],[1,"flex-auto"],[1,"flex"],[1,"flex","flex-col","w-full","mt-5"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"flex","sm:items-center"],[1,"min-w-56","font-semibold"],[1,"leading-6"],[1,"w-full","overflow-hidden"],[1,"flex","flex-col","w-full","mt-1",3,"formGroup","autocomplete"],["class","pt-5 sm:col-span-2",4,"ngIf"],[1,"sm:col-span-2"],[1,"w-full"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],[1,"pt-4","sm:col-span-2"],[1,"w-full","fuse-mat-textarea","flex-auto"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","matTextareaAutosize","",3,"formControlName","rows","spellcheck","maxlength"],[1,"pt-4","mb-2",3,"value","color","formControlName"],[1,"pt-5","sm:col-span-2"],["required","",3,"formControlName"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[3,"value"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","matDialogClose","disabled","ngClass","click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1),e.YNc(3,et,2,0,"h2",2),e.YNc(4,tt,2,0,"h2",2),e.YNc(5,ot,2,0,"h2",2),e.qZA(),e.BQk(),e.TgZ(6,"div",3),e.ynx(7),e.YNc(8,nt,16,2,"div",4),e.BQk(),e.ynx(9),e.YNc(10,mt,21,20,"div",5),e.BQk(),e.qZA(),e.YNc(11,gt,7,3,"ng-container",6),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngIf",null===n.data.department._id&&"add"===n.data.dialogMode),e.xp6(1),e.Q6J("ngIf",n.data.department._id&&"edit"===n.data.dialogMode),e.xp6(1),e.Q6J("ngIf",n.data.department._id&&"view"===n.data.dialogMode),e.xp6(3),e.Q6J("ngIf","view"===n.data.dialogMode),e.xp6(2),e.Q6J("ngIf","edit"===n.data.dialogMode||"add"),e.xp6(1),e.Q6J("ngIf","view"!==n.data.dialogMode))},dependencies:[u.mk,u.sg,u.O5,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.wO,i.nD,i.sg,i.u,z.ey,D.lW,q.ZT,c.Hw,Z.TO,Z.KE,Z.bx,Z.hX,Z.qo,ne.Nt,j.gD,re.Rr,u.Ov],encapsulation:2,changeDetection:0}),o})();class fe{}const xe=o=>o.hrmDepartments,ve=((0,k.P1)(xe,o=>o.department),(0,k.P1)(xe,o=>o.departments));function dt(o,r){1&o&&(e.ynx(0),e._UZ(1,"mat-icon",38),e.BQk()),2&o&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:check"))}function ut(o,r){1&o&&(e.ynx(0),e._UZ(1,"mat-icon",39),e.BQk()),2&o&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:x"))}function _t(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",31)(2,"div",32),e._uU(3),e.qZA(),e.TgZ(4,"div",32),e._uU(5),e.qZA(),e.TgZ(6,"div",33),e._uU(7),e.qZA(),e.TgZ(8,"div",34),e.YNc(9,dt,2,1,"ng-container",20),e.YNc(10,ut,2,1,"ng-container",20),e.qZA(),e.TgZ(11,"div",35)(12,"button",36),e.NdJ("click",function(){const s=e.CHM(t).$implicit,p=e.oxw(4);return e.KtG(p.editDepartment(s))}),e._UZ(13,"mat-icon",37),e.qZA(),e.TgZ(14,"button",36),e.NdJ("click",function(){const s=e.CHM(t).$implicit,p=e.oxw(4);return e.KtG(p.deleteDepartment(s))}),e._UZ(15,"mat-icon",37),e.qZA()()(),e.BQk()}if(2&o){const t=r.$implicit;e.xp6(3),e.hij(" ",t.merchantId.name," "),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.description," "),e.xp6(2),e.Q6J("ngIf",t.active),e.xp6(1),e.Q6J("ngIf",!t.active),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:pencil"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function ht(o,r){if(1&o&&(e.ynx(0),e.YNc(1,_t,16,7,"ng-container",30),e.BQk()),2&o){const t=r.ngIf,n=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",n.trackByFn)}}const ft=function(o){return{"pointer-events-none":o}},xt=function(){return[10,25,50,100]};function vt(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"div",23)(2,"div",24)(3,"div"),e._uU(4," Negocio "),e.qZA(),e.TgZ(5,"div",25),e._uU(6," Nombre "),e.qZA(),e.TgZ(7,"div",26),e._uU(8," Descripci\xf3n "),e.qZA(),e.TgZ(9,"div",27),e._uU(10," Activo "),e.qZA(),e.TgZ(11,"div",28),e._uU(12," Acciones "),e.qZA()(),e.YNc(13,ht,2,2,"ng-container",20),e.ALo(14,"async"),e._UZ(15,"mat-paginator",29),e.qZA(),e.BQk()),2&o){const t=e.oxw(2);e.xp6(5),e.Q6J("mat-sort-header","name"),e.xp6(4),e.Q6J("mat-sort-header","active"),e.xp6(4),e.Q6J("ngIf",e.lcZ(14,9,t.departments$)),e.xp6(2),e.Q6J("ngClass",e.VKq(11,ft,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(13,xt))("showFirstLastButtons",!0)}}function yt(o,r){if(1&o&&(e.ynx(0),e.YNc(1,vt,16,14,"ng-container",22),e.BQk()),2&o){const t=r.ngIf;e.oxw();const n=e.MAs(34);e.xp6(1),e.Q6J("ngIf",t.length>0)("ngIfElse",n)}}function Zt(o,r){1&o&&(e.TgZ(0,"div",40),e._uU(1,"No ha creado ning\xfan departamento a\xfan!"),e.qZA())}let bt=(()=>{class o{constructor(t,n,a,s,p,b){this._changeDetectorRef=t,this._fuseConfirmationService=n,this._departmentService=a,this._snackBar=s,this.dialog=p,this.store=b,this.merchantId="",this.department=new fe,this.flashMessage=null,this.isLoading=!1,this.searchInputControl=new i.NI,this._unsubscribeAll=new v.x}ngOnInit(){this.departments$=this.store.select(ve),this.store.select(ae.B).pipe((0,m.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"active",start:"desc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,m.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,Y.T)(this._sort.sortChange,this._paginator.page).pipe((0,$.w)(()=>(this.isLoading=!0,this._departmentService.getDepartments(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,Q.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createDepartment(){this._openDialog(this.department,"add")}editDepartment(t){this._openDialog(t,"edit")}deleteDepartment(t){this._fuseConfirmationService.open({title:"Eliminar Usuario",message:`\xbfEst\xe1 seguro que desea eliminar el departamento ${t.name}? Perder\xe1 el acceso a todos los datos asociados al mismo.`,icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(a=>{"confirmed"===a&&this._departmentService.deleteDepartment(t._id).subscribe(s=>{this._snackBar.openFromComponent(F.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"border",svgIcon:"heroicons_solid:check"}}),this._changeDetectorRef.markForCheck()})}),this._changeDetectorRef.markForCheck()}showFlashMessage(t){this.flashMessage=t,this._changeDetectorRef.markForCheck(),setTimeout(()=>{this.flashMessage=null,this._changeDetectorRef.markForCheck()},3e3)}trackByFn(t,n){return n.id||t}_openDialog(t,n){this.dialog.open(he,{width:"600px",data:{department:t,dialogMode:n},panelClass:"ath-dialog-panel"})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.sBO),e.Y36(J.R),e.Y36(G),e.Y36(N.ux),e.Y36(q.uw),e.Y36(k.yh))},o.\u0275cmp=e.Xpm({type:o,selectors:[["hrm-departments"]],viewQuery:function(t,n){if(1&t&&(e.Gf(y.NW,5),e.Gf(I.YE,5)),2&t){let a;e.iGM(a=e.CRH())&&(n._paginator=a.first),e.iGM(a=e.CRH())&&(n._sort=a.first)}},decls:35,vars:8,consts:[["cdkScrollable","",1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","sm:overflow-hidden","bg-card","dark:bg-transparent","overflow-hidden","sm:overflow-y-auto"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/desktop",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"flex","items-center","flex-shrink-0","mt-6","sm:mt-0","sm:ml-4"],["mat-raised-button","",1,"ml-4","text-white","bg-primary-500","hover:bg-primary-700","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"flex","flex-auto"],[1,"flex","flex-col","flex-auto"],[4,"ngIf"],["noDepartments",""],[4,"ngIf","ngIfElse"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","departments-table","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[3,"mat-sort-header"],[1,"hidden","lg:block"],[1,"hidden","text-center","md:block",3,"mat-sort-header"],[1,"text-center"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","departments-table","md:px-8"],[1,"truncate"],[1,"hidden","truncate","lg:block"],[1,"hidden","text-center","md:block"],[1,"flex","flex-col","justify-center","gap-2","md:flex-row"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"text-green-400","icon-size-5",3,"svgIcon"],[1,"text-red-400","icon-size-5",3,"svgIcon"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Recursos Humanos"),e.qZA()(),e.TgZ(12,"div",4),e._UZ(13,"mat-icon",6),e.TgZ(14,"a",8),e._uU(15,"Departamentos"),e.qZA()()(),e.TgZ(16,"div",9)(17,"a",10),e._UZ(18,"mat-icon",6),e.TgZ(19,"span",11),e._uU(20,"Regresar"),e.qZA()()()(),e.TgZ(21,"div",12)(22,"div",13),e._uU(23," Departamentos "),e.qZA()()(),e.TgZ(24,"div",14)(25,"button",15),e.NdJ("click",function(){return n.createDepartment()}),e._UZ(26,"mat-icon",16),e.TgZ(27,"span",17),e._uU(28,"Nuevo"),e.qZA()()()(),e.TgZ(29,"div",18)(30,"div",19),e.YNc(31,yt,2,2,"ng-container",20),e.ALo(32,"async"),e.YNc(33,Zt,2,0,"ng-template",null,21,e.W1O),e.qZA()()()),2&t&&(e.xp6(9),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:chevron-left"),e.xp6(8),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(5),e.Q6J("ngIf",e.lcZ(32,6,n.departments$)))},dependencies:[d.yS,u.mk,u.sg,u.O5,x.PQ,D.lW,c.Hw,y.NW,I.YE,I.nU,u.Ov],encapsulation:2,data:{animation:X.L},changeDetection:0}),o})();var ye=l(2342),Ze=l(5439);class Ct{constructor(r){Object.assign(this,r),this.calcBirthdayAndAge()}calcBirthdayAndAge(){this.birthday=Ze(this.idNumber.substring(0,6),"YYMMDD"),this.age=Ze().diff(this.birthday,"years")}}function Tt(o,r){if(1&o&&e._UZ(0,"img",33),2&o){const t=e.oxw();e.Q6J("src",t.employee.imageUrl,e.LSH)}}function At(o,r){if(1&o&&(e.TgZ(0,"div",34),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.employee.name.charAt(0)," ")}}function kt(o,r){1&o&&(e.ynx(0),e._UZ(1,"mat-icon",35),e.BQk()),2&o&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:check"))}function It(o,r){1&o&&(e.ynx(0),e._UZ(1,"mat-icon",36),e.BQk()),2&o&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:x"))}function qt(o,r){if(1&o&&(e.TgZ(0,"div",40)(1,"span",41),e._uU(2,"\u2022"),e.qZA(),e.TgZ(3,"span",42),e._uU(4),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(4),e.Oqu(t.label)}}function Ft(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"div",37)(2,"a",38),e._uU(3),e.qZA(),e.YNc(4,qt,5,1,"div",39),e.qZA(),e.BQk()),2&o){const t=r.$implicit;e.xp6(2),e.Q6J("href","mailto:"+t.email,e.LSH),e.xp6(1),e.hij(" ",t.email," "),e.xp6(1),e.Q6J("ngIf",t.label)}}function Ut(o,r){if(1&o&&(e.TgZ(0,"div",40)(1,"span",41),e._uU(2,"\u2022"),e.qZA(),e.TgZ(3,"span",42),e._uU(4),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(4),e.Oqu(t.label)}}function Dt(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"div",37)(2,"div",43),e._uU(3),e.qZA(),e.TgZ(4,"div",43),e._uU(5),e.qZA(),e.YNc(6,Ut,5,1,"div",39),e.qZA(),e.BQk()),2&o){const t=r.$implicit;e.xp6(3),e.Oqu(t.stateCode),e.xp6(2),e.Oqu(t.phoneNumber),e.xp6(1),e.Q6J("ngIf",t.label)}}let Et=(()=>{class o{constructor(t,n,a){this.employee=t,this._dialogRef=n,this._router=a}closeDialog(){this._dialogRef.close()}editEmployee(){this.closeDialog(),this._router.navigateByUrl(`/modules/hrm/employees/${this.employee._id}`)}trackByFn(t,n){return n.id||t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(q.WI),e.Y36(q.so),e.Y36(d.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["employee-dialog"]],decls:173,vars:49,consts:[[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left","bg-gray-50"],["mat-dialog-title","",1,"mb-0"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-6","pt-1"],[1,"w-full"],[1,"flex","w-full"],[1,"flex","flex-col","justify-end","w-4/5","my-2"],[1,"text-4xl","font-bold","truncate"],[1,"flex","text-xl","font-bold","truncate"],[1,"mr-2.5",3,"svgIcon"],[1,"flex","justify-center","w-1/5","py-2"],[1,"flex","items-center","justify-center","w-32","h-32","overflow-hidden","rounded-full","ring-4","ring-bg-card"],["class","object-cover w-full h-full",3,"src",4,"ngIf"],["class","flex items-center justify-center w-full h-full overflow-hidden font-bold leading-none text-gray-600 uppercase bg-gray-200 rounded text-8xl dark:bg-gray-700 dark:text-gray-200",4,"ngIf"],[1,"flex","flex-col","border-t","gap-y-5"],[1,"flex","flex-col","w-full","gap-8","md:flex-row"],[1,"flex","flex-col","w-1/3","pt-6","mt-4","space-y-8"],[1,"flex","sm:items-center"],[1,"min-w-56","font-semibold"],[1,"leading-6"],[1,"min-w-56","font-semibold","pr-5"],[4,"ngIf"],[1,"flex","flex-col"],[1,"min-w-44","font-semibold"],[1,"flex"],[3,"svgIcon"],[1,"min-w-0","space-y-1"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"min-w-28","font-semibold"],[1,"flex","items-center","justify-between","w-full","px-8","py-4","mt-10","border-t","sm:px-12","bg-gray-50","dark:bg-transparent"],["mat-button","",3,"matTooltip","click"],["mat-flat-button","",3,"color","matTooltip","click"],[1,"object-cover","w-full","h-full",3,"src"],[1,"flex","items-center","justify-center","w-full","h-full","overflow-hidden","font-bold","leading-none","text-gray-600","uppercase","bg-gray-200","rounded","text-8xl","dark:bg-gray-700","dark:text-gray-200"],[1,"text-green-400","icon-size-5",3,"svgIcon"],[1,"text-gray-400","icon-size-5",3,"svgIcon"],[1,"flex","items-center","leading-6"],["target","_blank",1,"ml-2.5","hover:underline","text-primary-500",3,"href"],["class","truncate text-md text-secondary",4,"ngIf"],[1,"truncate","text-md","text-secondary"],[1,"mx-2"],[1,"font-medium"],[1,"ml-2.5","font-mono"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1)(3,"h2",2),e._uU(4,"Informaci\xf3n del empleado"),e.qZA()(),e.BQk(),e.TgZ(5,"div",3),e.ynx(6),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"span",8),e._uU(12),e.qZA(),e.TgZ(13,"span",9),e._UZ(14,"mat-icon",10),e._uU(15),e.ALo(16,"date"),e.qZA(),e.TgZ(17,"span",9),e._uU(18),e.qZA()(),e.TgZ(19,"div",11)(20,"div",12),e.YNc(21,Tt,1,1,"img",13),e.YNc(22,At,2,1,"div",14),e.qZA()()(),e.TgZ(23,"div",15)(24,"div",16)(25,"div",17),e.ynx(26),e.TgZ(27,"div",18)(28,"mat-label",19),e._uU(29,"C\xf3digo de empleado"),e.qZA(),e.TgZ(30,"div",20),e._uU(31),e.qZA()(),e.BQk(),e.ynx(32),e.TgZ(33,"div",18)(34,"mat-label",19),e._uU(35,"N\xfamero de identidad"),e.qZA(),e.TgZ(36,"div",20),e._uU(37),e.qZA()(),e.BQk(),e.ynx(38),e.TgZ(39,"div",18)(40,"mat-label",19),e._uU(41,"G\xe9nero"),e.qZA(),e.TgZ(42,"div",20),e._uU(43),e.ALo(44,"titlecase"),e.qZA()(),e.BQk(),e.ynx(45),e.TgZ(46,"div",18)(47,"mat-label",21),e._uU(48,"Activo"),e.qZA(),e.YNc(49,kt,2,1,"ng-container",22),e.YNc(50,It,2,1,"ng-container",22),e.qZA(),e.BQk(),e.qZA(),e.TgZ(51,"div",17),e.ynx(52),e.TgZ(53,"div",23)(54,"mat-label",24),e._uU(55,"Correos Electr\xf3nicos"),e.qZA(),e.TgZ(56,"div",25),e._UZ(57,"mat-icon",26),e.TgZ(58,"div",27),e.YNc(59,Ft,5,3,"ng-container",28),e.qZA()()(),e.BQk(),e.ynx(60),e.TgZ(61,"div",23)(62,"mat-label",24),e._uU(63,"Tel\xe9fonos"),e.qZA(),e.TgZ(64,"div",25),e._UZ(65,"mat-icon",26),e.TgZ(66,"div",27),e.YNc(67,Dt,7,3,"ng-container",28),e.qZA()()(),e.BQk(),e.qZA(),e.TgZ(68,"div",17),e.ynx(69),e.TgZ(70,"div",18)(71,"mat-label",29),e._uU(72,"Domicilio"),e.qZA(),e.TgZ(73,"div",20),e._uU(74),e.qZA()(),e.BQk(),e.ynx(75),e.TgZ(76,"div",18)(77,"mat-label",29),e._uU(78,"Pa\xeds"),e.qZA(),e.TgZ(79,"div",20),e._uU(80),e.ALo(81,"titlecase"),e.qZA()(),e.BQk(),e.ynx(82),e.TgZ(83,"div",18)(84,"mat-label",29),e._uU(85,"Provincia"),e.qZA(),e.TgZ(86,"div",20),e._uU(87),e.qZA()(),e.BQk(),e.ynx(88),e.TgZ(89,"div",18)(90,"mat-label",29),e._uU(91,"Municipio"),e.qZA(),e.TgZ(92,"div",20),e._uU(93),e.qZA()(),e.BQk(),e.ynx(94),e.TgZ(95,"div",18)(96,"mat-label",29),e._uU(97,"C\xf3digo Postal"),e.qZA(),e.TgZ(98,"div",20),e._uU(99),e.qZA()(),e.BQk(),e.qZA()(),e.TgZ(100,"div",16)(101,"div",17),e.ynx(102),e.TgZ(103,"div",18)(104,"mat-label",19),e._uU(105,"Fecha de contrataci\xf3n"),e.qZA(),e.TgZ(106,"div",20),e._uU(107),e.ALo(108,"date"),e.qZA()(),e.BQk(),e.ynx(109),e.TgZ(110,"div",18)(111,"mat-label",19),e._uU(112,"Tipo de contrato"),e.qZA(),e.TgZ(113,"div",20),e._uU(114),e.ALo(115,"titlecase"),e.qZA()(),e.BQk(),e.ynx(116),e.TgZ(117,"div",18)(118,"mat-label",19),e._uU(119,"Fecha de cierre del contrato "),e.qZA(),e.TgZ(120,"div",20),e._uU(121),e.ALo(122,"date"),e.qZA()(),e.BQk(),e.ynx(123),e.TgZ(124,"div",18)(125,"mat-label",19),e._uU(126,"Duraci\xf3n del contrato (en d\xedas) "),e.qZA(),e.TgZ(127,"div",20),e._uU(128),e.qZA()(),e.BQk(),e.qZA(),e.TgZ(129,"div",17),e.ynx(130),e.TgZ(131,"div",18)(132,"mat-label",29),e._uU(133,"Departamento"),e.qZA(),e.TgZ(134,"div",20),e._uU(135),e.qZA()(),e.BQk(),e.ynx(136),e.TgZ(137,"div",18)(138,"mat-label",29),e._uU(139,"Cargo"),e.qZA(),e.TgZ(140,"div",20),e._uU(141),e.qZA()(),e.BQk(),e.ynx(142),e.TgZ(143,"div",18)(144,"mat-label",29),e._uU(145,"Escolaridad"),e.qZA(),e.TgZ(146,"div",20),e._uU(147),e.qZA()(),e.BQk(),e.qZA(),e.TgZ(148,"div",17),e.ynx(149),e.TgZ(150,"div",18)(151,"mat-label",24),e._uU(152,"Frecuencia de pago"),e.qZA(),e.TgZ(153,"div",20),e._uU(154),e.qZA()(),e.BQk(),e.ynx(155),e.TgZ(156,"div",18)(157,"mat-label",24),e._uU(158,"M\xe9todo de pago"),e.qZA(),e.TgZ(159,"div",20),e._uU(160),e.qZA()(),e.BQk(),e.ynx(161),e.TgZ(162,"div",18)(163,"mat-label",24),e._uU(164,"Salario"),e.qZA(),e.TgZ(165,"div",20),e._uU(166),e.qZA()(),e.BQk(),e.qZA()()()()(),e.BQk(),e.qZA(),e.ynx(167),e.TgZ(168,"div",30)(169,"button",31),e.NdJ("click",function(){return n.closeDialog()}),e._uU(170," Cerrar "),e.qZA(),e.TgZ(171,"button",32),e.NdJ("click",function(){return n.editEmployee()}),e._uU(172," Editar "),e.qZA()(),e.BQk(),e.qZA()),2&t&&(e.xp6(12),e.lnq(" ",n.employee.name," ",n.employee.lastname1," ",n.employee.lastname2," "),e.xp6(2),e.Q6J("svgIcon","heroicons_outline:cake"),e.xp6(1),e.hij(" ",e.lcZ(16,37,n.employee.birthday)," "),e.xp6(3),e.hij(" ",n.employee.age," a\xf1os "),e.xp6(3),e.Q6J("ngIf",n.employee.imageUrl),e.xp6(1),e.Q6J("ngIf",!n.employee.imageUrl),e.xp6(9),e.Oqu(n.employee.code),e.xp6(6),e.Oqu(n.employee.idNumber),e.xp6(6),e.Oqu(e.lcZ(44,39,n.employee.gender)),e.xp6(6),e.Q6J("ngIf",n.employee.active),e.xp6(1),e.Q6J("ngIf",!n.employee.active),e.xp6(7),e.Q6J("svgIcon","heroicons_outline:mail"),e.xp6(2),e.Q6J("ngForOf",n.employee.emails)("ngForTrackBy",n.trackByFn),e.xp6(6),e.Q6J("svgIcon","heroicons_outline:phone"),e.xp6(2),e.Q6J("ngForOf",n.employee.phoneNumbers)("ngForTrackBy",n.trackByFn),e.xp6(7),e.Oqu(n.employee.address),e.xp6(6),e.Oqu(e.lcZ(81,41,n.employee.country)),e.xp6(7),e.Oqu(n.employee.state),e.xp6(6),e.Oqu(n.employee.city),e.xp6(6),e.Oqu(n.employee.postalCode),e.xp6(8),e.Oqu(e.lcZ(108,43,n.employee.dateOfJoining)),e.xp6(7),e.Oqu(e.lcZ(115,45,n.employee.typeOfContract)),e.xp6(7),e.hij(" ",e.lcZ(122,47,n.employee.contractEndDate)||"Indefinido"," "),e.xp6(7),e.hij("",n.employee.contractTime||"Indefinido"," "),e.xp6(7),e.Oqu(n.employee.department.name),e.xp6(6),e.Oqu(n.employee.charge.name),e.xp6(6),e.Oqu(n.employee.scholarship),e.xp6(7),e.Oqu(n.employee.salaryFreq),e.xp6(6),e.Oqu(n.employee.salaryMethod),e.xp6(6),e.Oqu(n.employee.salaryLevel||"Por definir"),e.xp6(3),e.Q6J("matTooltip","Cerrar"),e.xp6(2),e.Q6J("color","primary")("matTooltip","Editar"))},dependencies:[u.sg,u.O5,D.lW,q.uh,c.Hw,Z.hX,f.gM,u.rS,u.uU],encapsulation:2,changeDetection:0}),o})();var V=l(5181);function Qt(o,r){if(1&o&&e._UZ(0,"img",45),2&o){const t=e.oxw().$implicit;e.Q6J("alt","Foto")("src",t.imageUrl,e.LSH)}}function wt(o,r){1&o&&(e.TgZ(0,"div",46),e._uU(1," SIN FOTO "),e.qZA())}function Jt(o,r){if(1&o&&(e.TgZ(0,"div",47),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.charge.name," ")}}function Nt(o,r){if(1&o&&(e.TgZ(0,"div",47),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.title," ")}}function Ht(o,r){1&o&&(e.ynx(0),e._UZ(1,"mat-icon",48),e.BQk()),2&o&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:check"))}function Yt(o,r){1&o&&(e.ynx(0),e._UZ(1,"mat-icon",49),e.BQk()),2&o&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:x"))}function Lt(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",33)(2,"div",34)(3,"div",35),e.YNc(4,Qt,1,2,"img",36),e.YNc(5,wt,2,0,"div",37),e.qZA()(),e.TgZ(6,"div",38),e._uU(7),e.qZA(),e.TgZ(8,"div",39),e._uU(9),e.qZA(),e.TgZ(10,"div",40),e._uU(11),e.qZA(),e.YNc(12,Jt,2,1,"div",41),e.YNc(13,Nt,2,1,"div",41),e.TgZ(14,"div",26),e.YNc(15,Ht,2,1,"ng-container",20),e.YNc(16,Yt,2,1,"ng-container",20),e.qZA(),e.TgZ(17,"div",42)(18,"button",43),e.NdJ("click",function(){const s=e.CHM(t).$implicit,p=e.oxw(4);return e.KtG(p.viewEmployee(s))}),e._UZ(19,"mat-icon",44),e.qZA(),e.TgZ(20,"button",43),e.NdJ("click",function(){const s=e.CHM(t).$implicit,p=e.oxw(4);return e.KtG(p.editEmployee(s))}),e._UZ(21,"mat-icon",44),e.qZA(),e.TgZ(22,"button",43),e.NdJ("click",function(){const s=e.CHM(t).$implicit,p=e.oxw(4);return e.KtG(p.deleteEmployee(s._id))}),e._UZ(23,"mat-icon",44),e.qZA()()(),e.BQk()}if(2&o){const t=r.$implicit;e.xp6(4),e.Q6J("ngIf",t.imageUrl),e.xp6(1),e.Q6J("ngIf",!t.imageUrl),e.xp6(2),e.hij(" ",t.code," "),e.xp6(2),e.lnq(" ",t.name," ",t.lastname1," ",t.lastname2," "),e.xp6(2),e.hij(" ",t.department.name," "),e.xp6(1),e.Q6J("ngIf",t.charge),e.xp6(1),e.Q6J("ngIf",t.title),e.xp6(2),e.Q6J("ngIf",t.active),e.xp6(1),e.Q6J("ngIf",!t.active),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:eye"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:pencil"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function St(o,r){if(1&o&&(e.ynx(0),e.YNc(1,Lt,24,14,"ng-container",32),e.BQk()),2&o){const t=r.ngIf,n=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",n.trackByFn)}}const Bt=function(o){return{"pointer-events-none":o}},Rt=function(){return[10,25,50,100]};function Ot(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"div",23)(2,"div",24)(3,"div",25)(4,"mat-icon"),e._uU(5,"image"),e.qZA()(),e.TgZ(6,"div",26),e._uU(7," C\xf3digo "),e.qZA(),e.TgZ(8,"div",27),e._uU(9," Nombre completo "),e.qZA(),e.TgZ(10,"div",28),e._uU(11," Departamento "),e.qZA(),e.TgZ(12,"div",29),e._uU(13," Cargo "),e.qZA(),e.TgZ(14,"div",26),e._uU(15," Activo "),e.qZA(),e.TgZ(16,"div",30),e._uU(17," Acciones "),e.qZA()(),e.YNc(18,St,2,2,"ng-container",20),e.ALo(19,"async"),e._UZ(20,"mat-paginator",31),e.qZA(),e.BQk()),2&o){const t=e.oxw(2);e.xp6(8),e.Q6J("mat-sort-header","name"),e.xp6(2),e.Q6J("mat-sort-header","department"),e.xp6(8),e.Q6J("ngIf",e.lcZ(19,9,t.employees$)),e.xp6(2),e.Q6J("ngClass",e.VKq(11,Bt,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(13,Rt))("showFirstLastButtons",!0)}}function Mt(o,r){if(1&o&&(e.ynx(0),e.YNc(1,Ot,21,14,"ng-container",22),e.BQk()),2&o){const t=r.ngIf;e.oxw();const n=e.MAs(34);e.xp6(1),e.Q6J("ngIf",t.length>0)("ngIfElse",n)}}function $t(o,r){1&o&&(e.TgZ(0,"div",50),e._uU(1,"No ha creado ning\xfan empleado a\xfan!"),e.qZA())}let Pt=(()=>{class o{constructor(t,n,a,s,p,b,T){this._changeDetectorRef=t,this._dialog=n,this._hrmEmployeeService=a,this._fuseConfirmationService=s,this._router=p,this._snackBar=b,this.store=T,this.merchantId="",this.flashMessage=null,this.isLoading=!1,this.searchInputControl=new i.NI,this.selectedEmployee=null,this._unsubscribeAll=new v.x}ngOnInit(){this.employees$=this.store.select(ye.ri),this.store.select(ae.B).pipe((0,m.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"active",start:"asc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,m.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,Y.T)(this._sort.sortChange,this._paginator.page).pipe((0,$.w)(()=>(this.isLoading=!0,this._hrmEmployeeService.getEmployees(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction,""))),(0,Q.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createEmployee(){this._router.navigate(["/modules/hrm/employees/new"])}viewEmployee(t){this._dialog.open(Et,{data:new Ct(t),width:"90%",height:"98%",panelClass:"ath-dialog-panel"})}editEmployee(t){this._router.navigateByUrl(`/modules/hrm/employees/${t._id}`)}deleteEmployee(t){this._fuseConfirmationService.open({title:"Eliminar Empleado",message:"\xbfEsta seguro que desea Eliminar el empleado? Perder\xe1 el acceso a todos los datos asociados al mismo.",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(a=>{"confirmed"===a&&this._hrmEmployeeService.deleteEmployee(t).subscribe(s=>{this._snackBar.openFromComponent(F.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"border"}}),this._changeDetectorRef.markForCheck()}),this._changeDetectorRef.markForCheck()})}trackByFn(t,n){return n.id||t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.sBO),e.Y36(q.uw),e.Y36(V.b),e.Y36(J.R),e.Y36(d.F0),e.Y36(N.ux),e.Y36(k.yh))},o.\u0275cmp=e.Xpm({type:o,selectors:[["hrm-employees"]],viewQuery:function(t,n){if(1&t&&(e.Gf(y.NW,5),e.Gf(I.YE,5)),2&t){let a;e.iGM(a=e.CRH())&&(n._paginator=a.first),e.iGM(a=e.CRH())&&(n._sort=a.first)}},decls:35,vars:8,consts:[["cdkScrollable","",1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","bg-card","dark:bg-transparent","overflow-hidden","sm:overflow-y-auto"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/desktop",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"flex","items-center","flex-shrink-0","mt-6","sm:mt-0","sm:ml-4"],["mat-raised-button","",1,"ml-4","text-white","bg-primary-500","hover:bg-primary-700","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"flex","flex-auto"],[1,"flex","flex-col","flex-auto"],[4,"ngIf"],["noEmployees",""],[4,"ngIf","ngIfElse"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5","employees-table"],[1,"hidden","text-center","sm:block"],[1,"hidden","text-center","lg:block"],[3,"mat-sort-header"],[1,"hidden","text-center","md:block",3,"mat-sort-header"],[1,"hidden","lg:block"],[1,"text-center"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","md:px-8","employees-table"],[1,"items-center","hidden","sm:block"],[1,"relative","flex","items-center","justify-center","w-12","h-12","mr-6","overflow-hidden","border","rounded","flex-0"],["class","w-8",3,"alt","src",4,"ngIf"],["class","flex items-center justify-center w-full h-full text-xs font-semibold leading-none text-center uppercase",4,"ngIf"],[1,"hidden","text-center","truncate","lg:block"],[1,"truncate"],[1,"hidden","md:block"],["class","items-center hidden lg:block",4,"ngIf"],[1,"flex","flex-col","items-center","justify-center","gap-1","md:flex-row"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"w-8",3,"alt","src"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase"],[1,"items-center","hidden","lg:block"],[1,"text-green-400","icon-size-5",3,"svgIcon"],[1,"text-gray-400","icon-size-5",3,"svgIcon"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Recursos Humanos"),e.qZA()(),e.TgZ(12,"div",4),e._UZ(13,"mat-icon",6),e.TgZ(14,"a",8),e._uU(15,"Empleados"),e.qZA()()(),e.TgZ(16,"div",9)(17,"a",10),e._UZ(18,"mat-icon",6),e.TgZ(19,"span",11),e._uU(20,"Regresar"),e.qZA()()()(),e.TgZ(21,"div",12)(22,"div",13),e._uU(23," Empleados "),e.qZA()()(),e.TgZ(24,"div",14)(25,"button",15),e.NdJ("click",function(){return n.createEmployee()}),e._UZ(26,"mat-icon",16),e.TgZ(27,"span",17),e._uU(28,"Nuevo"),e.qZA()()()(),e.TgZ(29,"div",18)(30,"div",19),e.YNc(31,Mt,2,2,"ng-container",20),e.ALo(32,"async"),e.YNc(33,$t,2,0,"ng-template",null,21,e.W1O),e.qZA()()()),2&t&&(e.xp6(9),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:chevron-left"),e.xp6(8),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(5),e.Q6J("ngIf",e.lcZ(32,6,n.employees$)))},dependencies:[d.yS,u.mk,u.sg,u.O5,x.PQ,D.lW,c.Hw,y.NW,I.YE,I.nU,u.Ov],encapsulation:2,data:{animation:X.L},changeDetection:0}),o})();var zt=l(7489),U=l(2491),ie=l(1135);let be=(()=>{class o{constructor(t){this._httpClient=t,this._scholarship=new ie.X(null),this._salaryFreqs=new ie.X(null),this._salaryMethods=new ie.X(null)}get _scholarship$(){return this._scholarship.asObservable()}get _salaryFreqs$(){return this._salaryFreqs.asObservable()}get _salaryMethods$(){return this._salaryMethods.asObservable()}getScholarship(){return this._httpClient.get("assets/data/scholarship.json").pipe((0,Q.U)(t=>t.sort((n,a)=>n.toLowerCase()<a.toLowerCase()?-1:n.toLowerCase()>a.toLowerCase()?1:void 0)),(0,C.b)(t=>{this._scholarship.next(t)}))}getSalaryFrequency(){return this._httpClient.get("assets/data/salary-freqs.json").pipe((0,Q.U)(t=>t.sort((n,a)=>n.toLowerCase()<a.toLowerCase()?-1:n.toLowerCase()>a.toLowerCase()?1:void 0)),(0,C.b)(t=>{this._salaryFreqs.next(t)}))}getSalaryMethods(){return this._httpClient.get("assets/data/salary-methods.json").pipe((0,Q.U)(t=>t.sort((n,a)=>n.toLowerCase()<a.toLowerCase()?-1:n.toLowerCase()>a.toLowerCase()?1:void 0)),(0,C.b)(t=>{this._salaryMethods.next(t)}))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(L.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var Ce=l(1158),jt=l(7231),se=l(6856),K=l(288);const W=function(o){return{"cursor-not-allowed":o}};function Gt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",73),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.createEmployee())}),e._UZ(1,"mat-icon",74),e.TgZ(2,"span",75),e._uU(3,"Guardar"),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.employeeForm.invalid)("ngClass",e.VKq(3,W,t.employeeForm.invalid)),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:save")}}function Vt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",73),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.updateEmployee())}),e._UZ(1,"mat-icon",74),e.TgZ(2,"span",75),e._uU(3,"Actualizar"),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.employeeForm.invalid)("ngClass",e.VKq(3,W,t.employeeForm.invalid)),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:refresh")}}function Kt(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del empleado es obligatorio. "),e.qZA())}function Wt(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del empleado debe contener entre 3 y 255 caracteres. "),e.qZA())}function Xt(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del empleado no debe contener n\xfameros. "),e.qZA())}function eo(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El primer apellido del empleado es obligatorio. "),e.qZA())}function to(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El primer apellido del empleado debe contener entre 3 y 255 caracteres. "),e.qZA())}function oo(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El primer apellido del empleado no debe contener n\xfameros. "),e.qZA())}function no(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El segundo apellido del empleado es obligatorio. "),e.qZA())}function ro(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El segundo apellido del empleado debe contener entre 3 y 255 caracteres. "),e.qZA())}function ao(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El segundo apellido del empleado no debe contener n\xfameros. "),e.qZA())}function io(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe escoger el g\xe9nero "),e.qZA())}function so(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El n\xfamero de identificaci\xf3n es obligatorio. "),e.qZA())}function lo(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El n\xfamero de identificaci\xf3n debe poseer 11 d\xedgitos. "),e.qZA())}function mo(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El n\xfamero de identidad debe poseer solo n\xfameros. "),e.qZA())}function co(o,r){if(1&o&&(e.TgZ(0,"mat-option",76),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.name," ")}}function po(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe escoger un negocio "),e.qZA())}function go(o,r){1&o&&(e.TgZ(0,"mat-label"),e._uU(1,"Tel\xe9fonos"),e.qZA())}function uo(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"mat-option",76)(2,"span",23),e._UZ(3,"span",82),e.TgZ(4,"span",83),e._uU(5),e.qZA(),e.TgZ(6,"span",84),e._uU(7),e.qZA()()(),e.BQk()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("value",t.code),e.xp6(4),e.Oqu(t.name),e.xp6(2),e.Oqu(t.code)}}function _o(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El n\xfamero de tel\xe9fono debe contener entre 7 y 8 d\xedgitos. "),e.qZA())}function ho(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El n\xfamero de tel\xe9fono debe poseer solo n\xfameros. "),e.qZA())}function fo(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El c\xf3digo sebe ser obligatorio. "),e.qZA())}function xo(o,r){1&o&&(e.TgZ(0,"mat-label"),e._uU(1,"Etiqueta"),e.qZA())}function vo(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La etiqueta debe contener entre 3 y 255 caracteres. "),e.qZA())}const Te=function(o){return{"mt-6":o}};function yo(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",87)(2,"button",88),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().index,s=e.oxw();return e.KtG(s.removePhoneNumberField(a))}),e._UZ(3,"mat-icon",45),e.qZA()(),e.BQk()}if(2&o){const t=e.oxw().first;e.xp6(1),e.Q6J("ngClass",e.VKq(2,Te,t)),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function Zo(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"div",77)(2,"mat-form-field",78),e.YNc(3,go,2,0,"mat-label",29),e._UZ(4,"input",79),e.TgZ(5,"mat-select",80)(6,"mat-select-trigger")(7,"span",23)(8,"span",81),e._uU(9),e.qZA()()(),e.TgZ(10,"mat-option",76)(11,"span",23),e._UZ(12,"span",82),e.TgZ(13,"span",83),e._uU(14),e.ALo(15,"titlecase"),e.qZA(),e.TgZ(16,"span",84),e._uU(17),e.qZA()()(),e.YNc(18,uo,8,3,"ng-container",43),e.qZA(),e.YNc(19,_o,2,0,"mat-error",29),e.YNc(20,ho,2,0,"mat-error",29),e.YNc(21,fo,2,0,"mat-error",29),e.qZA(),e.TgZ(22,"mat-form-field",85),e.YNc(23,xo,2,0,"mat-label",29),e._UZ(24,"mat-icon",34)(25,"input",86),e.YNc(26,vo,2,0,"mat-error",29),e.qZA(),e.YNc(27,yo,4,4,"ng-container",29),e.qZA(),e.BQk()),2&o){const t=r.$implicit,n=r.index,a=r.first,s=r.last,p=e.oxw();e.xp6(3),e.Q6J("ngIf",a),e.xp6(1),e.Q6J("type","tel")("formControl",t.get("phoneNumber"))("placeholder","Tel\xe9fono")("minlength",7)("maxlength",8),e.xp6(1),e.Q6J("formControl",t.get("stateCode")),e.xp6(4),e.Oqu(p.employeeForm.get("phoneNumbers").value[n].stateCode),e.xp6(1),e.Q6J("value","+535"),e.xp6(4),e.Oqu(e.lcZ(15,24,"celular")),e.xp6(3),e.Oqu("+535"),e.xp6(1),e.Q6J("ngForOf",p.statesCodes)("ngForTrackBy",p.trackByFn),e.xp6(1),e.Q6J("ngIf",t.get("phoneNumber").hasError("minlength")||t.get("phoneNumber").hasError("maxlength")),e.xp6(1),e.Q6J("ngIf",t.get("phoneNumber").hasError("pattern")),e.xp6(1),e.Q6J("ngIf",t.get("stateCode").hasError("required")),e.xp6(2),e.Q6J("ngIf",a),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:tag"),e.xp6(1),e.Q6J("formControl",t.get("label"))("placeholder","Etiqueta")("minLength",3)("maxLength",255),e.xp6(1),e.Q6J("ngIf",t.get("label").hasError("maxlength")||t.get("label").hasError("minlength")),e.xp6(1),e.Q6J("ngIf",!(a&&s))}}function bo(o,r){1&o&&(e.TgZ(0,"mat-label"),e._uU(1,"Correos Electr\xf3nicos"),e.qZA())}function Co(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El correos electr\xf3nicos no posee un formato v\xe1lido. "),e.qZA())}function To(o,r){1&o&&(e.TgZ(0,"mat-label"),e._uU(1,"Etiqueta"),e.qZA())}function Ao(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La etiqueta debe contener entre 3 y 255 caracteres. "),e.qZA())}function ko(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",87)(2,"button",91),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().index,s=e.oxw();return e.KtG(s.removeEmailField(a))}),e._UZ(3,"mat-icon",45),e.qZA()(),e.BQk()}if(2&o){const t=e.oxw().first;e.xp6(1),e.Q6J("ngClass",e.VKq(2,Te,t)),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function Io(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"div",89)(2,"mat-form-field",78),e.YNc(3,bo,2,0,"mat-label",29),e._UZ(4,"mat-icon",34)(5,"input",90),e.YNc(6,Co,2,0,"mat-error",29),e.qZA(),e.TgZ(7,"mat-form-field",85),e.YNc(8,To,2,0,"mat-label",29),e._UZ(9,"mat-icon",34)(10,"input",86),e.YNc(11,Ao,2,0,"mat-error",29),e.qZA(),e.YNc(12,ko,4,4,"ng-container",29),e.qZA(),e.BQk()),2&o){const t=r.$implicit,n=r.first,a=r.last;e.xp6(3),e.Q6J("ngIf",n),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:mail"),e.xp6(1),e.Q6J("formControl",t.get("email"))("spellcheck",!1),e.xp6(1),e.Q6J("ngIf",t.get("email").hasError("email")),e.xp6(2),e.Q6J("ngIf",n),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:tag"),e.xp6(1),e.Q6J("formControl",t.get("label"))("placeholder","Etiqueta")("minLength",3)("maxLength",255),e.xp6(1),e.Q6J("ngIf",t.get("label").hasError("maxlength")||t.get("label").hasError("minlength")),e.xp6(1),e.Q6J("ngIf",!(n&&a))}}function qo(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La direcci\xf3n es obligatoria. "),e.qZA())}function Fo(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La direcci\xf3n debe contener entre 3 y 255 caracteres. "),e.qZA())}function Uo(o,r){if(1&o&&(e.TgZ(0,"mat-option",76),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Do(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar una provincia. "),e.qZA())}function Eo(o,r){if(1&o&&(e.TgZ(0,"mat-option",76),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.city),e.xp6(1),e.hij(" ",t.city," ")}}function Qo(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar un municipio. "),e.qZA())}function wo(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar el pa\xeds. "),e.qZA())}function Jo(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El c\xf3digo postal debe poseer solo n\xfameros. "),e.qZA())}function No(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El c\xf3digo postal debe poseer solo 5 d\xedgitos. "),e.qZA())}function Ho(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La fecha de contrataci\xf3n es obligatoria. "),e.qZA())}function Yo(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar un tipo de contrato. "),e.qZA())}function Lo(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El tiempo del contrato debe poseer solo n\xfameros. "),e.qZA())}function So(o,r){if(1&o&&(e.TgZ(0,"mat-option",76),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij("",t.name," ")}}function Bo(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar un departamento "),e.qZA())}function Ro(o,r){if(1&o&&(e.TgZ(0,"mat-option",76),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.name,"")}}function Oo(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar el cargo "),e.qZA())}function Mo(o,r){if(1&o&&(e.TgZ(0,"mat-option",76),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij("",t," ")}}function $o(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar el nivel de escolaridad. "),e.qZA())}function Po(o,r){if(1&o&&(e.TgZ(0,"mat-option",76),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij("",t," ")}}function zo(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar la frecuencia en el que efectuar\xe1 el pago "),e.qZA())}function jo(o,r){if(1&o&&(e.TgZ(0,"mat-option",76),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij("",t," ")}}function Go(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar un modo pago "),e.qZA())}function Vo(o,r){if(1&o&&e._UZ(0,"img",92),2&o){const t=e.oxw();e.Q6J("alt","Product thumbnail image")("src",t.employeeForm.get("imageUrl").value,e.LSH)}}function Ko(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",93),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.removeImage())}),e._UZ(1,"mat-icon",94),e.qZA()}}function Wo(o,r){1&o&&(e.TgZ(0,"div",95),e._uU(1," SIN IMAGEN "),e.qZA())}function Xo(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"input",96,97),e.NdJ("change",function(){e.CHM(t);const a=e.MAs(2),s=e.oxw();return e.KtG(s.uploadImage(a.files))}),e.qZA(),e.TgZ(3,"label",98)(4,"div",99),e._UZ(5,"mat-icon",45),e.TgZ(6,"span",46),e._uU(7," Agregar imagen "),e.qZA()()()()}2&o&&(e.xp6(1),e.Q6J("multiple",!1)("accept","image/jpeg, image/jpg, image/webp, image/png"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:plus-circle"))}function en(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",73),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.createEmployee())}),e._UZ(1,"mat-icon",74),e.TgZ(2,"span",75),e._uU(3,"Guardar"),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.employeeForm.invalid)("ngClass",e.VKq(3,W,t.employeeForm.invalid)),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:save")}}function tn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",73),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.updateEmployee())}),e._UZ(1,"mat-icon",74),e.TgZ(2,"span",75),e._uU(3,"Actualizar"),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.employeeForm.invalid)("ngClass",e.VKq(3,W,t.employeeForm.invalid)),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:refresh")}}let on=(()=>{class o{constructor(t,n,a,s,p,b,T,M,cn,pn,gn,dn){this._activatedRoute=t,this._changeDetectorRef=n,this._dialog=a,this._formBuilder=s,this._fuseConfirmationService=p,this._hrmService=b,this._hrmEmployeesService=T,this._locationService=M,this._router=cn,this._imagesService=pn,this._snackBar=gn,this.store=dn,this.cities=[],this.department=new fe,this.employees=[],this.isNew=!1,this.states=[],this.statesCodes=[],this.stateSelected="",this.user$=(0,E.of)(null),this.merchants$=null,this._unsubscribeAll=new v.x}ngOnInit(){var t;this.user$=this.store.select(ee.rk),this.user$.subscribe(n=>{this.user=n,this._changeDetectorRef.markForCheck()}),this.merchants$=this.store.select(te.UV),this.charges$=this.store.select(ce),this.departments$=this.store.select(ve),this.salaryFreqs$=this._hrmService._salaryFreqs$,this.salaryMethods$=this._hrmService._salaryMethods$,this.scholarships$=this._hrmService._scholarship$,this._locationService.states$.pipe((0,m.R)(this._unsubscribeAll)).subscribe(n=>{this.states=n,this._changeDetectorRef.markForCheck()}),this._locationService.statesCodes$.pipe((0,m.R)(this._unsubscribeAll)).subscribe(n=>{this.statesCodes=n,this._changeDetectorRef.markForCheck()}),this.employeeForm=this._formBuilder.group({_id:[""],userId:[this.user._id,[i.kI.required]],merchantId:["",[i.kI.required]],active:[!1],code:[{value:"",disabled:!0}],name:["",[i.kI.required,i.kI.minLength(3),i.kI.maxLength(255),U.L.onlyAlphabetsWithAccentPattern()]],slug:[""],lastname1:["",[i.kI.required,i.kI.minLength(3),i.kI.maxLength(255),U.L.onlyAlphabetsWithAccentPattern()]],lastname2:["",[i.kI.required,i.kI.minLength(3),i.kI.maxLength(255),U.L.onlyAlphabetsWithAccentPattern()]],gender:["",[i.kI.required]],idNumber:["",[i.kI.maxLength(11),i.kI.minLength(11),U.L.onlyNumbersPattern()]],emails:this._formBuilder.array([]),phoneNumbers:this._formBuilder.array([]),address:["",[i.kI.required,i.kI.minLength(3),i.kI.maxLength(255)]],country:[{value:"Cuba",disabled:!0},[i.kI.required]],state:["",[i.kI.required]],city:["",[i.kI.required]],postalCode:[0,[i.kI.max(99999),i.kI.min(9999)]],dateOfJoining:["",[i.kI.required]],typeOfContract:["",[i.kI.required]],contractEndDate:[""],contractTime:[0,[U.L.onlyNumbersPattern()]],department:["",[i.kI.required]],charge:["",[i.kI.required]],scholarship:["",[i.kI.required]],salaryFreq:["",[i.kI.required]],salaryMethod:["",[i.kI.required]],salaryLevel:[""],imageUrl:[""]},{validators:U.L.onlyNumber("postalCode")}),this._activatedRoute.params.pipe((0,m.R)(this._unsubscribeAll)).subscribe(({employeeId:n})=>{this.employeeId=n,this._fillEmployeeData(n),this._changeDetectorRef.markForCheck()}),null===(t=this.employeeForm.get("state"))||void 0===t||t.valueChanges.pipe((0,m.R)(this._unsubscribeAll)).subscribe(n=>{this._getCitiesByState(n),this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}addEmailField(){const t=this._formBuilder.group({email:["",[i.kI.email,i.kI.maxLength(255)]],label:["",[i.kI.minLength(3),i.kI.maxLength(255)]]});this.employeeForm.get("emails").push(t),this._changeDetectorRef.markForCheck()}removeEmailField(t){this.employeeForm.get("emails").removeAt(t),this._changeDetectorRef.markForCheck()}addPhoneNumberField(){const t=this._formBuilder.group({stateCode:["",[i.kI.required]],phoneNumber:["",[i.kI.minLength(7),i.kI.maxLength(8),U.L.onlyNumbersPattern()]],label:["",[i.kI.minLength(3),i.kI.maxLength(255)]]});this.employeeForm.get("phoneNumbers").push(t),this._changeDetectorRef.markForCheck()}removePhoneNumberField(t){this.employeeForm.get("phoneNumbers").removeAt(t),this._changeDetectorRef.markForCheck()}createEmployee(){const t=`${(new Date).getDate()}${(new Date).getMonth()}${(new Date).getFullYear()}-${(new Date).getSeconds()}${(new Date).getMilliseconds()}`;this.employeeForm.get("code").setValue(t);let n=this.employeeForm.getRawValue();n=(0,zt.omit)(n,"_id"),n.slug=new w.i(n.name).slug,this._fuseConfirmationService.open({title:"Crear empleado",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(s=>{"confirmed"===s&&this._hrmEmployeesService.createEmployee(n).subscribe(p=>{this._snackBar.openFromComponent(F.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:p.message,title:"Confirmaci\xf3n",type:"success",appearance:"border"}}),this._router.navigateByUrl("/modules/hrm/employees"),this._changeDetectorRef.markForCheck()}),this._changeDetectorRef.markForCheck()})}updateEmployee(){const t=this.employeeForm.getRawValue();t.slug=new w.i(t.name).slug,this._fuseConfirmationService.open({title:"Actualizar empleado",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(a=>{"confirmed"===a&&this._hrmEmployeesService.updateEmployee(t).subscribe(s=>{this._snackBar.openFromComponent(F.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"border"}}),this._router.navigateByUrl("/modules/hrm/employees"),this._changeDetectorRef.markForCheck()}),this._changeDetectorRef.markForCheck()})}trackByFn(t,n){return n.id||t}openCreateDepartmentDialog(){this._dialog.open(he,{width:"600px",data:{department:this.department,dialogMode:"add"},panelClass:"ath-dialog-panel"})}uploadImage(t){if(console.log(t.length),!t.length)return;const a=t[0];console.log(a),["image/jpeg","image/jpg","image/webp","image/png"].includes(a.type)&&this._imagesService.uploadImage("HRM",a).subscribe(s=>{console.log(s),this._snackBar.openFromComponent(F.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"border",svgIcon:"heroicons_solid:check"}}),this.employeeForm.get("imageUrl").setValue(s.imageUrl),this._changeDetectorRef.markForCheck()},s=>{console.warn(s)})}removeImage(){const t=this.employeeForm.get("imageUrl").value;this._fuseConfirmationService.open({title:"Cuidado",message:"\xbfEst\xe1 seguro que desea eliminar esta imagen?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"warning"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.R)(this._unsubscribeAll)).subscribe(a=>{"confirmed"===a&&this._imagesService.removeImage("HRM",t).subscribe(p=>{this.employeeForm.get("imageUrl").setValue(null),this._changeDetectorRef.markForCheck(),this._snackBar.openFromComponent(F.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:p.message,title:"Confirmaci\xf3n",type:"success",appearance:"border",svgIcon:"heroicons_solid:check"}})})})}_fillEmployeeData(t){if("new"===t){const n=[];n.push(this._formBuilder.group({email:["",[i.kI.email,i.kI.maxLength(255)]],label:["",[i.kI.minLength(3),i.kI.maxLength(255)]]})),n.forEach(s=>{this.employeeForm.get("emails").push(s)});const a=[];return a.push(this._formBuilder.group({stateCode:["+535",[i.kI.required]],phoneNumber:["",[i.kI.minLength(7),i.kI.maxLength(8),U.L.onlyNumbersPattern()]],label:["",[i.kI.minLength(3),i.kI.maxLength(255)]]})),void a.forEach(s=>{this.employeeForm.get("phoneNumbers").push(s)})}this.store.select(ye.hf).pipe((0,m.R)(this._unsubscribeAll)).subscribe(n=>{this.employee=n,this.employeeForm.get("emails").clear(),this.employeeForm.get("phoneNumbers").clear(),this._setEmployeeDataOnForm(n),this._changeDetectorRef.markForCheck()})}_getCitiesByState(t){t!==this.stateSelected&&this._locationService.getCitiesByState(t).subscribe(n=>{this.cities=n,this._changeDetectorRef.markForCheck()})}_setEmployeeDataOnForm(t){this.employeeForm.patchValue(t),this.employeeForm.get("charge").setValue(t.charge._id),this.employeeForm.get("department").setValue(t.department._id),this.employeeForm.get("merchantId").setValue(t.merchantId._id),this._getCitiesByState(t.state);const n=[];t.emails.length>0?t.emails.forEach(s=>{n.push(this._formBuilder.group({email:[s.email,[i.kI.email,i.kI.maxLength(255)]],label:[s.label,[i.kI.minLength(3),i.kI.maxLength(255)]]}))}):n.push(this._formBuilder.group({email:["",[i.kI.email]],label:["",[i.kI.minLength(3),i.kI.maxLength(255)]]})),n.forEach(s=>{this.employeeForm.get("emails").push(s)});const a=[];t.phoneNumbers.length>0?t.phoneNumbers.forEach(s=>{a.push(this._formBuilder.group({stateCode:[s.stateCode,[i.kI.required]],phoneNumber:[s.phoneNumber,[i.kI.minLength(7),i.kI.maxLength(8),U.L.onlyNumbersPattern()]],label:[s.label,[i.kI.minLength(3),i.kI.maxLength(255)]]}))}):a.push(this._formBuilder.group({stateCode:["+535",[i.kI.required]],phoneNumber:["",[i.kI.minLength(7),i.kI.maxLength(8),U.L.onlyNumbersPattern()]],label:["",[i.kI.minLength(3),i.kI.maxLength(255)]]})),a.forEach(s=>{this.employeeForm.get("phoneNumbers").push(s)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.gz),e.Y36(e.sBO),e.Y36(q.uw),e.Y36(i.qu),e.Y36(J.R),e.Y36(be),e.Y36(V.b),e.Y36(Ce.a),e.Y36(d.F0),e.Y36(jt.C),e.Y36(N.ux),e.Y36(k.yh))},o.\u0275cmp=e.Xpm({type:o,selectors:[["employee-detail"]],decls:276,vars:140,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-wrap","p-6","sm:flex-row","flex-0","sm:items-center","sm:justify-between","sm:pt-12","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/desktop",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],["routerLink","/modules/hrm/employees",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-3xl","font-extrabold","leading-tight","tracking-tight","sm:text-3xl"],[1,"flex","items-center","flex-shrink-0","mt-6","sm:mt-0","sm:ml-4"],["class","ml-4 text-white bg-primary-500 hover:bg-primary-700 hover:shadow-lg","mat-raised-button","",3,"disabled","ngClass","click",4,"ngIf"],[1,"flex-auto","p-6","sm:p-6"],[1,"flex","flex-col","flex-auto","min-w-0"],[3,"formGroup","autocomplete"],["multi","",1,"w-full","bg-transparent"],[2,"border-top-left-radius","0.5rem !important","border-top-right-radius","0.5rem !important",3,"expanded"],[3,"collapsedHeight"],[1,"flex","items-center"],[1,"text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"grid","w-full","gap-y-3","gap-x-6","p-8","border-t-2","sm:grid-cols-4"],[1,"sm:col-span-2"],[1,"w-full"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],[4,"ngIf"],["matInput","","required","",3,"type","formControlName","minlength","maxlength"],["required","",3,"formControlName"],["value","Masculino"],["value","Femenino"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","required","",3,"type","formControlName","maxlength","minlength"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","flex-col","sm:col-span-2"],[1,"items-start","font-medium"],[1,"mt-1",3,"color","formControlName"],[3,"expanded"],[1,"grid","w-full","gap-y-3","gap-x-6","p-8","border-t-2","sm:grid-cols-2","md:grid-cols-4"],[1,"space-y-4"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"inline-flex","items-center","px-4","py-2","mt-2","-ml-4","rounded","cursor-pointer","group",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2","font-medium","text-secondary","group-hover:underline"],[1,"p-8","border-t-2"],[1,"grid","w-full","gap-y-3","gap-x-6","sm:grid-cols-4"],["matInput","","required","",3,"type","formControlName","minLength","maxlength"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["value","Cuba"],[1,"w-full","fuse-mat-emphasized-affix"],["type","number","matInput","",3,"formControlName","min","max"],["matPrefix","",3,"for"],["joinDatepicker",""],["matInput","","required","",3,"matDatepicker","formControlName","placeholder"],["value","Determinado"],["value","Indeterminado"],["birthdayDatepicker",""],["matInput","",3,"matDatepicker","formControlName","placeholder"],["matInput","",3,"type","formControlName"],[3,"value",4,"ngFor","ngForOf"],[2,"border-bottom-left-radius","0.5rem !important","border-bottom-right-radius","0.5rem !important",3,"expanded"],[1,"flex","flex-col"],[1,"flex","items-center","mt-3"],[1,"relative","flex","items-center","justify-center","mr-6","overflow-hidden","border","rounded","w-26","h-26","flex-0"],[3,"alt","src",4,"ngIf"],["mat-mini-fab","","class","absolute p-5 transition-opacity ease-linear delay-200 rounded-full opacity-50 bg-primary-700 hover:opacity-100",3,"click",4,"ngIf"],["class","flex items-center justify-center w-full h-full text-xs font-semibold leading-none text-center uppercase",4,"ngIf"],[1,"flex","flex-col","flex-wrap","justify-end","px-6","pb-10","sm:flex-row","flex-0","sm:items-center","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex","items-center","flex-shrink-0","mt-6","text-right","sm:mt-0","sm:ml-4"],["class","ml-4 text-white  bg-primary-500 hover:bg-primary-700 hover:shadow-lg","mat-raised-button","",3,"disabled","ngClass","click",4,"ngIf"],["mat-raised-button","",1,"ml-4","text-white","bg-primary-500","hover:bg-primary-700","hover:shadow-lg",3,"disabled","ngClass","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[3,"value"],[1,"relative","flex","flex-col","sm:flex-row"],[1,"flex-auto"],["matInput","",3,"type","formControl","placeholder","minlength","maxlength"],["matPrefix","",1,"mr-1.5",3,"formControl"],[1,"sm:mx-0.5","font-medium","text-default"],[1,"w-6","h-4","overflow-hidden"],[1,"ml-2"],[1,"ml-2","font-medium"],[1,"flex-auto","w-full","mt-6","sm:mt-0","sm:max-w-50","sm:ml-4"],["matInput","",3,"formControl","placeholder","minLength","maxLength"],[1,"flex","items-center","w-10","pl-2",3,"ngClass"],["mat-icon-button","","matTooltip","Eliminar tel\xe9fono",1,"w-8","h-8","min-h-8",3,"click"],[1,"flex","flex-col","sm:flex-row"],["matInput","",3,"formControl","spellcheck"],["mat-icon-button","","matTooltip","Eliminar",1,"w-8","h-8","min-h-8",3,"click"],[3,"alt","src"],["mat-mini-fab","",1,"absolute","p-5","transition-opacity","ease-linear","delay-200","rounded-full","opacity-50","bg-primary-700","hover:opacity-100",3,"click"],["svgIcon","heroicons_solid:trash",1,"text-white","icon-size-5"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase"],["id","image-file-input","type","file",1,"absolute","invisible","w-0","h-0","opacity-0","pointer-events-none",3,"multiple","accept","change"],["imageFileInput",""],["for","image-file-input","matRipple",""],[1,"inline-flex","items-center","px-4","py-2","mt-2","-ml-4","rounded","cursor-pointer","group"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Recursos Humanos"),e.qZA()(),e.TgZ(12,"div",4),e._UZ(13,"mat-icon",6),e.TgZ(14,"a",8),e._uU(15,"Empleados"),e.qZA()(),e.TgZ(16,"div",4),e._UZ(17,"mat-icon",6),e.TgZ(18,"a",9),e._uU(19,"Nuevo"),e.qZA()()(),e.TgZ(20,"div",10)(21,"a",11),e._UZ(22,"mat-icon",6),e.TgZ(23,"span",12),e._uU(24,"Regresar"),e.qZA()()()(),e.TgZ(25,"div",13)(26,"div",14),e._uU(27," Nuevo Empleado "),e.qZA()()(),e.TgZ(28,"div",15),e.YNc(29,Gt,4,5,"button",16),e.YNc(30,Vt,4,5,"button",16),e.qZA()(),e.TgZ(31,"div",17)(32,"div",18)(33,"form",19)(34,"mat-accordion",20)(35,"mat-expansion-panel",21)(36,"mat-expansion-panel-header",22)(37,"mat-panel-title",23)(38,"div",24),e._uU(39," Informaci\xf3n General "),e.qZA()()(),e.TgZ(40,"div",25)(41,"div",26)(42,"mat-form-field",27)(43,"mat-label"),e._uU(44,"Nombre"),e.qZA(),e._UZ(45,"input",28),e.YNc(46,Kt,2,0,"mat-error",29),e.YNc(47,Wt,2,0,"mat-error",29),e.YNc(48,Xt,2,0,"mat-error",29),e.qZA()(),e.TgZ(49,"div",26)(50,"mat-form-field",27)(51,"mat-label"),e._uU(52,"Primer Apellido"),e.qZA(),e._UZ(53,"input",30),e.YNc(54,eo,2,0,"mat-error",29),e.YNc(55,to,2,0,"mat-error",29),e.YNc(56,oo,2,0,"mat-error",29),e.qZA()(),e.TgZ(57,"div",26)(58,"mat-form-field",27)(59,"mat-label"),e._uU(60,"Segundo Apellido"),e.qZA(),e._UZ(61,"input",30),e.YNc(62,no,2,0,"mat-error",29),e.YNc(63,ro,2,0,"mat-error",29),e.YNc(64,ao,2,0,"mat-error",29),e.qZA()(),e.TgZ(65,"div",26)(66,"mat-form-field",27)(67,"mat-label"),e._uU(68,"G\xe9nero"),e.qZA(),e.TgZ(69,"mat-select",31)(70,"mat-option",32),e._uU(71,"Maculino"),e.qZA(),e.TgZ(72,"mat-option",33),e._uU(73,"Femenino"),e.qZA()(),e.YNc(74,io,2,0,"mat-error",29),e.qZA()(),e.TgZ(75,"div",26)(76,"mat-form-field",27)(77,"mat-label"),e._uU(78,"N\xfamero de identidad"),e.qZA(),e._UZ(79,"mat-icon",34)(80,"input",35),e.YNc(81,so,2,0,"mat-error",29),e.YNc(82,lo,2,0,"mat-error",29),e.YNc(83,mo,2,0,"mat-error",29),e.qZA()(),e.TgZ(84,"div",26)(85,"mat-form-field",27)(86,"mat-label"),e._uU(87,"Negocio"),e.qZA(),e.TgZ(88,"mat-select",31),e.YNc(89,co,2,2,"mat-option",36),e.ALo(90,"async"),e.qZA(),e.YNc(91,po,2,0,"mat-error",29),e.TgZ(92,"mat-hint"),e._uU(93,"Negocio al cual pertenece el empleado"),e.qZA()()(),e.TgZ(94,"div",37)(95,"span",38),e._uU(96,"Estado"),e.qZA(),e.TgZ(97,"mat-slide-toggle",39),e._uU(98," Activo "),e.qZA()()()(),e.TgZ(99,"mat-expansion-panel",40)(100,"mat-expansion-panel-header",22)(101,"mat-panel-title",23)(102,"div",24),e._uU(103," Informaci\xf3n de contacto "),e.qZA()()(),e.TgZ(104,"div",41)(105,"div",26)(106,"div",42),e.YNc(107,Zo,28,26,"ng-container",43),e.qZA(),e.TgZ(108,"div",44),e.NdJ("click",function(){return n.addPhoneNumberField()}),e._UZ(109,"mat-icon",45),e.TgZ(110,"span",46),e._uU(111,"Agregar tel\xe9fono"),e.qZA()()(),e.TgZ(112,"div",26)(113,"div",42),e.YNc(114,Io,13,13,"ng-container",43),e.qZA(),e.TgZ(115,"div",44),e.NdJ("click",function(){return n.addEmailField()}),e._UZ(116,"mat-icon",45),e.TgZ(117,"span",46),e._uU(118,"Agregar correo electr\xf3nico"),e.qZA()()()()(),e.TgZ(119,"mat-expansion-panel",40)(120,"mat-expansion-panel-header",22)(121,"mat-panel-title",23)(122,"div",24),e._uU(123," Domicilio "),e.qZA()()(),e.TgZ(124,"div",47)(125,"div",48)(126,"div",26)(127,"mat-form-field",27)(128,"mat-label"),e._uU(129,"Direcci\xf3n"),e.qZA(),e._UZ(130,"mat-icon",34)(131,"input",49),e.YNc(132,qo,2,0,"mat-error",29),e.YNc(133,Fo,2,0,"mat-error",29),e.qZA()(),e.TgZ(134,"div",26)(135,"mat-form-field",27)(136,"mat-label"),e._uU(137,"Provincia"),e.qZA(),e.TgZ(138,"mat-select",31),e.YNc(139,Uo,2,2,"mat-option",36),e.qZA(),e._UZ(140,"mat-icon",50),e.YNc(141,Do,2,0,"mat-error",29),e.qZA()(),e.TgZ(142,"div",26)(143,"mat-form-field",27)(144,"mat-label"),e._uU(145,"Municipio"),e.qZA(),e.TgZ(146,"mat-select",31),e.YNc(147,Eo,2,2,"mat-option",36),e.qZA(),e._UZ(148,"mat-icon",50),e.YNc(149,Qo,2,0,"mat-error",29),e.qZA()(),e.TgZ(150,"div",26)(151,"mat-form-field",27)(152,"mat-label"),e._uU(153,"Pa\xeds"),e.qZA(),e.TgZ(154,"mat-select",31)(155,"mat-option",51),e._uU(156,"Cuba"),e.qZA()(),e._UZ(157,"mat-icon",50),e.YNc(158,wo,2,0,"mat-error",29),e.qZA()(),e.TgZ(159,"div",26)(160,"mat-form-field",52)(161,"mat-label"),e._uU(162,"C\xf3digo Postal"),e.qZA(),e._UZ(163,"input",53),e.YNc(164,Jo,2,0,"mat-error",29),e.YNc(165,No,2,0,"mat-error",29),e.qZA()()()()(),e.TgZ(166,"mat-expansion-panel",40)(167,"mat-expansion-panel-header",22)(168,"mat-panel-title",23)(169,"div",24),e._uU(170," Datos de incorporaci\xf3n "),e.qZA()()(),e.TgZ(171,"div",25)(172,"div",26)(173,"mat-form-field",27)(174,"mat-label"),e._uU(175,"Fecha de contrataci\xf3n"),e.qZA(),e._UZ(176,"mat-datepicker-toggle",54)(177,"mat-datepicker",null,55)(179,"input",56),e.YNc(180,Ho,2,0,"mat-error",29),e.qZA()(),e.TgZ(181,"div",26)(182,"mat-form-field",27)(183,"mat-label"),e._uU(184,"Tipo de contrato"),e.qZA(),e.TgZ(185,"mat-select",31)(186,"mat-option",57),e._uU(187,"Determinado"),e.qZA(),e.TgZ(188,"mat-option",58),e._uU(189,"Indeterminado"),e.qZA()(),e.YNc(190,Yo,2,0,"mat-error",29),e.qZA()(),e.TgZ(191,"div",26)(192,"mat-form-field",27)(193,"mat-label"),e._uU(194,"Fecha de cierre del contrato"),e.qZA(),e._UZ(195,"mat-datepicker-toggle",54)(196,"mat-datepicker",null,59)(198,"input",60),e.qZA()(),e.TgZ(199,"div",26)(200,"mat-form-field",27)(201,"mat-label"),e._uU(202,"Tiempo del contrato"),e.qZA(),e._UZ(203,"mat-icon",34)(204,"input",61),e.YNc(205,Lo,2,0,"mat-error",29),e.qZA()()()(),e.TgZ(206,"mat-expansion-panel",40)(207,"mat-expansion-panel-header",22)(208,"mat-panel-title",23)(209,"div",24),e._uU(210," Departamento, cargo y escolaridad "),e.qZA()()(),e.TgZ(211,"div",47)(212,"div",48)(213,"div",26)(214,"mat-form-field",27)(215,"mat-label"),e._uU(216,"Departamento"),e.qZA(),e.TgZ(217,"mat-select",31),e.YNc(218,So,2,2,"mat-option",62),e.ALo(219,"async"),e.qZA(),e.YNc(220,Bo,2,0,"mat-error",29),e.qZA()(),e.TgZ(221,"div",26)(222,"mat-form-field",27)(223,"mat-label"),e._uU(224,"Cargo"),e.qZA(),e.TgZ(225,"mat-select",31),e.YNc(226,Ro,2,2,"mat-option",62),e.ALo(227,"async"),e.qZA(),e.YNc(228,Oo,2,0,"mat-error",29),e.qZA()(),e.TgZ(229,"div",26)(230,"mat-form-field",27)(231,"mat-label"),e._uU(232,"Escolaridad"),e.qZA(),e.TgZ(233,"mat-select",31),e.YNc(234,Mo,2,2,"mat-option",62),e.ALo(235,"async"),e.qZA(),e.YNc(236,$o,2,0,"mat-error",29),e.qZA()()()()(),e.TgZ(237,"mat-expansion-panel",40)(238,"mat-expansion-panel-header",22)(239,"mat-panel-title",23)(240,"div",24),e._uU(241," Salario "),e.qZA()()(),e.TgZ(242,"div",25)(243,"div",26)(244,"mat-form-field",27)(245,"mat-label"),e._uU(246,"Frecuencia"),e.qZA(),e.TgZ(247,"mat-select",31),e.YNc(248,Po,2,2,"mat-option",62),e.ALo(249,"async"),e.qZA(),e.YNc(250,zo,2,0,"mat-error",29),e.qZA()(),e.TgZ(251,"div",26)(252,"mat-form-field",27)(253,"mat-label"),e._uU(254,"Modo de pago"),e.qZA(),e.TgZ(255,"mat-select",31),e.YNc(256,jo,2,2,"mat-option",62),e.ALo(257,"async"),e.qZA(),e.YNc(258,Go,2,0,"mat-error",29),e.qZA()()()(),e.TgZ(259,"mat-expansion-panel",63)(260,"mat-expansion-panel-header",22)(261,"mat-panel-title",23)(262,"div",24),e._uU(263," Imagen "),e.qZA()()(),e.TgZ(264,"div",25)(265,"div",64)(266,"div",65)(267,"div",66),e.YNc(268,Vo,1,2,"img",67),e.YNc(269,Ko,2,0,"button",68),e.YNc(270,Wo,2,0,"div",69),e.qZA()(),e.YNc(271,Xo,8,3,"div",29),e.qZA()()()()()()(),e.TgZ(272,"div",70)(273,"div",71),e.YNc(274,en,4,5,"button",72),e.YNc(275,tn,4,5,"button",72),e.qZA()()()),2&t){const a=e.MAs(178),s=e.MAs(197);e.xp6(9),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:chevron-left"),e.xp6(7),e.Q6J("ngIf","new"===n.employeeId),e.xp6(1),e.Q6J("ngIf","new"!==n.employeeId),e.xp6(3),e.Q6J("formGroup",n.employeeForm)("autocomplete","off"),e.xp6(2),e.Q6J("expanded",!0),e.xp6(1),e.Q6J("collapsedHeight","56px"),e.xp6(9),e.Q6J("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del negocio"),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("name").hasError("required")),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("name").hasError("maxlength")||n.employeeForm.get("name").hasError("minlength")),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("name").hasError("pattern")),e.xp6(5),e.Q6J("type","text")("formControlName","lastname1")("minlength",3)("maxlength",255),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("lastname1").hasError("required")),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("lastname1").hasError("maxlength")||n.employeeForm.get("lastname2").hasError("minlength")),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("lastname1").hasError("pattern")),e.xp6(5),e.Q6J("type","text")("formControlName","lastname2")("minlength",3)("maxlength",255),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("lastname2").hasError("required")),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("lastname2").hasError("maxlength")||n.employeeForm.get("lastname2").hasError("minlength")),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("lastname2").hasError("pattern")),e.xp6(5),e.Q6J("formControlName","gender"),e.xp6(5),e.Q6J("ngIf",n.employeeForm.get("gender").hasError("required")),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:identification"),e.xp6(1),e.Q6J("type","text")("formControlName","idNumber")("maxlength",11)("minlength",11),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("idNumber").hasError("required")),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("idNumber").hasError("maxlength")||n.employeeForm.get("idNumber").hasError("minlength")),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("idNumber").hasError("pattern")),e.xp6(5),e.Q6J("formControlName","merchantId"),e.xp6(1),e.Q6J("ngForOf",e.lcZ(90,128,n.merchants$))("ngForTrackBy",n.trackByFn),e.xp6(2),e.Q6J("ngIf",n.employeeForm.get("merchantId").hasError("required")),e.xp6(6),e.Q6J("color","primary")("formControlName","active"),e.xp6(2),e.Q6J("expanded",!0),e.xp6(1),e.Q6J("collapsedHeight","56px"),e.xp6(7),e.Q6J("ngForOf",n.employeeForm.get("phoneNumbers").controls)("ngForTrackBy",n.trackByFn),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:plus-circle"),e.xp6(5),e.Q6J("ngForOf",n.employeeForm.get("emails").controls)("ngForTrackBy",n.trackByFn),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:plus-circle"),e.xp6(3),e.Q6J("expanded",!0),e.xp6(1),e.Q6J("collapsedHeight","56px"),e.xp6(10),e.Q6J("svgIcon","heroicons_solid:home"),e.xp6(1),e.Q6J("type","text")("formControlName","address")("minLength",3)("maxlength",255),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("address").hasError("required")),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("address").hasError("maxlength")||n.employeeForm.get("address").hasError("minlength")),e.xp6(5),e.Q6J("formControlName","state"),e.xp6(1),e.Q6J("ngForOf",n.states)("ngForTrackBy",n.trackByFn),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:map"),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("state").hasError("required")),e.xp6(5),e.Q6J("formControlName","city"),e.xp6(1),e.Q6J("ngForOf",n.cities)("ngForTrackBy",n.trackByFn),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:location-marker"),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("city").hasError("required")),e.xp6(5),e.Q6J("formControlName","country"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:globe"),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("country").hasError("required")),e.xp6(5),e.Q6J("formControlName","postalCode")("min",9999)("max",99999),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("postalCode").hasError("onlyNumber")),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("postalCode").hasError("min")||n.employeeForm.get("postalCode").hasError("max")),e.xp6(1),e.Q6J("expanded",!0),e.xp6(1),e.Q6J("collapsedHeight","56px"),e.xp6(9),e.Q6J("for",a),e.xp6(3),e.Q6J("matDatepicker",a)("formControlName","dateOfJoining")("placeholder","Seleccione la fecha"),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("dateOfJoining").hasError("required")),e.xp6(5),e.Q6J("formControlName","typeOfContract"),e.xp6(5),e.Q6J("ngIf",n.employeeForm.get("typeOfContract").hasError("required")),e.xp6(5),e.Q6J("for",s),e.xp6(3),e.Q6J("matDatepicker",s)("formControlName","contractEndDate")("placeholder","Seleccione la fecha"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:clock"),e.xp6(1),e.Q6J("type","text")("formControlName","contractTime"),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("contractTime").hasError("pattern")),e.xp6(1),e.Q6J("expanded",!0),e.xp6(1),e.Q6J("collapsedHeight","56px"),e.xp6(10),e.Q6J("formControlName","department"),e.xp6(1),e.Q6J("ngForOf",e.lcZ(219,130,n.departments$)),e.xp6(2),e.Q6J("ngIf",n.employeeForm.get("department").hasError("required")),e.xp6(5),e.Q6J("formControlName","charge"),e.xp6(1),e.Q6J("ngForOf",e.lcZ(227,132,n.charges$)),e.xp6(2),e.Q6J("ngIf",n.employeeForm.get("charge").hasError("required")),e.xp6(5),e.Q6J("formControlName","scholarship"),e.xp6(1),e.Q6J("ngForOf",e.lcZ(235,134,n.scholarships$)),e.xp6(2),e.Q6J("ngIf",n.employeeForm.get("scholarship").hasError("required")),e.xp6(1),e.Q6J("expanded",!0),e.xp6(1),e.Q6J("collapsedHeight","56px"),e.xp6(9),e.Q6J("formControlName","salaryFreq"),e.xp6(1),e.Q6J("ngForOf",e.lcZ(249,136,n.salaryFreqs$)),e.xp6(2),e.Q6J("ngIf",n.employeeForm.get("salaryFreq").hasError("required")),e.xp6(5),e.Q6J("formControlName","salaryMethod"),e.xp6(1),e.Q6J("ngForOf",e.lcZ(257,138,n.salaryMethods$)),e.xp6(2),e.Q6J("ngIf",n.employeeForm.get("salaryMethod").hasError("required")),e.xp6(1),e.Q6J("expanded",!0),e.xp6(1),e.Q6J("collapsedHeight","56px"),e.xp6(8),e.Q6J("ngIf",n.employeeForm.get("imageUrl").value),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("imageUrl").value),e.xp6(1),e.Q6J("ngIf",!n.employeeForm.get("imageUrl").value),e.xp6(1),e.Q6J("ngIf",!n.employeeForm.get("imageUrl").value),e.xp6(3),e.Q6J("ngIf","new"===n.employeeId),e.xp6(1),e.Q6J("ngIf","new"!==n.employeeId)}},dependencies:[d.yS,u.mk,u.sg,u.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.Q7,i.wO,i.nD,i.qQ,i.Fd,i.oH,i.sg,i.u,x.PQ,z.ey,D.lW,se.Mq,se.hl,se.nW,K.pp,K.ib,K.yz,K.yK,c.Hw,Z.TO,Z.KE,Z.bx,Z.hX,Z.qo,ne.Nt,z.wG,j.gD,j.$L,re.Rr,f.gM,u.Ov,u.rS],encapsulation:2,changeDetection:0}),o})(),nn=(()=>{class o{constructor(t){this._chargesService=t}resolve(t,n){return this._chargesService.getCharges(0,20,"name","asc","")}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(P))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),rn=(()=>{class o{constructor(t){this._departmentsService=t}resolve(t,n){return this._departmentsService.getDepartments()}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(G))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var le=l(4128);let an=(()=>{class o{constructor(t){this._hrmEmployeesService=t}resolve(t,n){return this._hrmEmployeesService.getEmployees(0,20,"name","asc","")}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(V.b))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),sn=(()=>{class o{constructor(t,n,a){this._hrmEmployeesService=t,this._chargeService=n,this._departmentService=a}resolve(t,n){const a=t.params.employeeId;return console.log(a),(0,le.D)("new"===a?[this._chargeService.getActiveCharges(),this._departmentService.getActiveDepartments()]:[this._hrmEmployeesService.getEmployeeById(a),this._chargeService.getActiveCharges(),this._departmentService.getActiveDepartments()])}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(V.b),e.LFG(P),e.LFG(G))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const ln=[{path:"",component:_},{path:"charges",component:We,resolve:{charges:nn}},{path:"departments",component:bt,resolve:{departments:rn}},{path:"employees",component:Pt,resolve:{employees:an}},{path:"employees/:employeeId",component:on,resolve:{hrm:(()=>{class o{constructor(t,n){this._hrmService=t,this._locationService=n}resolve(t,n){return(0,le.D)([this._hrmService.getScholarship(),this._hrmService.getSalaryMethods(),this._hrmService.getSalaryFrequency()])}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(be),e.LFG(Ce.a))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),employee:sn}}];let mn=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.Bz.forChild(ln),h.m]}),o})()}}]);