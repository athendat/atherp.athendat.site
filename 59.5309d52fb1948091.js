"use strict";(self.webpackChunkatherp=self.webpackChunkatherp||[]).push([[59],{7231:(C,h,t)=>{t.d(h,{C:()=>r});var p=t(520),a=t(2340),c=t(5e3);const s=a.N.API_URL;let r=(()=>{class e{constructor(n){this._httpClient=n}uploadImage(n,i){const o=new FormData;return o.append("image",i,i.name),this._httpClient.post(`${s}/cloudinary/upload/${n}`,o)}removeImage(n,i){const o=i.slice(i.indexOf(n),i.length).split(".")[0],u=(new p.LE).set("public_id",o);return this._httpClient.delete(`${s}/cloudinary/remove`,{params:u})}}return e.\u0275fac=function(n){return new(n||e)(c.LFG(p.eN))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},6428:(C,h,t)=>{t.d(h,{B:()=>c});const c=(0,t(5620).P1)(s=>s.pagination,s=>s.pagination)},4062:(C,h,t)=>{t.d(h,{i:()=>p});class p{constructor(c){this.slug=this._slugGenerator(c)}_slugGenerator(c){return c.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace("  "," ").replace(" ","-")}}},9784:(C,h,t)=>{t.d(h,{h:()=>m});var p=t(7261),a=t(5e3),c=t(9808),s=t(2494),r=t(5245);function e(n,i){if(1&n&&a._UZ(0,"mat-icon",3),2&n){const o=a.oxw();a.Q6J("svgIcon",o.svgIcon)}}let m=(()=>{class n{constructor(o){this.data=o,this.message="",this.title="",this.svgIcon="",this.type="success",this.appearance="fill",this.message=o.message,this.title=o.title,this.svgIcon=o.svgIcon,this.type=o.type,o.appearance&&(this.appearance=o.appearance)}}return n.\u0275fac=function(o){return new(o||n)(a.Y36(p.qD))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ath-snackbar"]],decls:5,vars:5,consts:[[3,"type","appearance"],["class","icon-size-5","fuseAlertIcon","",3,"svgIcon",4,"ngIf"],["fuseAlertTitle",""],["fuseAlertIcon","",1,"icon-size-5",3,"svgIcon"]],template:function(o,u){1&o&&(a.TgZ(0,"fuse-alert",0),a.YNc(1,e,1,1,"mat-icon",1),a.TgZ(2,"span",2),a._uU(3),a.qZA(),a._uU(4),a.qZA()),2&o&&(a.Q6J("type",u.type)("appearance",u.appearance),a.xp6(1),a.Q6J("ngIf",u.svgIcon),a.xp6(2),a.Oqu(u.title),a.xp6(1),a.hij(" ",u.message,"\n"))},dependencies:[c.O5,s.W,r.Hw],styles:[".snack-alert-success[_ngcontent-%COMP%]{background-color:#39b54a!important;color:#fff}.snack-alert-warning[_ngcontent-%COMP%]{background-color:#f59e0b!important;color:#fff}.snack-alert-error[_ngcontent-%COMP%]{background-color:#ff2828!important;color:#fff}"]}),n})()},2491:(C,h,t)=>{t.d(h,{L:()=>a});var p=t(3075);class a{static isEmptyInputValue(s){return null==s||0===s.length}static mustMatch(s,r){return e=>{const m=e.get(s),n=e.get(r);if(!m||!n||(n.hasError("mustMatch")&&(delete n.errors.mustMatch,n.updateValueAndValidity()),this.isEmptyInputValue(n.value)||m.value===n.value))return null;const i={mustMatch:"Las contrase\xf1a no coinciden."};return n.setErrors(i),i}}static strongPassWord(s,r,e,m,n){return i=>{const o=i.value;if(!o)return null;const u=!s||/[A-Z]+/.test(o),v=!r||/[a-z]+/.test(o),l=!e||/[0-9]+/.test(o),E=!m||!/^[a-zA-Z0-9]+$/.test(o);return u&&v&&l&&E&&o.length>=n?null:{password:"La contrase\xf1a no cumple con los est\xe1ndares de seguridad requeridos"}}}static onlyNumber(s){return r=>{const e=r.get(s);if(!e||(e.hasError("onlyNumber")&&(delete e.errors.mustMatch,e.updateValueAndValidity()),/^[a-zA-Z0-9]+$/.test(e.value.toString())))return null;const n={onlyNumber:"Solo se admiten n\xfameros."};return e.setErrors(n),n}}static strongPasWordPattern(){return p.kI.pattern(/((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/)}static emailPattern(){return p.kI.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")}static onlyNumbersPattern(){return p.kI.pattern("^[0-9]*$")}static onlyAlphabetsWithAccentPattern(){return p.kI.pattern("^[a-zA-Z \xe1\xe9\xed\xf3\xfa\xf1\xfc]*$")}static onlyAlphabetsPattern(){return p.kI.pattern("^[a-zA-Z ]*$")}static validateIdNumber(){return s=>{if(!s)return null;let r=s.value;if(!r)return null;void 0!==s.value.idNumber&&(r=s.value.idNumber);const e=parseInt(r.substring(0,2),10),m=parseInt(r.substring(2,4),10)-1,n=parseInt(r.substring(4,6),10),i=new Date(e,m,n);if(i.getFullYear().toString().substring(2,4)===e.toString()&&i.getMonth()===m&&i.getDate()===n)return null;const u={validateIdNumber:"El n\xfamero de identidad introducido es incorrecto"};return s.setErrors(u),u}}static validFullName(s){return r=>{const e=r.get(s);if(!e||!s||(e.hasError("validFullName")&&(delete e.errors.validFullName,e.updateValueAndValidity()),this._isEmptyInputValue(e.value))||e.value.trim().split(" ").length>1)return null;const m={validFullName:"El nombre completo deber\xe1 tener al menos un nombre y un apellido"};return e.setErrors(m),m}}static _isEmptyInputValue(s){return null==s||0===s.length}}},3967:(C,h,t)=>{t.d(h,{P:()=>o});var p=t(520),a=t(2340),c=t(8505),s=t(4004),r=t(5714),e=t(6978),m=t(5e3),n=t(5620);const i=a.N.API_URL;let o=(()=>{class u{constructor(l,E){this._httpClient=l,this.store=E}getContacts(l=0,E=20,_="name",d="asc",g="",I=!1){const M=(new p.LE).append("page",l).append("size",E).append("sort",_).append("order",d).append("search",g);return this._httpClient.get(`${i}/contacts/`,{params:M}).pipe((0,c.b)(P=>{this.store.dispatch((0,r.Jr)({pagination:P.pagination})),this.store.dispatch(I?(0,e.MU)({contacts:P.dataArr}):(0,e.WT)({contacts:P.dataArr}))}))}searchContacts(l){return this._httpClient.get(`${i}/contacts/search/${l}`).pipe((0,s.U)(E=>E.dataArr))}getContactById(l){return this._httpClient.get(`${i}/contacts/${l}`).pipe((0,c.b)(E=>{this.store.dispatch((0,e.sy)({contact:E.contact}))}))}createContact(l){return this._httpClient.post(`${i}/contacts`,l).pipe((0,c.b)(E=>{this.store.dispatch((0,e.rE)({contact:E.data}))}))}updateContact(l){return this._httpClient.patch(`${i}/contacts/${l._id}`,l).pipe((0,c.b)(E=>{this.store.dispatch((0,e.Tk)({contact:E.data}))}))}deleteContact(l){return this._httpClient.delete(`${i}/contacts/${l}`).pipe((0,c.b)(()=>{this.store.dispatch((0,e.zY)({id:l}))}))}}return u.\u0275fac=function(l){return new(l||u)(m.LFG(p.eN),m.LFG(n.yh))},u.\u0275prov=m.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},814:(C,h,t)=>{t.d(h,{H5:()=>c,p6:()=>s});var p=t(5620);const a=r=>r.customers,c=(0,p.P1)(a,r=>r.customer),s=(0,p.P1)(a,r=>r.customers)},5600:(C,h,t)=>{t.d(h,{v:()=>v});var p=t(520),a=t(1135),c=t(8505),s=t(4004),r=t(3821),e=t(2340),m=t(5714),n=t(5e3),i=t(1235),o=t(5620);const u=e.N.API_URL;let v=(()=>{class l{constructor(_,d,g){this._httpClient=_,this.rolesService=d,this.store=g,this._domains=new a.X([]),this._states=new a.X([])}get domains$(){return this._domains.asObservable()}get states$(){return this._states.asObservable()}getCustomers(_=0,d=10,g="name",I="asc",M="",P=!1){const f=(new p.LE).append("page",_).append("size",d).append("sort",g).append("order",I).append("search",M);return this._httpClient.get(`${u}/customers/`,{params:f}).pipe((0,c.b)(D=>{this.store.dispatch((0,m.Jr)({pagination:D.pagination})),this.store.dispatch(P?(0,r.AT)({customers:D.dataArr}):(0,r.Pb)({customers:D.dataArr}))}))}getCustomerById(_){return this._httpClient.get(`${u}/customers/${_}`).pipe((0,c.b)(d=>{this.store.dispatch((0,r.Xg)({customer:d.customer}))}))}createCustomer(_){return this._httpClient.post(`${u}/customers`,_).pipe((0,c.b)(d=>{this.store.dispatch((0,r.wK)({customer:d.data}))}))}updateCustomer(_){return this._httpClient.patch(`${u}/customers/${_._id}`,_).pipe((0,c.b)(d=>{this.store.dispatch((0,r.uG)({customer:d.data}))}))}deleteCustomer(_){return this._httpClient.delete(`${u}/customers/${_}`).pipe((0,c.b)(()=>{this.store.dispatch((0,r.PX)({id:_}))}))}getDomains(){return this._httpClient.get("assets/data/domains.json").pipe((0,s.U)(_=>_.sort((d,g)=>d.name.toLowerCase()<g.name.toLowerCase()?-1:d.name.toLowerCase()>g.name.toLowerCase()?1:void 0)),(0,c.b)(_=>{this._domains.next(_)}))}getDomainFiltered(_){return this._httpClient.get("assets/data/domains.json").pipe((0,s.U)(d=>d.filter(g=>g.name===_)))}}return l.\u0275fac=function(_){return new(_||l)(n.LFG(p.eN),n.LFG(i.cM),n.LFG(o.yh))},l.\u0275prov=n.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()}}]);