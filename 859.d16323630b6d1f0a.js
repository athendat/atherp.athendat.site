"use strict";(self.webpackChunkatherp=self.webpackChunkatherp||[]).push([[859],{3294:(M,A,n)=>{n.d(A,{g:()=>i});var l=n(3075),r=n(8966),_=n(3844),e=n(5e3),t=n(9808),a=n(7423),v=n(5245),c=n(7322),h=n(7531);function s(o,d){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," EL motivo del rechazo es obligatorio "),e.qZA())}function m(o,d){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," EL motivo del rechazo debe contener entre 3 y 1000 caracteres. "),e.qZA())}const f=function(o){return{"cursor-not-allowed":o}};let i=(()=>{class o{constructor(u,p){this.data=u,this._dialogRef=p,this.rejectControl=new l.NI(""),this.rejectedReasonRequired=!0,this.rejectedReasonRequired=u.rejectedReasonRequired}ngOnInit(){this.rejectControl.setValidators(this.rejectedReasonRequired?[l.kI.required,l.kI.minLength(3),l.kI.maxLength(1e3)]:[l.kI.minLength(3),l.kI.maxLength(1e3)]),this.rejectControl.setValue(this.data.rejectedReason)}accept(){this._dialogRef.close({reason:this.rejectControl.value})}cancel(){this._dialogRef.close()}}return o.\u0275fac=function(u){return new(u||o)(e.Y36(r.WI),e.Y36(r.so))},o.\u0275cmp=e.Xpm({type:o,selectors:[["commercial-reject-confirm-dialog"]],decls:28,vars:15,consts:[[1,"ng-star-inserted","h-full"],[1,"relative","flex","flex-col","w-full","h-full"],[1,"h-full","flex","items-center"],[1,"block","w-full"],[1,"flex","flex-col","sm:flex-row","flex-auto","items-center","sm:items-start","p-8","pb-4","sm:pb-6"],["ng-reflect-ng-class","[object Object]",1,"flex","flex-0","items-center","justify-center","w-10","h-10","sm:mr-4","rounded-full","text-blue-600","bg-blue-100","dark:text-blue-50","dark:bg-blue-600","ng-star-inserted"],["role","img","aria-hidden","true","ng-reflect-svg-icon","heroicons_outline:question-mar","data-mat-icon-type","svg","data-mat-icon-name","question-mark-circle","data-mat-icon-namespace","heroicons_outline",1,"mat-icon","notranslate","text-current","mat-icon-no-color"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","fit","","height","100%","width","100%","preserveAspectRatio","xMidYMid meet","focusable","false"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"flex","flex-col","items-center","sm:items-start","mt-4","sm:mt-0","sm:pr-8","space-y-1","text-center","sm:text-left","ng-star-inserted"],[1,"text-xl","leading-6","font-medium","ng-star-inserted"],[1,"text-secondary","ng-star-inserted"],[1,"pr-8","pl-8","mt-10","sm:mt-0","sm:pl-22","pb-6",3,"autocomplete"],[1,"w-full","fuse-mat-textarea"],["matPrefix","","svgIcon","heroicons_solid:menu-alt-2",1,"hidden","sm:flex","icon-size-5"],["matInput","",3,"formControl","placeholder","minLength","maxLength","required"],[4,"ngIf"],[1,"flex","flex-wrap","tems-center","justify-center","md:justify-end","px-6","py-4","space-x-3","bg-gray-50","dark:bg-black","dark:bg-opacity-10","ng-star-inserted"],["mat-stroked-button","",3,"click"],["mat-flat-button","","mat-button","",3,"color","disabled","ngClass","click"]],template:function(u,p){1&u&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"mat-icon",6),e.O4$(),e.TgZ(7,"svg",7),e._UZ(8,"path",8),e.qZA()()(),e.kcU(),e.TgZ(9,"div",9)(10,"div",10),e._uU(11),e.qZA(),e.TgZ(12,"div",11),e._uU(13),e.qZA()()(),e.TgZ(14,"form",12)(15,"div")(16,"mat-form-field",13)(17,"mat-label"),e._uU(18,"Motivo"),e.qZA(),e._UZ(19,"mat-icon",14)(20,"textarea",15),e.YNc(21,s,2,0,"mat-error",16),e.YNc(22,m,2,0,"mat-error",16),e.qZA()()()()(),e.TgZ(23,"div",17)(24,"button",18),e.NdJ("click",function(){return p.cancel()}),e._uU(25,"Cancelar"),e.qZA(),e.TgZ(26,"button",19),e.NdJ("click",function(){return p.accept()}),e._uU(27," Aceptar "),e.qZA()()()()),2&u&&(e.xp6(11),e.Oqu(p.data.title),e.xp6(2),e.Oqu(p.data.message),e.xp6(1),e.Q6J("autocomplete","off"),e.xp6(6),e.Q6J("formControl",p.rejectControl)("placeholder","Escriba el motivo del rechazo")("minLength",3)("maxLength",1e3)("required",p.rejectedReasonRequired),e.xp6(1),e.Q6J("ngIf",p.rejectControl.hasError("required")),e.xp6(1),e.Q6J("ngIf",p.rejectControl.hasError("maxlength")||p.rejectControl.hasError("minlength")),e.xp6(4),e.Q6J("color","primary")("disabled",p.rejectControl.invalid)("ngClass",e.VKq(13,f,p.rejectControl.invalid)))},dependencies:[t.mk,t.O5,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.F,l.oH,a.lW,v.Hw,c.TO,c.KE,c.hX,c.qo,h.Nt],encapsulation:2,data:{animation:_.L},changeDetection:0}),o})()},4062:(M,A,n)=>{n.d(A,{i:()=>l});class l{constructor(_){this.slug=this._slugGenerator(_)}_slugGenerator(_){return _.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace("  "," ").replace(" ","-")}}},9784:(M,A,n)=>{n.d(A,{h:()=>v});var l=n(7261),r=n(5e3),_=n(9808),e=n(2494),t=n(5245);function a(c,h){if(1&c&&r._UZ(0,"mat-icon",3),2&c){const s=r.oxw();r.Q6J("svgIcon",s.svgIcon)}}let v=(()=>{class c{constructor(s){this.data=s,this.message="",this.title="",this.svgIcon="",this.type="success",this.appearance="fill",this.message=s.message,this.title=s.title,this.svgIcon=s.svgIcon,this.type=s.type,s.appearance&&(this.appearance=s.appearance)}}return c.\u0275fac=function(s){return new(s||c)(r.Y36(l.qD))},c.\u0275cmp=r.Xpm({type:c,selectors:[["ath-snackbar"]],decls:5,vars:5,consts:[[3,"type","appearance"],["class","icon-size-5","fuseAlertIcon","",3,"svgIcon",4,"ngIf"],["fuseAlertTitle",""],["fuseAlertIcon","",1,"icon-size-5",3,"svgIcon"]],template:function(s,m){1&s&&(r.TgZ(0,"fuse-alert",0),r.YNc(1,a,1,1,"mat-icon",1),r.TgZ(2,"span",2),r._uU(3),r.qZA(),r._uU(4),r.qZA()),2&s&&(r.Q6J("type",m.type)("appearance",m.appearance),r.xp6(1),r.Q6J("ngIf",m.svgIcon),r.xp6(2),r.Oqu(m.title),r.xp6(1),r.hij(" ",m.message,"\n"))},dependencies:[_.O5,e.W,t.Hw],styles:[".snack-alert-success[_ngcontent-%COMP%]{background-color:#39b54a!important;color:#fff}.snack-alert-warning[_ngcontent-%COMP%]{background-color:#f59e0b!important;color:#fff}.snack-alert-error[_ngcontent-%COMP%]{background-color:#ff2828!important;color:#fff}"]}),c})()},2491:(M,A,n)=>{n.d(A,{L:()=>r});var l=n(3075);class r{static isEmptyInputValue(e){return null==e||0===e.length}static mustMatch(e,t){return a=>{const v=a.get(e),c=a.get(t);if(!v||!c||(c.hasError("mustMatch")&&(delete c.errors.mustMatch,c.updateValueAndValidity()),this.isEmptyInputValue(c.value)||v.value===c.value))return null;const h={mustMatch:"Las contrase\xf1a no coinciden."};return c.setErrors(h),h}}static strongPassWord(e,t,a,v,c){return h=>{const s=h.value;if(!s)return null;const m=!e||/[A-Z]+/.test(s),f=!t||/[a-z]+/.test(s),i=!a||/[0-9]+/.test(s),o=!v||!/^[a-zA-Z0-9]+$/.test(s);return m&&f&&i&&o&&s.length>=c?null:{password:"La contrase\xf1a no cumple con los est\xe1ndares de seguridad requeridos"}}}static onlyNumber(e){return t=>{const a=t.get(e);if(!a||!a.value||(a.hasError("onlyNumber")&&(delete a.errors.mustMatch,a.updateValueAndValidity()),/^[a-zA-Z0-9]+$/.test(a.value.toString())))return null;const c={onlyNumber:"Solo se admiten n\xfameros."};return a.setErrors(c),c}}static strongPasWordPattern(){return l.kI.pattern(/((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/)}static emailPattern(){return l.kI.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")}static onlyNumbersPattern(){return l.kI.pattern("^[0-9]*$")}static numbersAndDecimalsPattern(){return l.kI.pattern(/^-?\d*[.,]?\d{0,2}$/)}static onlyAlphabetsWithAccentPattern(){return l.kI.pattern("^[a-zA-Z \xe1\xe9\xed\xf3\xfa\xf1\xfc]*$")}static onlyAlphabetsPattern(){return l.kI.pattern("^[a-zA-Z ]*$")}static validateIdNumber(){return e=>{if(!e)return null;let t=e.value;if(!t)return null;void 0!==e.value.idNumber&&(t=e.value.idNumber);const a=parseInt(t.substring(0,2),10),v=parseInt(t.substring(2,4),10)-1,c=parseInt(t.substring(4,6),10),h=new Date(a,v,c);if(h.getFullYear().toString().substring(2,4)===a.toString()&&h.getMonth()===v&&h.getDate()===c)return null;const m={validateIdNumber:"El n\xfamero de identidad introducido es incorrecto"};return e.setErrors(m),m}}static validFullName(e){return t=>{const a=t.get(e);if(!a||!e||(a.hasError("validFullName")&&(delete a.errors.validFullName,a.updateValueAndValidity()),this._isEmptyInputValue(a.value))||a.value.trim().split(" ").length>1)return null;const v={validFullName:"El nombre completo deber\xe1 tener al menos un nombre y un apellido"};return a.setErrors(v),v}}static _isEmptyInputValue(e){return null==e||0===e.length}}},3005:(M,A,n)=>{n.d(A,{YP:()=>_,ZQ:()=>e});var l=n(5620);const r=t=>t.productServices,_=(0,l.P1)(r,t=>t.productService),e=(0,l.P1)(r,t=>t.productServices)},2834:(M,A,n)=>{n.d(A,{z:()=>s});var l=n(520),r=n(8505),_=n(5714),e=n(2340),t=n(5057),a=n(5e3),v=n(1235),c=n(5620);const h=e.N.API_URL;let s=(()=>{class m{constructor(i,o,d){this._httpClient=i,this.rolesService=o,this.store=d}getProductServices(i=0,o=20,d="active",u="desc",p=""){const D=(new l.LE).append("page",i).append("size",o).append("sort",d).append("order",u).append("search",p);return this._httpClient.get(`${h}/products-services/`,{params:D}).pipe((0,r.b)(x=>{this.store.dispatch((0,_.Jr)({pagination:x.pagination})),this.store.dispatch((0,t.C5)({productServices:x.dataArr}))}))}getActiveProductServices(){return this._httpClient.get(`${h}/products-services/active`).pipe((0,r.b)(i=>{this.store.dispatch((0,t.C5)({productServices:i.dataArr}))}))}getActiveProductServicesByMerchantId(i){return this._httpClient.get(`${h}/products-services/active-by-merchantId/${i}`).pipe((0,r.b)(o=>{this.store.dispatch((0,t.C5)({productServices:o.dataArr}))}))}getProductServiceById(i){return this._httpClient.get(`${h}/products-services/${i}`).pipe((0,r.b)(o=>{this.store.dispatch((0,t.Fl)({productService:o.productService}))}))}createProductService(i){return this._httpClient.post(`${h}/products-services`,i).pipe((0,r.b)(o=>{this.store.dispatch((0,t.QI)({productService:o.data}))}))}updateProductService(i){return this._httpClient.patch(`${h}/products-services/${i._id}`,i).pipe((0,r.b)(o=>{this.store.dispatch((0,t.pF)({productService:o.data}))}))}deleteProductService(i,o=0,d=20,u="active",p="desc",D=""){const x=(new l.LE).append("page",o).append("size",d).append("sort",u).append("order",p).append("search",D);return this._httpClient.delete(`${h}/products-services/${i}`,{params:x}).pipe((0,r.b)(g=>{this.store.dispatch((0,_.Jr)({pagination:g.pagination})),this.store.dispatch((0,t.C5)({productServices:g.dataArr}))}))}}return m.\u0275fac=function(i){return new(i||m)(a.LFG(l.eN),a.LFG(v.cM),a.LFG(c.yh))},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},1915:(M,A,n)=>{n.d(A,{_:()=>Z});var l=n(4787),r=n(7579),_=n(2722),e=n(7939),t=n(5e3),a=n(5620),v=n(9808),c=n(5357),h=n(393),s=n(7423),m=n(5245);function f(T,U){if(1&T&&(t.TgZ(0,"div",31),t._UZ(1,"img",32),t.qZA()),2&T){const E=t.oxw();t.xp6(1),t.Q6J("src",E.merchantInvoice.logoUrl,t.LSH)}}function i(T,U){if(1&T){const E=t.EpF();t.TgZ(0,"div",38)(1,"button",39),t.NdJ("click",function(){t.CHM(E);const P=t.oxw(2);return t.KtG(P.cycleImages())}),t._UZ(2,"mat-icon",40),t.qZA(),t.TgZ(3,"button",39),t.NdJ("click",function(){t.CHM(E);const P=t.oxw(2);return t.KtG(P.cycleImages())}),t._UZ(4,"mat-icon",40),t.qZA()()}2&T&&(t.xp6(2),t.Q6J("svgIcon","heroicons_solid:arrow-narrow-left"),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:arrow-narrow-right"))}function o(T,U){if(1&T&&(t.TgZ(0,"div",33)(1,"span",34),t._uU(2),t.qZA(),t.TgZ(3,"div",35),t._UZ(4,"img",36),t.qZA(),t.YNc(5,i,5,2,"div",37),t.qZA()),2&T){const E=t.oxw();t.xp6(2),t.Oqu(E.selectedQr.name),t.xp6(2),t.Q6J("src",E.selectedQr.qrUrl,t.LSH),t.xp6(1),t.Q6J("ngIf",E.showB)}}function d(T,U){if(1&T&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&T){const E=t.oxw();t.xp6(1),t.hij(" ",E.merchantInvoice.phoneNumbers[0].stateCode+" "+E.merchantInvoice.phoneNumbers[0].phoneNumber,"")}}function u(T,U){if(1&T&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&T){const E=t.oxw();t.xp6(1),t.Oqu(E.merchantInvoice.emails[0].email)}}function p(T,U){if(1&T&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&T){const E=t.oxw();t.xp6(1),t.Oqu(E.divInSpaces())}}const D=function(){return["$"]};function x(T,U){if(1&T&&(t.TgZ(0,"div",41),t._UZ(1,"div",42),t.TgZ(2,"div",43),t._uU(3),t.qZA(),t.TgZ(4,"div",44),t._uU(5),t.qZA(),t.TgZ(6,"div",44),t._uU(7),t.ALo(8,"currency"),t.qZA(),t.TgZ(9,"div",45),t._uU(10),t.ALo(11,"currency"),t.qZA()()),2&T){const E=U.$implicit;t.xp6(3),t.Oqu(E.name),t.xp6(2),t.Oqu(E.amount),t.xp6(2),t.Oqu(t.xi3(8,4,E.price,t.DdM(10,D))),t.xp6(3),t.Oqu(t.xi3(11,7,E.quantity,t.DdM(11,D)))}}function g(T,U){if(1&T&&(t.TgZ(0,"div",46)(1,"div",47)(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"span"),t._uU(5,"-"),t.qZA()(),t.TgZ(6,"span",48),t._uU(7),t.qZA()()),2&T){const E=U.$implicit;t.xp6(3),t.hij("",E.percent,"%"),t.xp6(4),t.Oqu(E.description)}}const O=function(){return["CUP "]},C=function(T,U){return[T,U]};let Z=(()=>{class T{constructor(E,I){this.store=E,this._changeDetectorRef=I,this.selectedInvoice$=null,this.selectedInvoice=null,this.selectedQr=null,this.showB=!0,this._unsubscribeAll=new r.x}ngOnInit(){this.store.select(l.rk).pipe((0,_.R)(this._unsubscribeAll)).subscribe(E=>{this.linkRequest=E?"/modules/commercial/quotations":"/public/quotation",this._changeDetectorRef.markForCheck()}),this.selectedInvoice$=this.store.select(e.xF),this.selectedInvoice$.pipe((0,_.R)(this._unsubscribeAll)).subscribe(E=>{this.selectedInvoice=E,this.merchantInvoice=E.merchantId,this.quotationInvoice=E.quotationId,this.requestQuotation=this.quotationInvoice.requestId,this.cycleImages(),this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}getTotalQuantity(){return this.selectedInvoice.goodsData.map(E=>E.quantity).reduce((E,I)=>E+I,0)}cycleImages(){const E=this.selectedInvoice.merchantId,I=E.commercialManagement.enzonaQr,P=E.commercialManagement.transfermovilQr;if(I||P)return I?P?(this.selectedQr||(this.selectedQr={name:"Enzona",qrUrl:I}),this.selectedQr=I===this.selectedQr.qrUrl?{name:"Transfermovil",qrUrl:P}:{name:"Enzona",qrUrl:I},void this._changeDetectorRef.markForCheck()):(this.selectedQr={name:"Enzona",qrUrl:I},this.showB=!1,void this._changeDetectorRef.markForCheck()):(this.selectedQr={name:"Transfermovil",qrUrl:P},this.showB=!1,void this._changeDetectorRef.markForCheck());this.selectedQr=null}divInSpaces(){const E=this.selectedInvoice.bankAccount,I=[];for(let P=0;P<E.length;P++)I.push(E.substring(P,P+4)),P+=3;return I.join("-")}}return T.\u0275fac=function(E){return new(E||T)(t.Y36(a.yh),t.Y36(t.sBO))},T.\u0275cmp=t.Xpm({type:T,selectors:[["invoice-details"]],decls:69,vars:38,consts:[["cdkScrollable","",1,"flex","md:justify-center","w-full","print:overflow-visible"],[1,"inline-block","p-6","sm:p-10","text-left","print:p-0"],[1,"w-240","p-16","rounded-2xl","shadow","bg-card","print:w-auto","print:rounded-none","print:shadow-none","print:bg-transparent"],[1,"flex","items-start","justify-between"],[1,"whitespace-nowrap","grid","grid-cols-2","gap-y-1",2,"width","260px !important"],[1,"text-3xl","tracking-tight","text-secondary"],[1,"text-2xl","flex","items-center","font-medium"],[1,"font-medium","tracking-tight","text-secondary"],[1,"font-medium"],[1,"font-medium","text-primary-500","hover:text-primary-700","cursor-pointer",3,"routerLink"],[1,"grid","auto-cols-max","grid-flow-col","gap-x-8","-mr-16","py-6","px-8","rounded-l-2xl","bg-primary-50"],["class","place-self-center w-24",4,"ngIf"],["class","flex flex-col items-center",4,"ngIf"],[1,"pl-8","overflow-auto","break-word","border-l","text-md",2,"width","220px !important","border-color","black"],[4,"ngIf"],[1,"mt-4","text-md"],[1,"text-xl","font-medium"],[1,"grid","grid-cols-12","gap-x-1","mt-14"],[1,"col-span-8","font-medium","text-md","text-secondary"],[1,"font-medium","text-md","text-right","text-secondary"],[1,"col-span-2","font-medium","text-md","text-right","text-secondary"],["class","col-span-12 grid grid-cols-12 gap-x-1",4,"ngFor","ngForOf"],[1,"col-span-12","mt-16"],[1,"col-span-12","my-3","border-b"],[1,"col-span-10","self-center","text-2xl","font-medium","tracking-tight","text-secondary"],[1,"col-span-2","text-right","text-2xl","font-medium"],[1,"mt-16"],[1,"flex","items-start","mt-4"],[1,"flex-0","w-10","mt-1",3,"src"],[1,"flex","flex-col","ml-6","w-full"],["style","grid-template-columns: 45px auto !important;","class","grid grid-cols-2 text-sm text-secondary w-full",4,"ngFor","ngForOf"],[1,"place-self-center","w-24"],[1,"w-24",3,"src"],[1,"flex","flex-col","items-center"],[1,"text-md","font-medium","text-secondary"],[1,"place-self-center","mt-1","w-24","h-24"],[1,"w-24","h-24","object-cover",3,"src"],["class","flex items-center justify-around w-full mt-1 whitespace-nowrap",4,"ngIf"],[1,"flex","items-center","justify-around","w-full","mt-1","whitespace-nowrap"],["mat-icon-button","",2,"height","25px !important","min-height","25px","width","25px !important",3,"click"],[1,"icon-size-4",3,"svgIcon"],[1,"col-span-12","grid","grid-cols-12","gap-x-1"],[1,"col-span-12","my-4","border-b"],[1,"col-span-8","text-lg","font-medium"],[1,"self-center","text-center"],[1,"col-span-2","self-center","text-right"],[1,"grid","grid-cols-2","text-sm","text-secondary","w-full",2,"grid-template-columns","45px auto !important"],[1,"flex","justify-between"],[1,"ml-4"]],template:function(E,I){1&E&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._uU(6,"FACTURA"),t.qZA(),t.TgZ(7,"div",6),t._uU(8),t.qZA(),t.TgZ(9,"div",7),t._uU(10,"EMITIDA EL"),t.qZA(),t.TgZ(11,"div",8),t._uU(12),t.ALo(13,"date"),t.qZA(),t.TgZ(14,"div",7),t._uU(15,"ESTADO"),t.qZA(),t.TgZ(16,"div",8),t._uU(17),t.qZA(),t.TgZ(18,"div",7),t._uU(19,"IMPORTE TOTAL"),t.qZA(),t.TgZ(20,"div",8),t._uU(21),t.ALo(22,"currency"),t.qZA(),t.TgZ(23,"div",7),t._uU(24,"OFERTA"),t.qZA(),t.TgZ(25,"a",9),t._uU(26),t.qZA()(),t.TgZ(27,"div",10),t.YNc(28,f,2,1,"div",11),t.YNc(29,o,6,3,"div",12),t.TgZ(30,"div",13)(31,"div",8),t._uU(32),t.qZA(),t.TgZ(33,"div"),t._uU(34),t.qZA(),t.YNc(35,d,2,1,"div",14),t.YNc(36,u,2,1,"div",14),t.TgZ(37,"div"),t._uU(38),t.qZA(),t.YNc(39,p,2,1,"div",14),t.qZA()()(),t.TgZ(40,"div",15)(41,"div",16),t._uU(42),t.qZA(),t.TgZ(43,"div"),t._uU(44),t.qZA()(),t.TgZ(45,"div",17)(46,"div",18),t._uU(47,"PRODUCTO O SERVICIO"),t.qZA(),t.TgZ(48,"div",19),t._uU(49,"CANTIDAD"),t.qZA(),t.TgZ(50,"div",19),t._uU(51,"PRECIO"),t.qZA(),t.TgZ(52,"div",20),t._uU(53,"TOTAL"),t.qZA(),t.YNc(54,x,12,12,"div",21),t._UZ(55,"div",22)(56,"div",23),t.TgZ(57,"div",24),t._uU(58,"TOTAL"),t.qZA(),t.TgZ(59,"div",25),t._uU(60),t.ALo(61,"currency"),t.qZA()(),t.TgZ(62,"div",26)(63,"div",8),t._uU(64,"T\xe9rminos o condiciones de pago."),t.qZA(),t.TgZ(65,"div",27),t._UZ(66,"img",28),t.TgZ(67,"div",29),t.YNc(68,g,8,2,"div",30),t.qZA()()()()()()),2&E&&(t.xp6(8),t.hij("#",I.selectedInvoice.no,""),t.xp6(4),t.Oqu(t.xi3(13,24,I.selectedInvoice.createdAt,"dd/MM/yyyy")),t.xp6(5),t.Oqu(I.selectedInvoice.status.toUpperCase()),t.xp6(4),t.Oqu(t.xi3(22,27,I.getTotalQuantity(),t.DdM(33,O))),t.xp6(4),t.Q6J("routerLink",t.WLB(34,C,I.linkRequest,I.quotationInvoice._id)),t.xp6(1),t.hij("#",I.selectedInvoice.quotationNo,""),t.xp6(2),t.Q6J("ngIf","UseMerchantPayments"!==I.selectedInvoice.paymentMethodData.paymentBy),t.xp6(1),t.Q6J("ngIf",I.selectedQr&&"UseMerchantPayments"===I.selectedInvoice.paymentMethodData.paymentBy),t.xp6(3),t.Oqu(I.merchantInvoice.name),t.xp6(2),t.HOy("",I.merchantInvoice.address,", ",I.merchantInvoice.city,", ",I.merchantInvoice.state,", ",I.merchantInvoice.country," "),t.xp6(1),t.Q6J("ngIf",I.merchantInvoice.phoneNumbers.length>0),t.xp6(1),t.Q6J("ngIf",I.merchantInvoice.emails.length>0),t.xp6(2),t.Oqu(I.merchantInvoice.website),t.xp6(1),t.Q6J("ngIf",I.selectedInvoice.paymentMethodData.includeBankAccount),t.xp6(3),t.AsE("",I.requestQuotation.name," ",I.requestQuotation.lastName,""),t.xp6(2),t.Oqu(I.requestQuotation.email),t.xp6(10),t.Q6J("ngForOf",I.selectedInvoice.goodsData),t.xp6(6),t.Oqu(t.xi3(61,30,I.getTotalQuantity(),t.DdM(37,O))),t.xp6(6),t.Q6J("src",I.merchantInvoice.logoUrl,t.LSH),t.xp6(2),t.Q6J("ngForOf",I.selectedInvoice.paymentMethodData.terms))},dependencies:[v.sg,v.O5,c.yS,h.PQ,s.lW,m.Hw,v.H9,v.uU],encapsulation:2,changeDetection:0}),T})()},6826:(M,A,n)=>{n.d(A,{b:()=>_});var l=n(6338),r=n(5e3);let _=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[l.m]}),e})()},2567:(M,A,n)=>{n.d(A,{l:()=>a,u:()=>v});var l=n(2843),r=n(262),_=n(5e3),e=n(9997),t=n(5357);let a=(()=>{class c{constructor(s){this._invoicesService=s}resolve(s,m){return this._invoicesService.getInvoices()}}return c.\u0275fac=function(s){return new(s||c)(_.LFG(e.x))},c.\u0275prov=_.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),v=(()=>{class c{constructor(s,m){this._invoicesService=s,this._router=m}resolve(s,m){return this._invoicesService.getInvoiceById(s.params.invoiceId).pipe((0,r.K)(i=>{console.error(i);const o=m.url.split("/").slice(0,-1).join("/");return this._router.navigateByUrl(o),(0,l._)(i)}))}}return c.\u0275fac=function(s){return new(s||c)(_.LFG(e.x),_.LFG(t.F0))},c.\u0275prov=_.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},7939:(M,A,n)=>{n.d(A,{vm:()=>e,xF:()=>_});var l=n(5620);const r=t=>t.invoices,_=(0,l.P1)(r,t=>t.invoice),e=(0,l.P1)(r,t=>t.invoices)},9997:(M,A,n)=>{n.d(A,{x:()=>s});var l=n(520),r=n(8505),_=n(5714),e=n(2340),t=n(6995),a=n(5e3),v=n(1235),c=n(5620);const h=e.N.API_URL;let s=(()=>{class m{constructor(i,o,d){this._httpClient=i,this.rolesService=o,this.store=d}getInvoices(i=0,o=20,d="createdAt",u="desc",p="",D=""){const x=(new l.LE).append("page",i).append("size",o).append("sort",d).append("order",u).append("search",p).append("filter",D);return this._httpClient.get(`${h}/invoices/`,{params:x}).pipe((0,r.b)(g=>{this.store.dispatch((0,_.Jr)({pagination:g.pagination})),this.store.dispatch((0,t.Nr)({invoices:g.dataArr}))}))}getInvoiceById(i){return this._httpClient.get(`${h}/invoices/${i}`).pipe((0,r.b)(o=>{this.store.dispatch((0,t.zm)({invoice:o.invoice}))}))}createInvoice(i){return this._httpClient.post(`${h}/invoices`,i).pipe((0,r.b)(o=>{this.store.dispatch((0,t.Z$)({invoice:o.data}))}))}updateInvoice(i){return this._httpClient.patch(`${h}/invoices/${i._id}`,i).pipe((0,r.b)(o=>{this.store.dispatch((0,t.aL)({invoice:o.data}))}))}updateStatus(i,o,d=""){return this._httpClient.patch(`${h}/invoices/update-status`,{_id:i,status:o,canceledReason:d}).pipe((0,r.b)(u=>{this.store.dispatch((0,t.aL)({invoice:u.data}))}))}deleteInvoice(i,o=0,d=20,u="createdAt",p="desc",D="",x=""){const g=(new l.LE).append("page",o).append("size",d).append("sort",u).append("order",p).append("search",D).append("filter",x);return this._httpClient.delete(`${h}/invoices/${i}`,{params:g}).pipe((0,r.b)(O=>{this.store.dispatch((0,_.Jr)({pagination:O.pagination})),this.store.dispatch((0,t.Nr)({invoices:O.dataArr}))}))}}return m.\u0275fac=function(i){return new(i||m)(a.LFG(l.eN),a.LFG(v.cM),a.LFG(c.yh))},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},8721:(M,A,n)=>{n.d(A,{o:()=>s});var l=n(520),r=n(8505),_=n(4004),e=n(2768),t=n(5714),a=n(2340),v=n(5e3),c=n(5620);const h=a.N.API_URL;let s=(()=>{class m{constructor(i,o){this._httpClient=i,this.store=o}getPaymentMethods(i=0,o=20,d="active",u="desc",p=""){const D=(new l.LE).append("page",i).append("size",o).append("sort",d).append("order",u).append("search",p);return this._httpClient.get(`${h}/payment-methods/`,{params:D}).pipe((0,r.b)(x=>{this.store.dispatch((0,t.Jr)({pagination:x.pagination})),this.store.dispatch((0,e.DA)({paymentMethods:x.dataArr}))}))}getActivePaymentMethods(){return this._httpClient.get(`${h}/payment-methods/active`).pipe((0,_.U)(i=>i.dataArr),(0,r.b)(i=>{this.store.dispatch((0,e.DA)({paymentMethods:i}))}))}createPaymentMethod(i){return this._httpClient.post(`${h}/payment-methods`,i).pipe((0,r.b)(o=>{this.store.dispatch((0,t.W4)()),this.store.dispatch((0,e.Iw)({paymentMethod:o.data}))}))}updatePaymentMethod(i){return this._httpClient.patch(`${h}/payment-methods/${i._id}`,i).pipe((0,r.b)(o=>{this.store.dispatch((0,e.TV)({paymentMethod:o.data}))}))}deletePaymentMethod(i,o=0,d=20,u="active",p="desc",D=""){const x=(new l.LE).append("page",o).append("size",d).append("sort",u).append("order",p).append("search",D);return this._httpClient.delete(`${h}/payment-methods/${i}`,{params:x}).pipe((0,r.b)(g=>{this.store.dispatch((0,t.Jr)({pagination:g.pagination})),this.store.dispatch((0,e.DA)({paymentMethods:g.dataArr}))}))}}return m.\u0275fac=function(i){return new(i||m)(v.LFG(l.eN),v.LFG(c.yh))},m.\u0275prov=v.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},5453:(M,A,n)=>{n.d(A,{i:()=>p});var l=n(4787),r=n(7579),_=n(2722),e=n(6861),t=n(5e3),a=n(5620),v=n(9808),c=n(5357),h=n(393);function s(D,x){if(1&D&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&D){const g=t.oxw();t.xp6(1),t.hij(" ",g.merchantQuotation.phoneNumbers[0].stateCode+" "+g.merchantQuotation.phoneNumbers[0].phoneNumber,"")}}function m(D,x){if(1&D&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&D){const g=t.oxw();t.xp6(1),t.Oqu(g.merchantQuotation.emails[0].email)}}const f=function(){return["$"]};function i(D,x){if(1&D&&(t.TgZ(0,"div",31),t._UZ(1,"div",32),t.TgZ(2,"div",33),t._uU(3),t.qZA(),t.TgZ(4,"div",34),t._uU(5),t.qZA(),t.TgZ(6,"div",34),t._uU(7),t.ALo(8,"currency"),t.qZA(),t.TgZ(9,"div",35),t._uU(10),t.ALo(11,"currency"),t.qZA()()),2&D){const g=x.$implicit;t.xp6(3),t.Oqu(g.name),t.xp6(2),t.Oqu(g.amount),t.xp6(2),t.Oqu(t.xi3(8,4,g.price,t.DdM(10,f))),t.xp6(3),t.Oqu(t.xi3(11,7,g.quantity,t.DdM(11,f)))}}function o(D,x){if(1&D&&(t.TgZ(0,"div",36)(1,"div",37)(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"span"),t._uU(5,"-"),t.qZA()(),t.TgZ(6,"span",38),t._uU(7),t.qZA()()),2&D){const g=x.$implicit;t.xp6(3),t.hij("",g.percent,"%"),t.xp6(4),t.Oqu(g.description)}}const d=function(){return["CUP "]},u=function(D,x){return[D,x]};let p=(()=>{class D{constructor(g,O){this.store=g,this._changeDetectorRef=O,this.selectedQuotation$=null,this.selectedQuotation=null,this._unsubscribeAll=new r.x}ngOnInit(){this.store.select(l.rk).pipe((0,_.R)(this._unsubscribeAll)).subscribe(g=>{console.log(g),this.linkRequest=g?"/modules/commercial/request":"/public/request",this._changeDetectorRef.markForCheck()}),this.selectedQuotation$=this.store.select(e.$i),this.selectedQuotation$.pipe((0,_.R)(this._unsubscribeAll)).subscribe(g=>{this.selectedQuotation=g,this.merchantQuotation=g.merchantId,this.requestQuotation=g.requestId,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}getTotalQuantity(){return this.selectedQuotation.goodsData.map(g=>g.quantity).reduce((g,O)=>g+O,0)}}return D.\u0275fac=function(g){return new(g||D)(t.Y36(a.yh),t.Y36(t.sBO))},D.\u0275cmp=t.Xpm({type:D,selectors:[["quotation-details"]],decls:68,vars:36,consts:[["cdkScrollable","",1,"flex","md:justify-center","w-full","print:overflow-visible"],[1,"inline-block","p-6","sm:p-10","text-left","print:p-0"],[1,"w-240","p-16","rounded-2xl","shadow","bg-card","print:w-auto","print:rounded-none","print:shadow-none","print:bg-transparent"],[1,"flex","items-start","justify-between"],[1,"grid","grid-cols-2","gap-y-1","whitespace-nowrap",2,"width","260px !important"],[1,"text-3xl","tracking-tight","text-secondary"],[1,"text-2xl","flex","items-center","font-medium"],[1,"font-medium","tracking-tight","text-secondary"],[1,"font-medium"],[1,"font-medium","text-primary-500","hover:text-primary-700","cursor-pointer",3,"routerLink"],[1,"grid","auto-cols-max","grid-flow-col","gap-x-8","-mr-16","py-6","px-8","rounded-l-2xl","bg-primary-50"],[1,"place-self-center","w-24"],[1,"w-24",3,"src"],[1,"pl-8","overflow-auto","break-word","border-l","text-md",2,"width","220px !important","border-color","black"],[4,"ngIf"],[1,"mt-4","text-md"],[1,"text-xl","font-medium"],[1,"grid","grid-cols-12","gap-x-1","mt-14"],[1,"col-span-8","font-medium","text-md","text-secondary"],[1,"font-medium","text-md","text-right","text-secondary"],[1,"col-span-2","font-medium","text-md","text-right","text-secondary"],["class","col-span-12 grid grid-cols-12 gap-x-1",4,"ngFor","ngForOf"],[1,"col-span-12","mt-16"],[1,"col-span-12","my-3","border-b"],[1,"col-span-10","self-center","text-2xl","font-medium","tracking-tight","text-secondary"],[1,"col-span-2","text-right","text-2xl","font-medium"],[1,"mt-16"],[1,"flex","items-start","mt-4"],[1,"flex-0","w-10","mt-1",3,"src"],[1,"flex","flex-col","ml-6","w-full"],["style","grid-template-columns: 45px auto !important;","class","grid grid-cols-2 text-sm text-secondary w-full",4,"ngFor","ngForOf"],[1,"col-span-12","grid","grid-cols-12","gap-x-1"],[1,"col-span-12","my-4","border-b"],[1,"col-span-8","text-lg","font-medium"],[1,"self-center","text-center"],[1,"col-span-2","self-center","text-right"],[1,"grid","grid-cols-2","text-sm","text-secondary","w-full",2,"grid-template-columns","45px auto !important"],[1,"flex","justify-between"],[1,"ml-4"]],template:function(g,O){1&g&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._uU(6,"OFERTA"),t.qZA(),t.TgZ(7,"div",6),t._uU(8),t.qZA(),t.TgZ(9,"div",7),t._uU(10,"EMITIDA EL"),t.qZA(),t.TgZ(11,"div",8),t._uU(12),t.ALo(13,"date"),t.qZA(),t.TgZ(14,"div",7),t._uU(15,"ESTADO"),t.qZA(),t.TgZ(16,"div",8),t._uU(17),t.qZA(),t.TgZ(18,"div",7),t._uU(19,"IMPORTE TOTAL"),t.qZA(),t.TgZ(20,"div",8),t._uU(21),t.ALo(22,"currency"),t.qZA(),t.TgZ(23,"div",7),t._uU(24,"SOLICITUD"),t.qZA(),t.TgZ(25,"a",9),t._uU(26),t.qZA()(),t.TgZ(27,"div",10)(28,"div",11),t._UZ(29,"img",12),t.qZA(),t.TgZ(30,"div",13)(31,"div",8),t._uU(32),t.qZA(),t.TgZ(33,"div"),t._uU(34),t.qZA(),t.YNc(35,s,2,1,"div",14),t.YNc(36,m,2,1,"div",14),t.TgZ(37,"div"),t._uU(38),t.qZA()()()(),t.TgZ(39,"div",15)(40,"div",16),t._uU(41),t.qZA(),t.TgZ(42,"div"),t._uU(43),t.qZA()(),t.TgZ(44,"div",17)(45,"div",18),t._uU(46,"PRODUCTO O SERVICIO"),t.qZA(),t.TgZ(47,"div",19),t._uU(48,"CANTIDAD"),t.qZA(),t.TgZ(49,"div",19),t._uU(50,"PRECIO"),t.qZA(),t.TgZ(51,"div",20),t._uU(52,"TOTAL"),t.qZA(),t.YNc(53,i,12,12,"div",21),t._UZ(54,"div",22)(55,"div",23),t.TgZ(56,"div",24),t._uU(57,"TOTAL"),t.qZA(),t.TgZ(58,"div",25),t._uU(59),t.ALo(60,"currency"),t.qZA()(),t.TgZ(61,"div",26)(62,"div",8),t._uU(63,"T\xe9rminos o condiciones de pago."),t.qZA(),t.TgZ(64,"div",27),t._UZ(65,"img",28),t.TgZ(66,"div",29),t.YNc(67,o,8,2,"div",30),t.qZA()()()()()()),2&g&&(t.xp6(8),t.hij("#",O.selectedQuotation.no,""),t.xp6(4),t.Oqu(t.xi3(13,22,O.selectedQuotation.createdAt,"dd/MM/yyyy")),t.xp6(5),t.Oqu(O.selectedQuotation.status.toUpperCase()),t.xp6(4),t.Oqu(t.xi3(22,25,O.getTotalQuantity(),t.DdM(31,d))),t.xp6(4),t.Q6J("routerLink",t.WLB(32,u,O.linkRequest,O.requestQuotation._id)),t.xp6(1),t.hij("#",O.selectedQuotation.requestNo,""),t.xp6(3),t.Q6J("src",O.merchantQuotation.logoUrl,t.LSH),t.xp6(3),t.Oqu(O.merchantQuotation.name),t.xp6(2),t.HOy("",O.merchantQuotation.address,", ",O.merchantQuotation.city,", ",O.merchantQuotation.state,", ",O.merchantQuotation.country," "),t.xp6(1),t.Q6J("ngIf",O.merchantQuotation.phoneNumbers.length>0),t.xp6(1),t.Q6J("ngIf",O.merchantQuotation.emails.length>0),t.xp6(2),t.Oqu(O.merchantQuotation.website),t.xp6(3),t.AsE("",O.requestQuotation.name," ",O.requestQuotation.lastName,""),t.xp6(2),t.Oqu(O.requestQuotation.email),t.xp6(10),t.Q6J("ngForOf",O.selectedQuotation.goodsData),t.xp6(6),t.Oqu(t.xi3(60,28,O.getTotalQuantity(),t.DdM(35,d))),t.xp6(6),t.Q6J("src",O.merchantQuotation.logoUrl,t.LSH),t.xp6(2),t.Q6J("ngForOf",O.selectedQuotation.paymentMethodData.terms))},dependencies:[v.sg,v.O5,c.yS,h.PQ,v.H9,v.uU],encapsulation:2,changeDetection:0}),D})()},6863:(M,A,n)=>{n.d(A,{K:()=>_});var l=n(6338),r=n(5e3);let _=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[l.m]}),e})()},9641:(M,A,n)=>{n.d(A,{S:()=>a,x:()=>v});var l=n(2843),r=n(262),_=n(5e3),e=n(7871),t=n(5357);let a=(()=>{class c{constructor(s){this._quotationsService=s}resolve(s,m){return this._quotationsService.getQuotations()}}return c.\u0275fac=function(s){return new(s||c)(_.LFG(e.D))},c.\u0275prov=_.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),v=(()=>{class c{constructor(s,m){this._quotationsService=s,this._router=m}resolve(s,m){return this._quotationsService.getQuotationById(s.params.quotationId).pipe((0,r.K)(i=>{console.error(i);const o=m.url.split("/").slice(0,-1).join("/");return this._router.navigateByUrl(o),(0,l._)(i)}))}}return c.\u0275fac=function(s){return new(s||c)(_.LFG(e.D),_.LFG(t.F0))},c.\u0275prov=_.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},6861:(M,A,n)=>{n.d(A,{$i:()=>_,uy:()=>e});var l=n(5620);const r=t=>t.quotations,_=(0,l.P1)(r,t=>t.quotation),e=(0,l.P1)(r,t=>t.quotations)},7871:(M,A,n)=>{n.d(A,{D:()=>m});var l=n(520),r=n(8505),_=n(5714),e=n(7205),t=n(2340),a=n(1494),v=n(5e3),c=n(1235),h=n(5620);const s=t.N.API_URL;let m=(()=>{class f{constructor(o,d,u){this._httpClient=o,this.rolesService=d,this.store=u}getQuotations(o=0,d=20,u="createdAt",p="desc",D="",x=""){const g=(new l.LE).append("page",o).append("size",d).append("sort",u).append("order",p).append("search",D).append("filter",x);return this._httpClient.get(`${s}/quotations/`,{params:g}).pipe((0,r.b)(O=>{this.store.dispatch((0,_.Jr)({pagination:O.pagination})),this.store.dispatch((0,a.ZI)({quotations:O.dataArr}))}))}getQuotationById(o){return this._httpClient.get(`${s}/quotations/${o}`).pipe((0,r.b)(d=>{this.store.dispatch((0,a.Yd)({quotation:d.quotation}))}))}createQuotation(o){return this._httpClient.post(`${s}/quotations`,o).pipe((0,r.b)(d=>{this.store.dispatch((0,a.T9)({quotation:d.data})),this.store.dispatch((0,a.Yd)({quotation:d.data}))}))}updateQuotation(o){return this._httpClient.patch(`${s}/quotations/${o._id}`,o).pipe((0,r.b)(d=>{this.store.dispatch((0,a.qm)({quotation:d.data}))}))}acceptQuotation(o){return this._httpClient.patch(`${s}/quotations/accept`,{_id:o,status:e.qm.Aceptada}).pipe((0,r.b)(d=>{console.log(d.data),this.store.dispatch((0,a.qm)({quotation:d.data})),this.store.dispatch((0,a.Yd)({quotation:d.data}))}))}rejectQuotation(o,d=""){return this._httpClient.patch(`${s}/quotations/reject`,{_id:o,rejectedReason:d,status:e.qm.Rechazada}).pipe((0,r.b)(u=>{this.store.dispatch((0,a.qm)({quotation:u.data})),this.store.dispatch((0,a.Yd)({quotation:u.data}))}))}deleteQuotation(o,d=0,u=20,p="createdAt",D="desc",x="",g=""){const O=(new l.LE).append("page",d).append("size",u).append("sort",p).append("order",D).append("search",x).append("filter",g);return this._httpClient.delete(`${s}/quotations/${o}`,{params:O}).pipe((0,r.b)(C=>{this.store.dispatch((0,_.Jr)({pagination:C.pagination})),this.store.dispatch((0,a.ZI)({quotations:C.dataArr}))}))}}return f.\u0275fac=function(o){return new(o||f)(v.LFG(l.eN),v.LFG(c.cM),v.LFG(h.yh))},f.\u0275prov=v.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},7205:(M,A,n)=>{n.d(A,{R8:()=>_,qm:()=>r});var r=(()=>{return(e=r||(r={})).Nueva="Nueva",e.Aceptada="Aceptada",e.Facturada="Facturada",e.Rechazada="Rechazada",r;var e})();class _{constructor(t){this.paymentMethodId=t._id,this.name=t.name,this.merchantId=t.merchantId,this.terms=t.terms,this.paymentBy=t.paymentBy,this.includeBankAccount=t.includeBankAccount}}},2627:(M,A,n)=>{n.d(A,{d:()=>i});var l=n(7579),r=n(2722),_=n(4899),e=n(5e3),t=n(5620),a=n(9808),v=n(393);function c(o,d){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const u=e.oxw();e.xp6(1),e.hij(" ",u.merchantRequest.phoneNumbers[0].stateCode+" "+u.merchantRequest.phoneNumbers[0].phoneNumber,"")}}function h(o,d){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const u=e.oxw();e.xp6(1),e.Oqu(u.merchantRequest.emails[0].email)}}const s=function(){return["$"]};function m(o,d){if(1&o&&(e.TgZ(0,"div",26),e._UZ(1,"div",22),e.TgZ(2,"div",27)(3,"div",28),e._uU(4),e.qZA(),e.TgZ(5,"div",29),e._uU(6),e.qZA()(),e.TgZ(7,"div",30),e._uU(8),e.qZA(),e.TgZ(9,"div",30),e._uU(10),e.ALo(11,"currency"),e.qZA(),e.TgZ(12,"div",31),e._uU(13),e.ALo(14,"currency"),e.qZA()()),2&o){const u=d.$implicit;e.xp6(4),e.Oqu(u.name),e.xp6(2),e.hij(" ",u.description," "),e.xp6(2),e.Oqu(u.amount),e.xp6(2),e.Oqu(e.xi3(11,5,u.price,e.DdM(11,s))),e.xp6(3),e.Oqu(e.xi3(14,8,u.quantity,e.DdM(12,s)))}}const f=function(){return["CUP "]};let i=(()=>{class o{constructor(u,p){this.store=u,this._changeDetectorRef=p,this.selectedRequest$=null,this.selectedRequest=null,this._unsubscribeAll=new l.x}ngOnInit(){this.selectedRequest$=this.store.select(_.V8),this.selectedRequest$.pipe((0,r.R)(this._unsubscribeAll)).subscribe(u=>{this.selectedRequest=u,this.merchantRequest=u.merchantId,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}getTotalQuantity(){return this.selectedRequest.goodsData.map(u=>u.quantity).reduce((u,p)=>u+p,0)}}return o.\u0275fac=function(u){return new(u||o)(e.Y36(t.yh),e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["request-details"]],decls:60,vars:28,consts:[["cdkScrollable","",1,"flex","md:justify-center","w-full","print:overflow-visible"],[1,"inline-block","p-6","sm:p-10","text-left","print:p-0"],[1,"w-240","min-w-240","p-16","rounded-2xl","shadow","bg-card","print:w-auto","print:p-0","print:rounded-none","print:shadow-none","print:bg-transparent"],[1,"flex","items-start"],[1,"grid","grid-rows-2","place-items-start","gap-y-12"],[1,"grid","auto-cols-max","grid-flow-col","gap-x-8"],[1,"place-self-center","w-24"],[1,"w-24",3,"src"],[1,"pl-10","border-l","text-md","overflow-auto","break-word",2,"width","220px !important"],[1,"font-medium"],[4,"ngIf"],[1,"place-self-center","w-24","text-center","text-2xl","text-secondary"],[1,"pl-10","border-l","text-md"],[1,"grid","grid-cols-2","gap-x-4","gap-y-1","ml-auto"],[1,"justify-self-end","text-3xl","tracking-tight","text-secondary"],[1,"text-xl","flex","items-center","font-medium"],[1,"justify-self-end","font-medium","tracking-tight","text-secondary"],[1,"grid","grid-cols-12","gap-x-1"],[1,"col-span-8","font-medium","text-md","text-secondary"],[1,"font-medium","text-md","text-right","text-secondary"],[1,"col-span-2","font-medium","text-md","text-right","text-secondary"],["class","col-span-12 grid grid-cols-12 gap-x-1",4,"ngFor","ngForOf"],[1,"col-span-12","my-4","border-b"],[1,"col-span-12","mt-16"],[1,"col-span-10","self-center","text-2xl","font-medium","tracking-tight","text-secondary"],[1,"col-span-2","text-right","text-2xl","font-medium"],[1,"col-span-12","grid","grid-cols-12","gap-x-1"],[1,"col-span-8"],[1,"text-lg","font-medium"],[1,"mt-2","text-md","text-secondary"],[1,"self-center","text-center"],[1,"col-span-2","self-center","text-right"]],template:function(u,p){1&u&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._UZ(7,"img",7),e.qZA(),e.TgZ(8,"div",8)(9,"div",9),e._uU(10),e.qZA(),e.TgZ(11,"div"),e._uU(12),e.qZA(),e.YNc(13,c,2,1,"div",10),e.YNc(14,h,2,1,"div",10),e.qZA()(),e.TgZ(15,"div",5)(16,"div",11),e._uU(17," Por "),e.qZA(),e.TgZ(18,"div",12)(19,"div",9),e._uU(20),e.qZA(),e._UZ(21,"div"),e.TgZ(22,"div"),e._uU(23),e.qZA()()()(),e.TgZ(24,"div",13)(25,"div",14),e._uU(26,"SOLICITUD"),e.qZA(),e.TgZ(27,"div",15),e._uU(28),e.qZA(),e.TgZ(29,"div",16),e._uU(30,"CREADA EL"),e.qZA(),e.TgZ(31,"div",9),e._uU(32),e.ALo(33,"date"),e.qZA(),e.TgZ(34,"div",16),e._uU(35,"ESTADO"),e.qZA(),e.TgZ(36,"div",9),e._uU(37),e.qZA(),e.TgZ(38,"div",16),e._uU(39,"IMPORTE TOTAL"),e.qZA(),e.TgZ(40,"div",9),e._uU(41),e.ALo(42,"currency"),e.qZA()()(),e.TgZ(43,"div",17)(44,"div",18),e._uU(45,"PRODUCTO O SERVICIO"),e.qZA(),e.TgZ(46,"div",19),e._uU(47,"CANTIDAD"),e.qZA(),e.TgZ(48,"div",19),e._uU(49,"PRECIO"),e.qZA(),e.TgZ(50,"div",20),e._uU(51,"TOTAL"),e.qZA(),e.YNc(52,m,15,13,"div",21),e._UZ(53,"div",22)(54,"div",23),e.TgZ(55,"div",24),e._uU(56,"TOTAL"),e.qZA(),e.TgZ(57,"div",25),e._uU(58),e.ALo(59,"currency"),e.qZA()()()()()),2&u&&(e.xp6(7),e.Q6J("src",p.merchantRequest.logoUrl,e.LSH),e.xp6(3),e.Oqu(p.merchantRequest.name),e.xp6(2),e.HOy("",p.merchantRequest.address,", ",p.merchantRequest.city,", ",p.merchantRequest.state,", ",p.merchantRequest.country," "),e.xp6(1),e.Q6J("ngIf",p.merchantRequest.phoneNumbers.length>0),e.xp6(1),e.Q6J("ngIf",p.merchantRequest.emails.length>0),e.xp6(6),e.AsE("",p.selectedRequest.name," ",p.selectedRequest.lastName,""),e.xp6(3),e.Oqu(p.selectedRequest.email),e.xp6(5),e.hij("#",p.selectedRequest.no,""),e.xp6(4),e.Oqu(e.xi3(33,17,p.selectedRequest.createdAt,"dd/MM/yyyy")),e.xp6(5),e.Oqu(p.selectedRequest.status.toUpperCase()),e.xp6(4),e.Oqu(e.xi3(42,20,p.getTotalQuantity(),e.DdM(26,f))),e.xp6(11),e.Q6J("ngForOf",p.selectedRequest.goodsData),e.xp6(6),e.Oqu(e.xi3(59,23,p.getTotalQuantity(),e.DdM(27,f))))},dependencies:[a.sg,a.O5,v.PQ,a.H9,a.uU],encapsulation:2,changeDetection:0}),o})()},4290:(M,A,n)=>{n.d(A,{N:()=>h,r:()=>c});var l=n(4128),r=n(2843),_=n(262),e=n(5e3),t=n(2454),a=n(8721),v=n(5357);let c=(()=>{class s{constructor(f,i){this._requestsService=f,this._paymentMethods=i}resolve(f,i){return(0,l.D)([this._requestsService.getRequests(),this._paymentMethods.getActivePaymentMethods()])}}return s.\u0275fac=function(f){return new(f||s)(e.LFG(t.r),e.LFG(a.o))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),h=(()=>{class s{constructor(f,i){this._requestsService=f,this._router=i}resolve(f,i){return this._requestsService.getRequestById(f.params.requestId).pipe((0,_.K)(d=>{console.error(d);const u=i.url.split("/").slice(0,-1).join("/");return this._router.navigateByUrl(u),(0,r._)(d)}))}}return s.\u0275fac=function(f){return new(f||s)(e.LFG(t.r),e.LFG(v.F0))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},4899:(M,A,n)=>{n.d(A,{Mu:()=>e,V8:()=>_});var l=n(5620);const r=t=>t.requests,_=(0,l.P1)(r,t=>t.request),e=(0,l.P1)(r,t=>t.requests)},2454:(M,A,n)=>{n.d(A,{r:()=>m});var l=n(520),r=n(8505),_=n(5714),e=n(1896),t=n(2340),a=n(2440),v=n(5e3),c=n(1235),h=n(5620);const s=t.N.API_URL;let m=(()=>{class f{constructor(o,d,u){this._httpClient=o,this.rolesService=d,this.store=u}getRequests(o=0,d=20,u="createdAt",p="desc",D="",x=""){const g=(new l.LE).append("page",o).append("size",d).append("sort",u).append("order",p).append("search",D).append("filter",x);return this._httpClient.get(`${s}/requests/`,{params:g}).pipe((0,r.b)(O=>{this.store.dispatch((0,_.Jr)({pagination:O.pagination})),this.store.dispatch((0,a.g1)({requests:O.dataArr}))}))}getRequestById(o){return this._httpClient.get(`${s}/requests/${o}`).pipe((0,r.b)(d=>{this.store.dispatch((0,a.xR)({request:d.request}))}))}createRequest(o){return this._httpClient.post(`${s}/requests`,o).pipe((0,r.b)(d=>{this.store.dispatch((0,a.hG)({request:d.data}))}))}updateRequest(o){return this._httpClient.patch(`${s}/requests/${o._id}`,o).pipe((0,r.b)(d=>{this.store.dispatch((0,a.WN)({request:d.data}))}))}rejectRequest(o,d){return this._httpClient.patch(`${s}/requests/reject`,{_id:o,rejectedReason:d,status:e.eJ.Rechazada}).pipe((0,r.b)(u=>{this.store.dispatch((0,a.WN)({request:u.data}))}))}deleteRequest(o,d=0,u=20,p="createdAt",D="desc",x="",g=""){const O=(new l.LE).append("page",d).append("size",u).append("sort",p).append("order",D).append("search",x).append("filter",g);return this._httpClient.delete(`${s}/requests/${o}`,{params:O}).pipe((0,r.b)(C=>{this.store.dispatch((0,_.Jr)({pagination:C.pagination})),this.store.dispatch((0,a.g1)({requests:C.dataArr}))}))}}return f.\u0275fac=function(o){return new(o||f)(v.LFG(l.eN),v.LFG(c.cM),v.LFG(h.yh))},f.\u0275prov=v.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},1896:(M,A,n)=>{n.d(A,{eJ:()=>r});var r=(()=>{return(e=r||(r={})).Nueva="Nueva",e.Aceptada="Aceptada",e.Rechazada="Rechazada",r;var e})()}}]);