"use strict";(self.webpackChunkatherp=self.webpackChunkatherp||[]).push([[294],{4294:(zo,P,s)=>{s.r(P),s.d(P,{HrmModule:()=>Bo});var g=s(5357),de=s(6338),Z=s(7579),p=s(2722),e=s(5e3),ue=s(9602),I=s(393),v=s(5245);let _e=(()=>{class o{constructor(t,n,i){this._activatedRoute=t,this._changeDetectorRef=n,this._router=i,this.merchantId="",this._unsubscribeAll=new Z.x}ngOnInit(){this._activatedRoute.params.pipe((0,p.R)(this._unsubscribeAll)).subscribe(({merchantId:t})=>{void 0!==t&&(this.merchantId=t,this._changeDetectorRef.markForCheck())})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.gz),e.Y36(e.sBO),e.Y36(g.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ath-hrm"]],decls:44,vars:3,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-wrap","p-6","sm:flex-row","flex-0","sm:items-center","sm:justify-between","sm:pt-12","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/desktop",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"flex-auto","p-6","sm:p-10"],[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","w-full"],[1,"grid","grid-flow-row","grid-cols-1","mt-8","sm:grid-cols-2","lg:grid-cols-4","gap-y-12","sm:gap-x-4"],["routerLink","/modules/hrm/departments",1,"flex","items-center","justify-between","w-full","p-6","cursor-pointer","max-w-80","filter-info","hover:shadow-md"],[1,"flex","flex-col"],[1,"text-2xl","font-semibold","leading-tight"],[1,"text-md","text-secondary"],["routerLink","/modules/hrm/charges",1,"flex","items-center","justify-between","w-full","p-6","cursor-pointer","max-w-80","filter-info","hover:shadow-md"],["routerLink","/modules/hrm/employees",1,"flex","items-center","justify-between","w-full","p-6","cursor-pointer","max-w-80","fl","filter-info","hover:shadow-md"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Recursos Humanos"),e.qZA()()(),e.TgZ(12,"div",8)(13,"a",9),e._UZ(14,"mat-icon",6),e.TgZ(15,"span",10),e._uU(16,"Regresar"),e.qZA()()()(),e.TgZ(17,"div",11)(18,"div",12),e._uU(19," Recursos Humanos "),e.qZA()()()(),e.TgZ(20,"div",13)(21,"div",14)(22,"div",15)(23,"div",12),e._uU(24," M\xf3dulos "),e.qZA(),e.TgZ(25,"div",16)(26,"fuse-card",17)(27,"div",18)(28,"div",19),e._uU(29,"Departamentos"),e.qZA(),e.TgZ(30,"div",20),e._uU(31,"listado de departamentos o \xe1reas "),e.qZA()()(),e.TgZ(32,"fuse-card",21)(33,"div",18)(34,"div",19),e._uU(35,"Cargos"),e.qZA(),e.TgZ(36,"div",20),e._uU(37,"listado de cargos"),e.qZA()()(),e.TgZ(38,"fuse-card",22)(39,"div",18)(40,"div",19),e._uU(41,"Empleados"),e.qZA(),e.TgZ(42,"div",20),e._uU(43,"listado de empleados"),e.qZA()()()()()()()()),2&t&&(e.xp6(9),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:chevron-left"))},dependencies:[g.rH,g.yS,ue.y,I.PQ,v.Hw],encapsulation:2,changeDetection:0}),o})();var T=s(6087),x=s(4847),Q=s(9646),N=s(6451),Y=s(3900),S=s(4004),f=s(5620);const G=o=>o.hrmCharges,K=((0,f.P1)(G,o=>o.charge),(0,f.P1)(G,o=>o.charges));var B=s(3844),a=s(3075),u=s(8966),V=s(5119),R=s(4787),L=s(1910),_=s(9784);class W{}var A=s(4062),k=s(1683),D=s(9804),q=s(7261),c=s(9808),b=s(7423),d=s(7322),M=s(7531),O=s(2368);function he(o,r){1&o&&(e.TgZ(0,"h2",7),e._uU(1,"Agregar cargo"),e.qZA())}function fe(o,r){1&o&&(e.TgZ(0,"h2",7),e._uU(1,"Editar cargo"),e.qZA())}function xe(o,r){1&o&&(e.TgZ(0,"h2",7),e._uU(1,"Detalles del cargo"),e.qZA())}function ve(o,r){if(1&o&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"h6",13),e._uU(6,"Nombre"),e.qZA(),e.TgZ(7,"span",14),e._uU(8),e.qZA()(),e.TgZ(9,"div",15)(10,"h6",13),e._uU(11,"Descripci\xf3n"),e.qZA(),e.TgZ(12,"span",14),e._uU(13),e.qZA()()()()()()),2&o){const t=e.oxw();e.xp6(8),e.Oqu(t.data.charge.name||"Sin nombre"),e.xp6(5),e.Oqu(t.data.charge.description||"Sin descripci\xf3n")}}function ye(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del cargo es obligatorio. "),e.qZA())}function Ze(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del cargo debe contener entre 3 y 255 caracteres. "),e.qZA())}function be(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El salario debe contener solo n\xfameros. "),e.qZA())}function Ce(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La descripci\xf3n del cargo debe contener al menos 5 caracteres. "),e.qZA())}function Te(o,r){if(1&o&&(e.TgZ(0,"div",16)(1,"div",9)(2,"form",17)(3,"div",18)(4,"mat-form-field",19)(5,"mat-label"),e._uU(6,"Nombre"),e.qZA(),e._UZ(7,"input",20),e.YNc(8,ye,2,0,"mat-error",6),e.YNc(9,Ze,2,0,"mat-error",6),e.qZA()(),e.TgZ(10,"div",21)(11,"mat-form-field",19)(12,"mat-label"),e._uU(13,"Salario"),e.qZA(),e._UZ(14,"input",22),e.YNc(15,be,2,0,"mat-error",6),e.qZA()(),e.TgZ(16,"div",21)(17,"mat-form-field",23)(18,"mat-label"),e._uU(19,"Descripci\xf3n"),e.qZA(),e._UZ(20,"mat-icon",24)(21,"textarea",25),e.YNc(22,Ce,2,0,"mat-error",6),e.qZA()(),e.TgZ(23,"div",26)(24,"span",27),e._uU(25,"Estado"),e.qZA(),e.TgZ(26,"mat-slide-toggle",28),e._uU(27),e.qZA()()()()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.chargeForm)("autocomplete","off"),e.xp6(5),e.Q6J("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del cargo"),e.xp6(1),e.Q6J("ngIf",t.chargeForm.get("name").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.chargeForm.get("name").hasError("maxlength")||t.chargeForm.get("name").hasError("minlength")),e.xp6(5),e.Q6J("formControlName","salary")("placeholder","Salario"),e.xp6(1),e.Q6J("ngIf",t.chargeForm.get("salary").hasError("pattern")),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:menu-alt-2"),e.xp6(1),e.Q6J("formControlName","description")("rows",3)("spellcheck",!1)("minlength",5)("maxlength",1e3),e.xp6(1),e.Q6J("ngIf",t.chargeForm.get("description").hasError("minlength")),e.xp6(4),e.Q6J("formControlName","active")("color","primary"),e.xp6(1),e.hij(" ",!0===t.chargeForm.get("active").value?"Activo":"Inactivo"," ")}}const X=function(o){return{"cursor-not-allowed":o}};function Ae(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",31),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.updateCharge())}),e._uU(2," Actualizar "),e.qZA(),e.BQk()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("color","primary")("matDialogClose","confirmed")("disabled",t.chargeForm.invalid)("ngClass",e.VKq(4,X,t.chargeForm.invalid))}}function ke(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",31),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.createCharge())}),e._uU(2," Agregar "),e.qZA(),e.BQk()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("color","primary")("matDialogClose","confirmed")("disabled",t.chargeForm.invalid)("ngClass",e.VKq(4,X,t.chargeForm.invalid))}}function qe(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"div",29),e.ynx(2),e.TgZ(3,"button",30),e._uU(4," Cancelar "),e.qZA(),e.BQk(),e.YNc(5,Ae,3,6,"ng-container",6),e.YNc(6,ke,3,6,"ng-container",6),e.qZA(),e.BQk()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("matDialogClose","cancelled"),e.xp6(2),e.Q6J("ngIf","edit"===t.data.dialogMode),e.xp6(1),e.Q6J("ngIf","add"===t.data.dialogMode)}}let Ie=(()=>{class o{constructor(t,n,i,l,m,h,C,U){this.data=t,this._activatedRoute=n,this._changeDetectorRef=i,this._formBuilder=l,this._fuseConfirmationService=m,this._chargesService=h,this._snackBar=C,this.store=U,this.charge=new W,this.dialogMode="view",this.merchants=[],this.selectedMerchant=null,this.selectedMerchant$=null,this.user=null,this.user$=(0,Q.of)(null),this._unsubscribeAll=new Z.x}ngOnInit(){console.log(this.data.charge._id),this.user$=this.store.select(R.rk),this.user$.pipe((0,p.R)(this._unsubscribeAll)).subscribe(t=>{this.user=t,this._changeDetectorRef.markForCheck()}),this.store.select(L.Qs).pipe((0,p.R)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.chargeForm=this._formBuilder.group({_id:[""],active:[!0,[a.kI.required]],userId:[this.user._id,[a.kI.required]],merchantId:[this.currentMerchant._id,[a.kI.required]],name:["",[a.kI.required,a.kI.minLength(3),a.kI.maxLength(255)]],slug:[""],description:["",[a.kI.minLength(5),a.kI.maxLength(1e3)]],salary:[0,[a.kI.min(0),a.kI.max(99999)]]}),"edit"===this.data.dialogMode&&(this.chargeForm.patchValue(this.data.charge),this.chargeForm.get("merchantId").setValue(this.data.charge.merchantId._id))}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createCharge(){let t=this.chargeForm.getRawValue();t=(0,V.Z)(t,"_id"),t.slug=new A.i(t.name).slug,this._fuseConfirmationService.open({title:"Crear Cargo",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(i=>{"confirmed"===i&&this._chargesService.createCharge(t).subscribe(l=>{this._snackBar.openFromComponent(_.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:l.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck()}),this._changeDetectorRef.markForCheck()})}updateCharge(){const t=this.chargeForm.getRawValue();t.slug=new A.i(t.name).slug,this._fuseConfirmationService.open({title:"Actualizar Cargo",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(i=>{"confirmed"===i&&this._chargesService.updateCharge(t).subscribe(l=>{this._snackBar.openFromComponent(_.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:l.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck()}),this._changeDetectorRef.markForCheck()})}trackByFn(t,n){return n.id||t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.WI),e.Y36(g.gz),e.Y36(e.sBO),e.Y36(a.qu),e.Y36(k.R),e.Y36(D.U),e.Y36(q.ux),e.Y36(f.yh))},o.\u0275cmp=e.Xpm({type:o,selectors:[["charges-detail"]],decls:12,vars:6,consts:[[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl text-gray-400",4,"ngIf"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],["class","flex-auto",4,"ngIf"],["class","w-full overflow-hidden",4,"ngIf"],[4,"ngIf"],[1,"text-2xl","text-gray-400"],[1,"flex-auto"],[1,"flex"],[1,"flex","flex-col","w-full","mt-5"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"w-full","py-10","my-10"],[1,"mb-2","font-medium"],[1,"border-sm"],[1,"w-full","pb-4","my-10"],[1,"w-full","overflow-hidden"],[1,"flex","flex-col","w-full","mt-1",3,"formGroup","autocomplete"],[1,"pt-5","sm:col-span-2"],[1,"w-full"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],[1,"pt-4","sm:col-span-2"],["type","number","matInput","",3,"formControlName","placeholder"],[1,"w-full","fuse-mat-textarea","flex-auto"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","matTextareaAutosize","",3,"formControlName","rows","spellcheck","minlength","maxlength"],[1,"flex","flex-col","sm:col-span-2"],[1,"font-medium"],[1,"mt-1","sm:mt-3",3,"formControlName","color"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","matDialogClose","disabled","ngClass","click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1),e.YNc(3,he,2,0,"h2",2),e.YNc(4,fe,2,0,"h2",2),e.YNc(5,xe,2,0,"h2",2),e.qZA(),e.BQk(),e.TgZ(6,"div",3),e.ynx(7),e.YNc(8,ve,14,2,"div",4),e.BQk(),e.ynx(9),e.YNc(10,Te,28,22,"div",5),e.BQk(),e.qZA(),e.YNc(11,qe,7,3,"ng-container",6),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngIf","add"===n.data.dialogMode),e.xp6(1),e.Q6J("ngIf",n.data.charge._id&&"edit"===n.data.dialogMode),e.xp6(1),e.Q6J("ngIf",n.data.charge._id&&"view"===n.data.dialogMode),e.xp6(3),e.Q6J("ngIf","view"===n.data.dialogMode),e.xp6(2),e.Q6J("ngIf","edit"===n.data.dialogMode||"add"),e.xp6(1),e.Q6J("ngIf","view"!==n.data.dialogMode))},dependencies:[c.mk,c.O5,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.Q7,a.wO,a.nD,a.sg,a.u,b.lW,u.ZT,v.Hw,d.TO,d.KE,d.hX,d.qo,M.Nt,O.Rr],encapsulation:2,changeDetection:0}),o})();var z=s(6428);function Fe(o,r){1&o&&(e.ynx(0),e._UZ(1,"mat-icon",37),e.BQk()),2&o&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:check"))}function Ue(o,r){1&o&&(e.ynx(0),e._UZ(1,"mat-icon",38),e.BQk()),2&o&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:x"))}const Qe=function(){return["$"]};function De(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",32)(2,"div",33),e._uU(3),e.qZA(),e.TgZ(4,"div",33),e._uU(5),e.qZA(),e.TgZ(6,"div",25),e._uU(7),e.ALo(8,"currency"),e.qZA(),e.TgZ(9,"div",28),e.YNc(10,Fe,2,1,"ng-container",29),e.YNc(11,Ue,2,1,"ng-container",29),e.qZA(),e.TgZ(12,"div",34)(13,"button",35),e.NdJ("click",function(){const l=e.CHM(t).$implicit,m=e.oxw(4);return e.KtG(m.editCharge(l))}),e._UZ(14,"mat-icon",36),e.qZA(),e.TgZ(15,"button",35),e.NdJ("click",function(){const l=e.CHM(t).$implicit,m=e.oxw(4);return e.KtG(m.deleteCharge(l._id))}),e._UZ(16,"mat-icon",36),e.qZA()()(),e.BQk()}if(2&o){const t=r.$implicit;e.xp6(3),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.requirement," "),e.xp6(2),e.hij(" ",e.xi3(8,7,t.salary,e.DdM(10,Qe))," "),e.xp6(3),e.Q6J("ngIf",t.active),e.xp6(1),e.Q6J("ngIf",!t.active),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:pencil"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function Ee(o,r){if(1&o&&(e.ynx(0),e.YNc(1,De,17,11,"ng-container",31),e.BQk()),2&o){const t=r.ngIf,n=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",n.trackByFn)}}const we=function(o){return{"pointer-events-none":o}},Je=function(){return[10,25,50,100]};function He(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"div",22)(2,"div",23)(3,"div",24),e._uU(4," Nombre "),e.qZA(),e.TgZ(5,"div",25),e._uU(6," Requisitos "),e.qZA(),e.TgZ(7,"div",26),e._uU(8," Salario "),e.qZA(),e.TgZ(9,"div",27),e._uU(10," Activo "),e.qZA(),e.TgZ(11,"div",28),e._uU(12," Acciones "),e.qZA()(),e.YNc(13,Ee,2,2,"ng-container",29),e.ALo(14,"async"),e._UZ(15,"mat-paginator",30),e.qZA(),e.BQk()),2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("mat-sort-header","name"),e.xp6(4),e.Q6J("mat-sort-header","salary"),e.xp6(2),e.Q6J("mat-sort-header","active"),e.xp6(4),e.Q6J("ngIf",e.lcZ(14,10,t.charges$)),e.xp6(2),e.Q6J("ngClass",e.VKq(12,we,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(14,Je))("showFirstLastButtons",!0)}}function Ne(o,r){if(1&o&&(e.ynx(0),e.YNc(1,He,16,15,"ng-container",20),e.BQk()),2&o){const t=r.ngIf;e.oxw();const n=e.MAs(34);e.xp6(1),e.Q6J("ngIf",t.length>0)("ngIfElse",n)}}function Ye(o,r){1&o&&(e.TgZ(0,"div",39),e._uU(1,"No ha creado ning\xfan cargo a\xfan!"),e.qZA())}let Se=(()=>{class o{constructor(t,n,i,l,m,h){this._changeDetectorRef=t,this._chargeService=n,this._dialog=i,this._fuseConfirmationService=l,this._snackBar=m,this.store=h,this.merchantId="",this.charges$=(0,Q.of)([]),this.charge=new W,this.isLoading=!1,this._unsubscribeAll=new Z.x}ngOnInit(){this.charges$=this.store.select(K),this.store.select(z.B).pipe((0,p.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"",start:"desc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,p.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,N.T)(this._sort.sortChange,this._paginator.page).pipe((0,Y.w)(()=>(this.isLoading=!0,this._chargeService.getCharges(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,S.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createCharge(){this._openDialog(this.charge,"add")}editCharge(t){this._openDialog(t,"edit")}deleteCharge(t){this._fuseConfirmationService.open({title:"Eliminar Cargo",message:"\xbfEsta seguro que desea Eliminar el cargo? Perder\xe1 el acceso a todos los datos asociados al mismo.",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(i=>{"confirmed"===i&&this._chargeService.deleteCharge(t,this.pagination.page,this.pagination.size,"active","desc").subscribe(l=>{this._snackBar.openFromComponent(_.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:l.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck()}),this._changeDetectorRef.markForCheck()})}trackByFn(t,n){return n.id||t}_openDialog(t,n){this._dialog.open(Ie,{data:{charge:t,dialogMode:n},panelClass:"ath-dialog-panel"})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.sBO),e.Y36(D.U),e.Y36(u.uw),e.Y36(k.R),e.Y36(q.ux),e.Y36(f.yh))},o.\u0275cmp=e.Xpm({type:o,selectors:[["hrm-charges"]],viewQuery:function(t,n){if(1&t&&(e.Gf(T.NW,5),e.Gf(x.YE,5)),2&t){let i;e.iGM(i=e.CRH())&&(n._paginator=i.first),e.iGM(i=e.CRH())&&(n._sort=i.first)}},decls:35,vars:9,consts:[["cdkScrollable","",1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","bg-card","dark:bg-transparent","overflow-y-auto","overflow-x-auto","lg:overflow-x-hidden"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/desktop",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"flex","items-center","flex-shrink-0","mt-6","sm:mt-0","sm:ml-4"],["mat-raised-button","",1,"ml-4","text-white","bg-primary-500","hover:bg-primary-700","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"flex","flex-auto"],[1,"flex","flex-col","flex-auto"],[4,"ngIf","ngIfElse"],["noCharges",""],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5","charges-table"],[3,"mat-sort-header"],[1,""],[1,"",3,"mat-sort-header"],[1,"flex","justify-center",3,"mat-sort-header"],[1,"text-center"],[4,"ngIf"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","md:px-8","charges-table"],[1,"truncate"],[1,"flex","flex-col","justify-center","gap-1","md:flex-row"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"text-green-400","icon-size-5",3,"svgIcon"],[1,"text-red-400","icon-size-5",3,"svgIcon"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Recursos Humanos"),e.qZA()(),e.TgZ(12,"div",4),e._UZ(13,"mat-icon",6),e.TgZ(14,"a",8),e._uU(15,"Cargos"),e.qZA()()(),e.TgZ(16,"div",9)(17,"a",10),e._UZ(18,"mat-icon",6),e.TgZ(19,"span",11),e._uU(20,"Regresar"),e.qZA()()()(),e.TgZ(21,"div",12)(22,"div",13),e._uU(23," Listado de Cargos "),e.qZA()()(),e.TgZ(24,"div",14)(25,"button",15),e.NdJ("click",function(){return n.createCharge()}),e._UZ(26,"mat-icon",16),e.TgZ(27,"span",17),e._uU(28,"Nuevo"),e.qZA()()()(),e.TgZ(29,"div",18)(30,"div",19),e.YNc(31,Ne,2,2,"ng-container",20),e.ALo(32,"async"),e.YNc(33,Ye,2,0,"ng-template",null,21,e.W1O),e.qZA()()()),2&t){const i=e.MAs(34);e.xp6(9),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:chevron-left"),e.xp6(8),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(5),e.Q6J("ngIf",e.lcZ(32,7,n.charges$))("ngIfElse",i)}},dependencies:[g.yS,c.mk,c.sg,c.O5,I.PQ,b.lW,v.Hw,T.NW,x.YE,x.nU,c.Ov,c.H9],encapsulation:2,data:{animation:B.L},changeDetection:0}),o})();var E=s(4789);function Be(o,r){1&o&&(e.TgZ(0,"h2",7),e._uU(1,"Agregar departamento"),e.qZA())}function Re(o,r){1&o&&(e.TgZ(0,"h2",7),e._uU(1,"Editar departamento"),e.qZA())}function Le(o,r){1&o&&(e.TgZ(0,"h2",7),e._uU(1,"Detalles del departamento"),e.qZA())}function Me(o,r){if(1&o&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11),e.ynx(4),e.TgZ(5,"div",12)(6,"mat-label",13),e._uU(7,"Nombre"),e.qZA(),e.TgZ(8,"div",14),e._uU(9),e.qZA()(),e.BQk(),e.ynx(10),e.TgZ(11,"div",12)(12,"mat-label",13),e._uU(13,"Nombre"),e.qZA(),e.TgZ(14,"div",14),e._uU(15),e.qZA()(),e.BQk(),e.qZA()()()()),2&o){const t=e.oxw();e.xp6(9),e.Oqu(t.data.department.name),e.xp6(6),e.Oqu(t.data.department.description)}}function Oe(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del departamento es obligatorio. "),e.qZA())}function ze(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del departamento debe contener entre 3 y 255 caracteres. "),e.qZA())}function je(o,r){if(1&o&&(e.TgZ(0,"div",15)(1,"div",9)(2,"form",16)(3,"div",17)(4,"mat-form-field",18)(5,"mat-label"),e._uU(6,"Nombre"),e.qZA(),e._UZ(7,"input",19),e.YNc(8,Oe,2,0,"mat-error",6),e.YNc(9,ze,2,0,"mat-error",6),e.qZA()(),e.TgZ(10,"div",20)(11,"mat-form-field",21)(12,"mat-label"),e._uU(13,"Descripci\xf3n del Departamento"),e.qZA(),e._UZ(14,"mat-icon",22)(15,"textarea",23),e.qZA()(),e.TgZ(16,"div",24)(17,"span",25),e._uU(18,"Estado"),e.qZA(),e.TgZ(19,"mat-slide-toggle",26),e._uU(20),e.qZA()()()()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.departmentForm)("autocomplete","off"),e.xp6(5),e.Q6J("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del departamento"),e.xp6(1),e.Q6J("ngIf",t.departmentForm.get("name").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.departmentForm.get("name").hasError("maxlength")||t.departmentForm.get("name").hasError("minlength")),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:menu-alt-2"),e.xp6(1),e.Q6J("formControlName","description")("rows",3)("spellcheck",!1)("maxlength",1e3),e.xp6(4),e.Q6J("formControlName","active")("color","primary"),e.xp6(1),e.hij(" ",!0===t.departmentForm.get("active").value?"Activo":"Inactivo"," ")}}const ee=function(o){return{"cursor-not-allowed":o}};function $e(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",29),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.updateDepartment())}),e._uU(2," Actualizar "),e.qZA(),e.BQk()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("color","primary")("matDialogClose","confirmed")("disabled",t.departmentForm.invalid)("ngClass",e.VKq(4,ee,t.departmentForm.invalid))}}function Pe(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",29),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.createDepartment())}),e._uU(2," Agregar "),e.qZA(),e.BQk()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("color","primary")("matDialogClose","confirmed")("disabled",t.departmentForm.invalid)("ngClass",e.VKq(4,ee,t.departmentForm.invalid))}}function Ge(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"div",27),e.ynx(2),e.TgZ(3,"button",28),e._uU(4," Cancelar "),e.qZA(),e.BQk(),e.YNc(5,$e,3,6,"ng-container",6),e.YNc(6,Pe,3,6,"ng-container",6),e.qZA(),e.BQk()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("matDialogClose","cancelled"),e.xp6(2),e.Q6J("ngIf","edit"===t.data.dialogMode),e.xp6(1),e.Q6J("ngIf","add"===t.data.dialogMode)}}let te=(()=>{class o{constructor(t,n,i,l,m,h,C,U){this.data=t,this._activatedRoute=n,this._changeDetectorRef=i,this._formBuilder=l,this._fuseConfirmationService=m,this._hrmDepartmentsService=h,this._snackBar=C,this.store=U,this.dialogMode="view",this.user$=(0,Q.of)(null),this._unsubscribeAll=new Z.x}ngOnInit(){this.user$=this.store.select(R.rk),this.user$.pipe((0,p.R)(this._unsubscribeAll)).subscribe(t=>{this.user=t,this._changeDetectorRef.markForCheck()}),this.store.select(L.Qs).pipe((0,p.R)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.departmentForm=this._formBuilder.group({_id:[""],active:[!0],merchantId:[this.currentMerchant._id,[a.kI.required]],userId:[this.user._id,[a.kI.required]],code:[{value:"",disabled:!0}],name:["",[a.kI.required,a.kI.minLength(3),a.kI.maxLength(255)]],slug:[""],description:["",[a.kI.maxLength(1e3)]]}),"edit"===this.data.dialogMode&&(this.departmentForm.patchValue(this.data.department),this.departmentForm.get("merchantId").setValue(this.data.department.merchantId._id))}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createDepartment(){let t=this.departmentForm.getRawValue();t=(0,V.Z)(t,"_id"),t.slug=new A.i(t.name).slug,this._fuseConfirmationService.open({title:"Crear Departamento",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(i=>{"confirmed"===i&&this._hrmDepartmentsService.createDepartment(t).subscribe(l=>{this._snackBar.openFromComponent(_.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:l.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck()}),this._changeDetectorRef.markForCheck()})}updateDepartment(){const t=this.departmentForm.getRawValue();t.slug=new A.i(t.name).slug,this._fuseConfirmationService.open({title:"Actualizar Departamento",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(i=>{"confirmed"===i&&this._hrmDepartmentsService.updateDepartment(t).subscribe(l=>{this._snackBar.openFromComponent(_.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:l.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck()}),this._changeDetectorRef.markForCheck()})}trackByFn(t,n){return n.id||t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.WI),e.Y36(g.gz),e.Y36(e.sBO),e.Y36(a.qu),e.Y36(k.R),e.Y36(E.U),e.Y36(q.ux),e.Y36(f.yh))},o.\u0275cmp=e.Xpm({type:o,selectors:[["department-detail"]],decls:12,vars:6,consts:[[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl text-gray-400",4,"ngIf"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],["class","flex-auto",4,"ngIf"],["class","w-full overflow-hidden",4,"ngIf"],[4,"ngIf"],[1,"text-2xl","text-gray-400"],[1,"flex-auto"],[1,"flex"],[1,"flex","flex-col","w-full","mt-5"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"flex","sm:items-center"],[1,"min-w-56","font-semibold"],[1,"leading-6"],[1,"w-full","overflow-hidden"],[1,"flex","flex-col","w-full","mt-1",3,"formGroup","autocomplete"],[1,"pt-5","sm:col-span-2"],[1,"w-full"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],[1,"pt-4","sm:col-span-2"],[1,"w-full","fuse-mat-textarea","flex-auto"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","matTextareaAutosize","",3,"formControlName","rows","spellcheck","maxlength"],[1,"flex","flex-col","sm:col-span-2"],[1,"font-medium"],[1,"mt-1","sm:mt-3",3,"formControlName","color"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","matDialogClose","disabled","ngClass","click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1),e.YNc(3,Be,2,0,"h2",2),e.YNc(4,Re,2,0,"h2",2),e.YNc(5,Le,2,0,"h2",2),e.qZA(),e.BQk(),e.TgZ(6,"div",3),e.ynx(7),e.YNc(8,Me,16,2,"div",4),e.BQk(),e.ynx(9),e.YNc(10,je,21,17,"div",5),e.BQk(),e.qZA(),e.YNc(11,Ge,7,3,"ng-container",6),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngIf","add"===n.data.dialogMode),e.xp6(1),e.Q6J("ngIf",n.data.department._id&&"edit"===n.data.dialogMode),e.xp6(1),e.Q6J("ngIf",n.data.department._id&&"view"===n.data.dialogMode),e.xp6(3),e.Q6J("ngIf","view"===n.data.dialogMode),e.xp6(2),e.Q6J("ngIf","edit"===n.data.dialogMode||"add"),e.xp6(1),e.Q6J("ngIf","view"!==n.data.dialogMode))},dependencies:[c.mk,c.O5,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.wO,a.nD,a.sg,a.u,b.lW,u.ZT,v.Hw,d.TO,d.KE,d.hX,d.qo,M.Nt,O.Rr],encapsulation:2,changeDetection:0}),o})();class oe{}const ne=o=>o.hrmDepartments,re=((0,f.P1)(ne,o=>o.department),(0,f.P1)(ne,o=>o.departments));function Ke(o,r){1&o&&(e.ynx(0),e._UZ(1,"mat-icon",37),e.BQk()),2&o&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:check"))}function Ve(o,r){1&o&&(e.ynx(0),e._UZ(1,"mat-icon",38),e.BQk()),2&o&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:x"))}function We(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",30)(2,"div",31),e._uU(3),e.qZA(),e.TgZ(4,"div",32),e._uU(5),e.qZA(),e.TgZ(6,"div",33),e.YNc(7,Ke,2,1,"ng-container",19),e.YNc(8,Ve,2,1,"ng-container",19),e.qZA(),e.TgZ(9,"div",34)(10,"button",35),e.NdJ("click",function(){const l=e.CHM(t).$implicit,m=e.oxw(4);return e.KtG(m.editDepartment(l))}),e._UZ(11,"mat-icon",36),e.qZA(),e.TgZ(12,"button",35),e.NdJ("click",function(){const l=e.CHM(t).$implicit,m=e.oxw(4);return e.KtG(m.deleteDepartment(l))}),e._UZ(13,"mat-icon",36),e.qZA()()(),e.BQk()}if(2&o){const t=r.$implicit;e.xp6(3),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.description," "),e.xp6(2),e.Q6J("ngIf",t.active),e.xp6(1),e.Q6J("ngIf",!t.active),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:pencil"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function Xe(o,r){if(1&o&&(e.ynx(0),e.YNc(1,We,14,6,"ng-container",29),e.BQk()),2&o){const t=r.ngIf,n=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",n.trackByFn)}}const et=function(o){return{"pointer-events-none":o}},tt=function(){return[10,25,50,100]};function ot(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"div",22)(2,"div",23)(3,"div",24),e._uU(4," Nombre "),e.qZA(),e.TgZ(5,"div",25),e._uU(6," Descripci\xf3n "),e.qZA(),e.TgZ(7,"div",26),e._uU(8," Activo "),e.qZA(),e.TgZ(9,"div",27),e._uU(10," Acciones "),e.qZA()(),e.YNc(11,Xe,2,2,"ng-container",19),e.ALo(12,"async"),e._UZ(13,"mat-paginator",28),e.qZA(),e.BQk()),2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("mat-sort-header","name"),e.xp6(4),e.Q6J("mat-sort-header","active"),e.xp6(4),e.Q6J("ngIf",e.lcZ(12,9,t.departments$)),e.xp6(2),e.Q6J("ngClass",e.VKq(11,et,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(13,tt))("showFirstLastButtons",!0)}}function nt(o,r){if(1&o&&(e.ynx(0),e.YNc(1,ot,14,14,"ng-container",21),e.BQk()),2&o){const t=r.ngIf;e.oxw();const n=e.MAs(34);e.xp6(1),e.Q6J("ngIf",t.length>0)("ngIfElse",n)}}function rt(o,r){1&o&&(e.TgZ(0,"div",39),e._uU(1,"No ha creado ning\xfan departamento a\xfan!"),e.qZA())}let it=(()=>{class o{constructor(t,n,i,l,m,h){this._changeDetectorRef=t,this._fuseConfirmationService=n,this._departmentService=i,this._snackBar=l,this.dialog=m,this.store=h,this.merchantId="",this.department=new oe,this.flashMessage=null,this.isLoading=!1,this.searchInputControl=new a.NI,this._unsubscribeAll=new Z.x}ngOnInit(){this.departments$=this.store.select(re),this.store.select(z.B).pipe((0,p.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"",start:"desc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,p.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,N.T)(this._sort.sortChange,this._paginator.page).pipe((0,Y.w)(()=>(this.isLoading=!0,this._departmentService.getDepartments(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,S.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createDepartment(){this._openDialog(this.department,"add")}editDepartment(t){this._openDialog(t,"edit")}deleteDepartment(t){this._fuseConfirmationService.open({title:"Eliminar Usuario",message:`\xbfEst\xe1 seguro que desea eliminar el departamento ${t.name}? Perder\xe1 el acceso a todos los datos asociados al mismo.`,icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(i=>{"confirmed"===i&&this._departmentService.deleteDepartment(t._id,this.pagination.page,this.pagination.size,"active","desc").subscribe(l=>{this._snackBar.openFromComponent(_.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:l.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill",svgIcon:"heroicons_solid:check"}}),this._changeDetectorRef.markForCheck()})}),this._changeDetectorRef.markForCheck()}showFlashMessage(t){this.flashMessage=t,this._changeDetectorRef.markForCheck(),setTimeout(()=>{this.flashMessage=null,this._changeDetectorRef.markForCheck()},3e3)}trackByFn(t,n){return n.id||t}_openDialog(t,n){this.dialog.open(te,{data:{department:t,dialogMode:n},panelClass:"ath-dialog-panel"})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.sBO),e.Y36(k.R),e.Y36(E.U),e.Y36(q.ux),e.Y36(u.uw),e.Y36(f.yh))},o.\u0275cmp=e.Xpm({type:o,selectors:[["hrm-departments"]],viewQuery:function(t,n){if(1&t&&(e.Gf(T.NW,5),e.Gf(x.YE,5)),2&t){let i;e.iGM(i=e.CRH())&&(n._paginator=i.first),e.iGM(i=e.CRH())&&(n._sort=i.first)}},decls:35,vars:8,consts:[["cdkScrollable","",1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","bg-card","dark:bg-transparent","overflow-y-auto","overflow-x-auto","lg:overflow-x-hidden"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/desktop",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"flex","items-center","flex-shrink-0","mt-6","sm:mt-0","sm:ml-4"],["mat-raised-button","",1,"ml-4","text-white","bg-primary-500","hover:bg-primary-700","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"flex","flex-col","flex-auto"],[4,"ngIf"],["noDepartments",""],[4,"ngIf","ngIfElse"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","departments-table","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[3,"mat-sort-header"],[1,"hidden","lg:block"],[1,"flex","justify-center",3,"mat-sort-header"],[1,"text-center"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","departments-table","md:px-8"],[1,"truncate"],[1,"hidden","truncate","lg:block"],[1,"hidden","text-center","md:block"],[1,"flex","flex-col","justify-center","gap-2","md:flex-row"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"text-green-400","icon-size-5",3,"svgIcon"],[1,"text-red-400","icon-size-5",3,"svgIcon"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Recursos Humanos"),e.qZA()(),e.TgZ(12,"div",4),e._UZ(13,"mat-icon",6),e.TgZ(14,"a",8),e._uU(15,"Departamentos"),e.qZA()()(),e.TgZ(16,"div",9)(17,"a",10),e._UZ(18,"mat-icon",6),e.TgZ(19,"span",11),e._uU(20,"Regresar"),e.qZA()()()(),e.TgZ(21,"div",12)(22,"div",13),e._uU(23," Departamentos "),e.qZA()()(),e.TgZ(24,"div",14)(25,"button",15),e.NdJ("click",function(){return n.createDepartment()}),e._UZ(26,"mat-icon",16),e.TgZ(27,"span",17),e._uU(28,"Nuevo"),e.qZA()()()(),e.TgZ(29,"div",18)(30,"div",18),e.YNc(31,nt,2,2,"ng-container",19),e.ALo(32,"async"),e.YNc(33,rt,2,0,"ng-template",null,20,e.W1O),e.qZA()()()),2&t&&(e.xp6(9),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:chevron-left"),e.xp6(8),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(5),e.Q6J("ngIf",e.lcZ(32,6,n.departments$)))},dependencies:[g.yS,c.mk,c.sg,c.O5,I.PQ,b.lW,v.Hw,T.NW,x.YE,x.nU,c.Ov],encapsulation:2,data:{animation:B.L},changeDetection:0}),o})();var ie=s(2342),ae=s(7238),le=s(5439);class at{constructor(r){Object.assign(this,r),this.calcBirthdayAndAge()}calcBirthdayAndAge(){this.birthday=le(this.idNumber.substring(0,6),"YYMMDD"),this.age=le().diff(this.birthday,"years")}}function lt(o,r){if(1&o&&e._UZ(0,"img",33),2&o){const t=e.oxw();e.Q6J("src",t.employee.imageUrl,e.LSH)}}function st(o,r){if(1&o&&(e.TgZ(0,"div",34),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",t.employee.name.charAt(0)," ")}}function mt(o,r){1&o&&(e.ynx(0),e._UZ(1,"mat-icon",35),e.BQk()),2&o&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:check"))}function ct(o,r){1&o&&(e.ynx(0),e._UZ(1,"mat-icon",36),e.BQk()),2&o&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:x"))}function pt(o,r){if(1&o&&(e.TgZ(0,"div",40)(1,"span",41),e._uU(2,"\u2022"),e.qZA(),e.TgZ(3,"span",42),e._uU(4),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(4),e.Oqu(t.label)}}function gt(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"div",37)(2,"a",38),e._uU(3),e.qZA(),e.YNc(4,pt,5,1,"div",39),e.qZA(),e.BQk()),2&o){const t=r.$implicit;e.xp6(2),e.Q6J("href","mailto:"+t.email,e.LSH),e.xp6(1),e.hij(" ",t.email," "),e.xp6(1),e.Q6J("ngIf",t.label)}}function dt(o,r){if(1&o&&(e.TgZ(0,"div",40)(1,"span",41),e._uU(2,"\u2022"),e.qZA(),e.TgZ(3,"span",42),e._uU(4),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(4),e.Oqu(t.label)}}function ut(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"div",37)(2,"div",43),e._uU(3),e.qZA(),e.TgZ(4,"div",43),e._uU(5),e.qZA(),e.YNc(6,dt,5,1,"div",39),e.qZA(),e.BQk()),2&o){const t=r.$implicit;e.xp6(3),e.Oqu(t.stateCode),e.xp6(2),e.Oqu(t.phoneNumber),e.xp6(1),e.Q6J("ngIf",t.label)}}let _t=(()=>{class o{constructor(t,n,i){this.employee=t,this._dialogRef=n,this._router=i}closeDialog(){this._dialogRef.close()}editEmployee(){this.closeDialog(),this._router.navigateByUrl(`/modules/hrm/employees/${this.employee._id}`)}trackByFn(t,n){return n.id||t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.WI),e.Y36(u.so),e.Y36(g.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["employee-dialog"]],decls:173,vars:49,consts:[[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left","bg-gray-50"],["mat-dialog-title","",1,"mb-0"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-6","pt-1"],[1,"w-full"],[1,"flex","w-full"],[1,"flex","flex-col","justify-end","w-4/5","my-2"],[1,"text-4xl","font-bold","truncate"],[1,"flex","text-xl","font-bold","truncate"],[1,"mr-2.5",3,"svgIcon"],[1,"flex","justify-center","w-1/5","py-2"],[1,"flex","items-center","justify-center","w-32","h-32","overflow-hidden","rounded-full","ring-4","ring-bg-card"],["class","object-cover w-full h-full",3,"src",4,"ngIf"],["class","flex items-center justify-center w-full h-full overflow-hidden font-bold leading-none text-gray-600 uppercase bg-gray-200 rounded text-8xl dark:bg-gray-700 dark:text-gray-200",4,"ngIf"],[1,"flex","flex-col","border-t","gap-y-5"],[1,"flex","flex-col","w-full","gap-8","md:flex-row"],[1,"flex","flex-col","w-1/3","pt-6","mt-4","space-y-8"],[1,"flex","sm:items-center"],[1,"min-w-56","font-semibold"],[1,"leading-6"],[1,"min-w-56","font-semibold","pr-5"],[4,"ngIf"],[1,"flex","flex-col"],[1,"min-w-44","font-semibold"],[1,"flex"],[3,"svgIcon"],[1,"min-w-0","space-y-1"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"min-w-28","font-semibold"],[1,"flex","items-center","justify-between","w-full","px-8","py-4","mt-10","border-t","sm:px-12","bg-gray-50","dark:bg-transparent"],["mat-button","",3,"matTooltip","click"],["mat-flat-button","",3,"color","matTooltip","click"],[1,"object-cover","w-full","h-full",3,"src"],[1,"flex","items-center","justify-center","w-full","h-full","overflow-hidden","font-bold","leading-none","text-gray-600","uppercase","bg-gray-200","rounded","text-8xl","dark:bg-gray-700","dark:text-gray-200"],[1,"text-green-400","icon-size-5",3,"svgIcon"],[1,"text-gray-400","icon-size-5",3,"svgIcon"],[1,"flex","items-center","leading-6"],["target","_blank",1,"ml-2.5","hover:underline","text-primary-500",3,"href"],["class","truncate text-md text-secondary",4,"ngIf"],[1,"truncate","text-md","text-secondary"],[1,"mx-2"],[1,"font-medium"],[1,"ml-2.5","font-mono"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1)(3,"h2",2),e._uU(4,"Informaci\xf3n del empleado"),e.qZA()(),e.BQk(),e.TgZ(5,"div",3),e.ynx(6),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"span",8),e._uU(12),e.qZA(),e.TgZ(13,"span",9),e._UZ(14,"mat-icon",10),e._uU(15),e.ALo(16,"date"),e.qZA(),e.TgZ(17,"span",9),e._uU(18),e.qZA()(),e.TgZ(19,"div",11)(20,"div",12),e.YNc(21,lt,1,1,"img",13),e.YNc(22,st,2,1,"div",14),e.qZA()()(),e.TgZ(23,"div",15)(24,"div",16)(25,"div",17),e.ynx(26),e.TgZ(27,"div",18)(28,"mat-label",19),e._uU(29,"C\xf3digo de empleado"),e.qZA(),e.TgZ(30,"div",20),e._uU(31),e.qZA()(),e.BQk(),e.ynx(32),e.TgZ(33,"div",18)(34,"mat-label",19),e._uU(35,"N\xfamero de identidad"),e.qZA(),e.TgZ(36,"div",20),e._uU(37),e.qZA()(),e.BQk(),e.ynx(38),e.TgZ(39,"div",18)(40,"mat-label",19),e._uU(41,"G\xe9nero"),e.qZA(),e.TgZ(42,"div",20),e._uU(43),e.ALo(44,"titlecase"),e.qZA()(),e.BQk(),e.ynx(45),e.TgZ(46,"div",18)(47,"mat-label",21),e._uU(48,"Activo"),e.qZA(),e.YNc(49,mt,2,1,"ng-container",22),e.YNc(50,ct,2,1,"ng-container",22),e.qZA(),e.BQk(),e.qZA(),e.TgZ(51,"div",17),e.ynx(52),e.TgZ(53,"div",23)(54,"mat-label",24),e._uU(55,"Correos Electr\xf3nicos"),e.qZA(),e.TgZ(56,"div",25),e._UZ(57,"mat-icon",26),e.TgZ(58,"div",27),e.YNc(59,gt,5,3,"ng-container",28),e.qZA()()(),e.BQk(),e.ynx(60),e.TgZ(61,"div",23)(62,"mat-label",24),e._uU(63,"Tel\xe9fonos"),e.qZA(),e.TgZ(64,"div",25),e._UZ(65,"mat-icon",26),e.TgZ(66,"div",27),e.YNc(67,ut,7,3,"ng-container",28),e.qZA()()(),e.BQk(),e.qZA(),e.TgZ(68,"div",17),e.ynx(69),e.TgZ(70,"div",18)(71,"mat-label",29),e._uU(72,"Domicilio"),e.qZA(),e.TgZ(73,"div",20),e._uU(74),e.qZA()(),e.BQk(),e.ynx(75),e.TgZ(76,"div",18)(77,"mat-label",29),e._uU(78,"Pa\xeds"),e.qZA(),e.TgZ(79,"div",20),e._uU(80),e.ALo(81,"titlecase"),e.qZA()(),e.BQk(),e.ynx(82),e.TgZ(83,"div",18)(84,"mat-label",29),e._uU(85,"Provincia"),e.qZA(),e.TgZ(86,"div",20),e._uU(87),e.qZA()(),e.BQk(),e.ynx(88),e.TgZ(89,"div",18)(90,"mat-label",29),e._uU(91,"Municipio"),e.qZA(),e.TgZ(92,"div",20),e._uU(93),e.qZA()(),e.BQk(),e.ynx(94),e.TgZ(95,"div",18)(96,"mat-label",29),e._uU(97,"C\xf3digo Postal"),e.qZA(),e.TgZ(98,"div",20),e._uU(99),e.qZA()(),e.BQk(),e.qZA()(),e.TgZ(100,"div",16)(101,"div",17),e.ynx(102),e.TgZ(103,"div",18)(104,"mat-label",19),e._uU(105,"Fecha de contrataci\xf3n"),e.qZA(),e.TgZ(106,"div",20),e._uU(107),e.ALo(108,"date"),e.qZA()(),e.BQk(),e.ynx(109),e.TgZ(110,"div",18)(111,"mat-label",19),e._uU(112,"Tipo de contrato"),e.qZA(),e.TgZ(113,"div",20),e._uU(114),e.ALo(115,"titlecase"),e.qZA()(),e.BQk(),e.ynx(116),e.TgZ(117,"div",18)(118,"mat-label",19),e._uU(119,"Fecha de cierre del contrato "),e.qZA(),e.TgZ(120,"div",20),e._uU(121),e.ALo(122,"date"),e.qZA()(),e.BQk(),e.ynx(123),e.TgZ(124,"div",18)(125,"mat-label",19),e._uU(126,"Duraci\xf3n del contrato (en d\xedas) "),e.qZA(),e.TgZ(127,"div",20),e._uU(128),e.qZA()(),e.BQk(),e.qZA(),e.TgZ(129,"div",17),e.ynx(130),e.TgZ(131,"div",18)(132,"mat-label",29),e._uU(133,"Departamento"),e.qZA(),e.TgZ(134,"div",20),e._uU(135),e.qZA()(),e.BQk(),e.ynx(136),e.TgZ(137,"div",18)(138,"mat-label",29),e._uU(139,"Cargo"),e.qZA(),e.TgZ(140,"div",20),e._uU(141),e.qZA()(),e.BQk(),e.ynx(142),e.TgZ(143,"div",18)(144,"mat-label",29),e._uU(145,"Escolaridad"),e.qZA(),e.TgZ(146,"div",20),e._uU(147),e.qZA()(),e.BQk(),e.qZA(),e.TgZ(148,"div",17),e.ynx(149),e.TgZ(150,"div",18)(151,"mat-label",24),e._uU(152,"Frecuencia de pago"),e.qZA(),e.TgZ(153,"div",20),e._uU(154),e.qZA()(),e.BQk(),e.ynx(155),e.TgZ(156,"div",18)(157,"mat-label",24),e._uU(158,"M\xe9todo de pago"),e.qZA(),e.TgZ(159,"div",20),e._uU(160),e.qZA()(),e.BQk(),e.ynx(161),e.TgZ(162,"div",18)(163,"mat-label",24),e._uU(164,"Salario"),e.qZA(),e.TgZ(165,"div",20),e._uU(166),e.qZA()(),e.BQk(),e.qZA()()()()(),e.BQk(),e.qZA(),e.ynx(167),e.TgZ(168,"div",30)(169,"button",31),e.NdJ("click",function(){return n.closeDialog()}),e._uU(170," Cerrar "),e.qZA(),e.TgZ(171,"button",32),e.NdJ("click",function(){return n.editEmployee()}),e._uU(172," Editar "),e.qZA()(),e.BQk(),e.qZA()),2&t&&(e.xp6(12),e.lnq(" ",n.employee.name," ",n.employee.lastname1," ",n.employee.lastname2," "),e.xp6(2),e.Q6J("svgIcon","heroicons_outline:cake"),e.xp6(1),e.hij(" ",e.lcZ(16,37,n.employee.birthday)," "),e.xp6(3),e.hij(" ",n.employee.age," a\xf1os "),e.xp6(3),e.Q6J("ngIf",n.employee.imageUrl),e.xp6(1),e.Q6J("ngIf",!n.employee.imageUrl),e.xp6(9),e.Oqu(n.employee.code),e.xp6(6),e.Oqu(n.employee.idNumber),e.xp6(6),e.Oqu(e.lcZ(44,39,n.employee.gender)),e.xp6(6),e.Q6J("ngIf",n.employee.active),e.xp6(1),e.Q6J("ngIf",!n.employee.active),e.xp6(7),e.Q6J("svgIcon","heroicons_outline:mail"),e.xp6(2),e.Q6J("ngForOf",n.employee.emails)("ngForTrackBy",n.trackByFn),e.xp6(6),e.Q6J("svgIcon","heroicons_outline:phone"),e.xp6(2),e.Q6J("ngForOf",n.employee.phoneNumbers)("ngForTrackBy",n.trackByFn),e.xp6(7),e.Oqu(n.employee.address),e.xp6(6),e.Oqu(e.lcZ(81,41,n.employee.country)),e.xp6(7),e.Oqu(n.employee.state),e.xp6(6),e.Oqu(n.employee.city),e.xp6(6),e.Oqu(n.employee.postalCode),e.xp6(8),e.Oqu(e.lcZ(108,43,n.employee.dateOfJoining)),e.xp6(7),e.Oqu(e.lcZ(115,45,n.employee.typeOfContract)),e.xp6(7),e.hij(" ",e.lcZ(122,47,n.employee.contractEndDate)||"Indefinido"," "),e.xp6(7),e.hij("",n.employee.contractTime||"Indefinido"," "),e.xp6(7),e.Oqu(n.employee.department.name),e.xp6(6),e.Oqu(n.employee.charge.name),e.xp6(6),e.Oqu(n.employee.scholarship),e.xp6(7),e.Oqu(n.employee.salaryFreq),e.xp6(6),e.Oqu(n.employee.salaryMethod),e.xp6(6),e.Oqu(n.employee.salaryLevel||"Por definir"),e.xp6(3),e.Q6J("matTooltip","Cerrar"),e.xp6(2),e.Q6J("color","primary")("matTooltip","Editar"))},dependencies:[c.sg,c.O5,b.lW,u.uh,v.Hw,d.hX,ae.gM,c.rS,c.uU],encapsulation:2,changeDetection:0}),o})();var w=s(5181);function ht(o,r){if(1&o&&e._UZ(0,"img",44),2&o){const t=e.oxw().$implicit;e.Q6J("alt","Foto")("src",t.imageUrl,e.LSH)}}function ft(o,r){1&o&&(e.TgZ(0,"div",45),e._uU(1," SIN FOTO "),e.qZA())}function xt(o,r){if(1&o&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.department.name," ")}}function vt(o,r){1&o&&(e.TgZ(0,"div",46),e._uU(1," No tiene asignado "),e.qZA())}function yt(o,r){if(1&o&&(e.TgZ(0,"div",32),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.charge.name," ")}}function Zt(o,r){1&o&&(e.TgZ(0,"div",46),e._uU(1," No tiene asignado "),e.qZA())}function bt(o,r){1&o&&(e.ynx(0),e._UZ(1,"mat-icon",47),e.BQk()),2&o&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:check"))}function Ct(o,r){1&o&&(e.ynx(0),e._UZ(1,"mat-icon",48),e.BQk()),2&o&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:x"))}function Tt(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",31)(2,"div",32)(3,"div",33),e.YNc(4,ht,1,2,"img",34),e.YNc(5,ft,2,0,"div",35),e.qZA()(),e.TgZ(6,"div",36),e._uU(7),e.qZA(),e.TgZ(8,"div",37),e._uU(9),e.qZA(),e.YNc(10,xt,2,1,"div",38),e.YNc(11,vt,2,0,"div",39),e.YNc(12,yt,2,1,"div",40),e.YNc(13,Zt,2,0,"div",39),e.TgZ(14,"div",25),e.YNc(15,bt,2,1,"ng-container",20),e.YNc(16,Ct,2,1,"ng-container",20),e.qZA(),e.TgZ(17,"div",41)(18,"button",42),e.NdJ("click",function(){const l=e.CHM(t).$implicit,m=e.oxw(4);return e.KtG(m.viewEmployee(l))}),e._UZ(19,"mat-icon",43),e.qZA(),e.TgZ(20,"button",42),e.NdJ("click",function(){const l=e.CHM(t).$implicit,m=e.oxw(4);return e.KtG(m.editEmployee(l))}),e._UZ(21,"mat-icon",43),e.qZA(),e.TgZ(22,"button",42),e.NdJ("click",function(){const l=e.CHM(t).$implicit,m=e.oxw(4);return e.KtG(m.deleteEmployee(l._id))}),e._UZ(23,"mat-icon",43),e.qZA()()(),e.BQk()}if(2&o){const t=r.$implicit;e.xp6(4),e.Q6J("ngIf",t.imageUrl),e.xp6(1),e.Q6J("ngIf",!t.imageUrl),e.xp6(2),e.hij(" ",t.code," "),e.xp6(2),e.lnq(" ",t.name," ",t.lastname1," ",t.lastname2," "),e.xp6(1),e.Q6J("ngIf",t.department),e.xp6(1),e.Q6J("ngIf",!t.department),e.xp6(1),e.Q6J("ngIf",t.charge),e.xp6(1),e.Q6J("ngIf",!t.charge),e.xp6(2),e.Q6J("ngIf",t.active),e.xp6(1),e.Q6J("ngIf",!t.active),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:eye"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:pencil"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function At(o,r){if(1&o&&(e.ynx(0),e.YNc(1,Tt,24,15,"ng-container",30),e.BQk()),2&o){const t=r.ngIf,n=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",n.trackByFn)}}const kt=function(o){return{"pointer-events-none":o}},qt=function(){return[10,25,50,100]};function It(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"div",23)(2,"div",24)(3,"div",25),e._uU(4," Foto "),e.qZA(),e.TgZ(5,"div",25),e._uU(6," C\xf3digo "),e.qZA(),e.TgZ(7,"div",26),e._uU(8," Nombre completo "),e.qZA(),e.TgZ(9,"div",27),e._uU(10," Departamento "),e.qZA(),e.TgZ(11,"div",28),e._uU(12," Cargo "),e.qZA(),e.TgZ(13,"div",25),e._uU(14," Activo "),e.qZA(),e.TgZ(15,"div",25),e._uU(16," Acciones "),e.qZA()(),e.YNc(17,At,2,2,"ng-container",20),e.ALo(18,"async"),e._UZ(19,"mat-paginator",29),e.qZA(),e.BQk()),2&o){const t=e.oxw(2);e.xp6(7),e.Q6J("mat-sort-header","name"),e.xp6(2),e.Q6J("mat-sort-header","department"),e.xp6(8),e.Q6J("ngIf",e.lcZ(18,9,t.employees$)),e.xp6(2),e.Q6J("ngClass",e.VKq(11,kt,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(13,qt))("showFirstLastButtons",!0)}}function Ft(o,r){if(1&o&&(e.ynx(0),e.YNc(1,It,20,14,"ng-container",22),e.BQk()),2&o){const t=r.ngIf;e.oxw();const n=e.MAs(34);e.xp6(1),e.Q6J("ngIf",t.length>0)("ngIfElse",n)}}function Ut(o,r){1&o&&(e.TgZ(0,"div",49),e._uU(1,"No ha creado ning\xfan empleado a\xfan!"),e.qZA())}let Qt=(()=>{class o{constructor(t,n,i,l,m,h,C){this._changeDetectorRef=t,this._dialog=n,this._hrmEmployeeService=i,this._fuseConfirmationService=l,this._router=m,this._snackBar=h,this.store=C,this.merchantId="",this.flashMessage=null,this.isLoading=!1,this.searchInputControl=new a.NI,this.selectedEmployee=null,this._unsubscribeAll=new Z.x}ngOnInit(){this.employees$=this.store.select(ie.ri),this.store.select(z.B).pipe((0,p.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"",start:"asc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,p.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,N.T)(this._sort.sortChange,this._paginator.page).pipe((0,Y.w)(()=>(this.isLoading=!0,this._hrmEmployeeService.getEmployees(this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction,""))),(0,S.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createEmployee(){this._router.navigate(["/modules/hrm/employees/new"])}viewEmployee(t){this._dialog.open(_t,{data:new at(t),width:"90%",height:"98%",panelClass:"ath-dialog-panel"})}editEmployee(t){this._router.navigateByUrl(`/modules/hrm/employees/${t._id}`)}deleteEmployee(t){this._fuseConfirmationService.open({title:"Eliminar Empleado",message:"\xbfEsta seguro que desea Eliminar el empleado? Perder\xe1 el acceso a todos los datos asociados al mismo.",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(i=>{"confirmed"===i&&this._hrmEmployeeService.deleteEmployee(t,this.pagination.page,this.pagination.size,"active","desc").subscribe(l=>{this._snackBar.openFromComponent(_.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:l.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck()}),this._changeDetectorRef.markForCheck()})}trackByFn(t,n){return n.id||t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.sBO),e.Y36(u.uw),e.Y36(w.b),e.Y36(k.R),e.Y36(g.F0),e.Y36(q.ux),e.Y36(f.yh))},o.\u0275cmp=e.Xpm({type:o,selectors:[["hrm-employees"]],viewQuery:function(t,n){if(1&t&&(e.Gf(T.NW,5),e.Gf(x.YE,5)),2&t){let i;e.iGM(i=e.CRH())&&(n._paginator=i.first),e.iGM(i=e.CRH())&&(n._sort=i.first)}},decls:35,vars:8,consts:[["cdkScrollable","",1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","bg-card","dark:bg-transparent","overflow-y-auto","overflow-x-auto","lg:overflow-x-hidden"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/desktop",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"flex","items-center","flex-shrink-0","mt-6","sm:mt-0","sm:ml-4"],["mat-raised-button","",1,"ml-4","text-white","bg-primary-500","hover:bg-primary-700","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"flex","flex-auto"],[1,"flex","flex-col","flex-auto"],[4,"ngIf"],["noEmployees",""],[4,"ngIf","ngIfElse"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5","employees-table"],[1,"text-center"],[3,"mat-sort-header"],[1,"text-center",3,"mat-sort-header"],[1,""],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","md:px-8","employees-table"],[1,"items-center"],[1,"relative","flex","items-center","justify-center","w-12","h-12","mr-6","overflow-hidden","border","rounded","flex-0"],["class","w-8",3,"alt","src",4,"ngIf"],["class","flex items-center justify-center w-full h-full text-xs font-semibold leading-none text-center uppercase",4,"ngIf"],[1,"text-center","truncate"],[1,"truncate"],["class","",4,"ngIf"],["class","text-red-700",4,"ngIf"],["class","items-center",4,"ngIf"],[1,"flex","items-center","justify-center","gap-1","flex-row"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"w-8",3,"alt","src"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase"],[1,"text-red-700"],[1,"text-green-400","icon-size-5",3,"svgIcon"],[1,"text-gray-400","icon-size-5",3,"svgIcon"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Recursos Humanos"),e.qZA()(),e.TgZ(12,"div",4),e._UZ(13,"mat-icon",6),e.TgZ(14,"a",8),e._uU(15,"Empleados"),e.qZA()()(),e.TgZ(16,"div",9)(17,"a",10),e._UZ(18,"mat-icon",6),e.TgZ(19,"span",11),e._uU(20,"Regresar"),e.qZA()()()(),e.TgZ(21,"div",12)(22,"div",13),e._uU(23," Empleados "),e.qZA()()(),e.TgZ(24,"div",14)(25,"button",15),e.NdJ("click",function(){return n.createEmployee()}),e._UZ(26,"mat-icon",16),e.TgZ(27,"span",17),e._uU(28,"Nuevo"),e.qZA()()()(),e.TgZ(29,"div",18)(30,"div",19),e.YNc(31,Ft,2,2,"ng-container",20),e.ALo(32,"async"),e.YNc(33,Ut,2,0,"ng-template",null,21,e.W1O),e.qZA()()()),2&t&&(e.xp6(9),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:chevron-left"),e.xp6(8),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(5),e.Q6J("ngIf",e.lcZ(32,6,n.employees$)))},dependencies:[g.yS,c.mk,c.sg,c.O5,I.PQ,b.lW,v.Hw,T.NW,x.YE,x.nU,c.Ov],encapsulation:2,data:{animation:B.L},changeDetection:0}),o})();var F=s(7489),y=s(2491),se=s(4603),me=s(1158),Dt=s(7231),ce=s(508),j=s(6856),J=s(288),pe=s(4107);const H=function(o){return{"cursor-not-allowed":o}};function Et(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",74),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.createEmployee())}),e._UZ(1,"mat-icon",75),e.TgZ(2,"span",76),e._uU(3,"Guardar"),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.employeeForm.invalid)("ngClass",e.VKq(3,H,t.employeeForm.invalid)),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:save")}}function wt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",74),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.updateEmployee())}),e._UZ(1,"mat-icon",75),e.TgZ(2,"span",76),e._uU(3,"Actualizar"),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.employeeForm.invalid)("ngClass",e.VKq(3,H,t.employeeForm.invalid)),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:refresh")}}function Jt(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del empleado es obligatorio. "),e.qZA())}function Ht(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del empleado debe contener entre 3 y 255 caracteres. "),e.qZA())}function Nt(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del empleado no debe contener n\xfameros. "),e.qZA())}function Yt(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El primer apellido del empleado es obligatorio. "),e.qZA())}function St(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El primer apellido del empleado debe contener entre 3 y 255 caracteres. "),e.qZA())}function Bt(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El primer apellido del empleado no debe contener n\xfameros. "),e.qZA())}function Rt(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El segundo apellido del empleado debe contener entre 3 y 255 caracteres. "),e.qZA())}function Lt(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El segundo apellido del empleado no debe contener n\xfameros. "),e.qZA())}function Mt(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe escoger el g\xe9nero "),e.qZA())}function Ot(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El n\xfamero de identificaci\xf3n es obligatorio. "),e.qZA())}function zt(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El n\xfamero de identificaci\xf3n debe poseer 11 d\xedgitos. "),e.qZA())}function jt(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El n\xfamero de identidad debe poseer solo n\xfameros. "),e.qZA())}function $t(o,r){1&o&&(e.TgZ(0,"mat-label"),e._uU(1,"Tel\xe9fonos"),e.qZA())}function Pt(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"mat-option",82)(2,"span",23),e._UZ(3,"span",83),e.TgZ(4,"span",84),e._uU(5),e.qZA(),e.TgZ(6,"span",85),e._uU(7),e.qZA()()(),e.BQk()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("value",t.code),e.xp6(4),e.Oqu(t.name),e.xp6(2),e.Oqu(t.code)}}function Gt(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El n\xfamero de tel\xe9fono debe contener entre 7 y 8 d\xedgitos. "),e.qZA())}function Kt(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El n\xfamero de tel\xe9fono debe poseer solo n\xfameros. "),e.qZA())}function Vt(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El c\xf3digo sebe ser obligatorio. "),e.qZA())}function Wt(o,r){1&o&&(e.TgZ(0,"mat-label"),e._uU(1,"Etiqueta"),e.qZA())}function Xt(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La etiqueta debe contener entre 3 y 255 caracteres. "),e.qZA())}const ge=function(o){return{"mt-6":o}};function eo(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",77)(2,"mat-form-field",78),e.YNc(3,$t,2,0,"mat-label",29),e._UZ(4,"input",79),e.TgZ(5,"mat-select",80)(6,"mat-select-trigger")(7,"span",23)(8,"span",81),e._uU(9),e.qZA()()(),e.TgZ(10,"mat-option",82)(11,"span",23),e._UZ(12,"span",83),e.TgZ(13,"span",84),e._uU(14),e.ALo(15,"titlecase"),e.qZA(),e.TgZ(16,"span",85),e._uU(17),e.qZA()()(),e.YNc(18,Pt,8,3,"ng-container",42),e.qZA(),e.YNc(19,Gt,2,0,"mat-error",29),e.YNc(20,Kt,2,0,"mat-error",29),e.YNc(21,Vt,2,0,"mat-error",29),e.qZA(),e.TgZ(22,"mat-form-field",86),e.YNc(23,Wt,2,0,"mat-label",29),e._UZ(24,"mat-icon",35)(25,"input",87),e.YNc(26,Xt,2,0,"mat-error",29),e.qZA(),e.ynx(27),e.TgZ(28,"div",88)(29,"button",89),e.NdJ("click",function(){const l=e.CHM(t).index,m=e.oxw();return e.KtG(m.removePhoneNumberField(l))}),e._UZ(30,"mat-icon",44),e.qZA()(),e.BQk(),e.qZA(),e.BQk()}if(2&o){const t=r.$implicit,n=r.index,i=r.first,l=e.oxw();e.xp6(3),e.Q6J("ngIf",i),e.xp6(1),e.Q6J("type","tel")("formControl",t.get("phoneNumber"))("placeholder","Tel\xe9fono")("minlength",7)("maxlength",8),e.xp6(1),e.Q6J("formControl",t.get("stateCode")),e.xp6(4),e.Oqu(l.employeeForm.get("phoneNumbers").value[n].stateCode),e.xp6(1),e.Q6J("value","+535"),e.xp6(4),e.Oqu(e.lcZ(15,25,"celular")),e.xp6(3),e.Oqu("+535"),e.xp6(1),e.Q6J("ngForOf",l.statesCodes)("ngForTrackBy",l.trackByFn),e.xp6(1),e.Q6J("ngIf",t.get("phoneNumber").hasError("minlength")||t.get("phoneNumber").hasError("maxlength")),e.xp6(1),e.Q6J("ngIf",t.get("phoneNumber").hasError("pattern")),e.xp6(1),e.Q6J("ngIf",t.get("stateCode").hasError("required")),e.xp6(2),e.Q6J("ngIf",i),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:tag"),e.xp6(1),e.Q6J("formControl",t.get("label"))("placeholder","Etiqueta")("minLength",3)("maxLength",255),e.xp6(1),e.Q6J("ngIf",t.get("label").hasError("maxlength")||t.get("label").hasError("minlength")),e.xp6(2),e.Q6J("ngClass",e.VKq(27,ge,i)),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function to(o,r){1&o&&(e.TgZ(0,"mat-label"),e._uU(1,"Correos Electr\xf3nicos"),e.qZA())}function oo(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El correos electr\xf3nicos no posee un formato v\xe1lido. "),e.qZA())}function no(o,r){1&o&&(e.TgZ(0,"mat-label"),e._uU(1,"Etiqueta"),e.qZA())}function ro(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La etiqueta debe contener entre 3 y 255 caracteres. "),e.qZA())}function io(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",90)(2,"mat-form-field",78),e.YNc(3,to,2,0,"mat-label",29),e._UZ(4,"mat-icon",35)(5,"input",91),e.YNc(6,oo,2,0,"mat-error",29),e.qZA(),e.TgZ(7,"mat-form-field",86),e.YNc(8,no,2,0,"mat-label",29),e._UZ(9,"mat-icon",35)(10,"input",87),e.YNc(11,ro,2,0,"mat-error",29),e.qZA(),e.ynx(12),e.TgZ(13,"div",88)(14,"button",92),e.NdJ("click",function(){const l=e.CHM(t).index,m=e.oxw();return e.KtG(m.removeEmailField(l))}),e._UZ(15,"mat-icon",44),e.qZA()(),e.BQk(),e.qZA(),e.BQk()}if(2&o){const t=r.$implicit,n=r.first;e.xp6(3),e.Q6J("ngIf",n),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:mail"),e.xp6(1),e.Q6J("formControl",t.get("email"))("spellcheck",!1),e.xp6(1),e.Q6J("ngIf",t.get("email").hasError("email")),e.xp6(2),e.Q6J("ngIf",n),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:tag"),e.xp6(1),e.Q6J("formControl",t.get("label"))("placeholder","Etiqueta")("minLength",3)("maxLength",255),e.xp6(1),e.Q6J("ngIf",t.get("label").hasError("maxlength")||t.get("label").hasError("minlength")),e.xp6(2),e.Q6J("ngClass",e.VKq(14,ge,n)),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function ao(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar el pa\xeds. "),e.qZA())}function lo(o,r){if(1&o&&(e.TgZ(0,"mat-option",82),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function so(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar una provincia. "),e.qZA())}function mo(o,r){if(1&o&&(e.TgZ(0,"mat-option",82),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.city),e.xp6(1),e.hij(" ",t.city," ")}}function co(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar un municipio. "),e.qZA())}function po(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El c\xf3digo postal debe poseer solo n\xfameros. "),e.qZA())}function go(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El c\xf3digo postal debe poseer solo 5 d\xedgitos. "),e.qZA())}function uo(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La direcci\xf3n es obligatoria. "),e.qZA())}function _o(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La direcci\xf3n debe contener entre 3 y 255 caracteres. "),e.qZA())}function ho(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," La fecha de contrataci\xf3n es obligatoria. "),e.qZA())}function fo(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar un tipo de contrato. "),e.qZA())}function xo(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," El tiempo del contrato debe poseer solo n\xfameros. "),e.qZA())}function vo(o,r){if(1&o&&(e.TgZ(0,"mat-option",82),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij("",t.name," ")}}function yo(o,r){if(1&o&&(e.TgZ(0,"mat-option",82),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.name,"")}}function Zo(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar el cargo "),e.qZA())}function bo(o,r){if(1&o&&(e.TgZ(0,"mat-option",82),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij("",t," ")}}function Co(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar el nivel de escolaridad. "),e.qZA())}function To(o,r){if(1&o&&(e.TgZ(0,"mat-option",82),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij("",t," ")}}function Ao(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar la frecuencia en el que efectuar\xe1 el pago "),e.qZA())}function ko(o,r){if(1&o&&(e.TgZ(0,"mat-option",82),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij("",t," ")}}function qo(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar un modo pago "),e.qZA())}function Io(o,r){if(1&o&&e._UZ(0,"img",93),2&o){const t=e.oxw();e.Q6J("alt","Product thumbnail image")("src",t.employeeForm.get("imageUrl").value,e.LSH)}}function Fo(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",94),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.removeImage())}),e._UZ(1,"mat-icon",95),e.qZA()}}function Uo(o,r){1&o&&(e.TgZ(0,"div",96),e._uU(1," SIN IMAGEN "),e.qZA())}function Qo(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"input",97,98),e.NdJ("change",function(){e.CHM(t);const i=e.MAs(2),l=e.oxw();return e.KtG(l.uploadImage(i.files))}),e.qZA(),e.TgZ(3,"label",99)(4,"div",100),e._UZ(5,"mat-icon",44),e.TgZ(6,"span",45),e._uU(7," Agregar imagen "),e.qZA()()()()}2&o&&(e.xp6(1),e.Q6J("multiple",!1)("accept","image/jpeg, image/jpg, image/webp, image/png"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:plus-circle"))}function Do(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",74),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.createEmployee())}),e._UZ(1,"mat-icon",75),e.TgZ(2,"span",76),e._uU(3,"Guardar"),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.employeeForm.invalid)("ngClass",e.VKq(3,H,t.employeeForm.invalid)),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:save")}}function Eo(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",74),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.updateEmployee())}),e._UZ(1,"mat-icon",75),e.TgZ(2,"span",76),e._uU(3,"Actualizar"),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.employeeForm.invalid)("ngClass",e.VKq(3,H,t.employeeForm.invalid)),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:refresh")}}let wo=(()=>{class o{constructor(t,n,i,l,m,h,C,U,Ro,Lo,Mo,Oo){this._activatedRoute=t,this._changeDetectorRef=n,this._dialog=i,this._formBuilder=l,this._fuseConfirmationService=m,this._hrmService=h,this._hrmEmployeesService=C,this._locationService=U,this._router=Ro,this._imagesService=Lo,this._snackBar=Mo,this.store=Oo,this.cities=[],this.department=new oe,this.employees=[],this.isNew=!1,this.states=[],this.statesCodes=[],this.stateSelected="",this.user$=(0,Q.of)(null),this._unsubscribeAll=new Z.x}ngOnInit(){var t;this.user$=this.store.select(R.rk),this.user$.subscribe(n=>{this.user=n,this._changeDetectorRef.markForCheck()}),this.store.select(L.Qs).pipe((0,p.R)(this._unsubscribeAll)).subscribe(n=>{this.currentMerchant=n}),this.charges$=this.store.select(K),this.departments$=this.store.select(re),this.salaryFreqs$=this._hrmService._salaryFreqs$,this.salaryMethods$=this._hrmService._salaryMethods$,this.scholarships$=this._hrmService._scholarship$,this._locationService.states$.pipe((0,p.R)(this._unsubscribeAll)).subscribe(n=>{this.states=n,this._changeDetectorRef.markForCheck()}),this._locationService.statesCodes$.pipe((0,p.R)(this._unsubscribeAll)).subscribe(n=>{this.statesCodes=n,this._changeDetectorRef.markForCheck()}),this.employeeForm=this._formBuilder.group({_id:[""],userId:[this.user._id,[a.kI.required]],merchantId:[this.currentMerchant._id,[a.kI.required]],active:[!0],code:[{value:"",disabled:!0}],name:["",[a.kI.required,a.kI.minLength(3),a.kI.maxLength(255),y.L.onlyAlphabetsWithAccentPattern()]],slug:[""],lastname1:["",[a.kI.required,a.kI.minLength(3),a.kI.maxLength(255),y.L.onlyAlphabetsWithAccentPattern()]],lastname2:["",[a.kI.minLength(3),a.kI.maxLength(255),y.L.onlyAlphabetsWithAccentPattern()]],gender:["",[a.kI.required]],idNumber:["",[a.kI.maxLength(11),a.kI.minLength(11),y.L.onlyNumbersPattern()]],emails:this._formBuilder.array([]),phoneNumbers:this._formBuilder.array([]),address:["",[a.kI.required,a.kI.minLength(3),a.kI.maxLength(255)]],country:[{value:"Cuba",disabled:!0},[a.kI.required]],state:["",[a.kI.required]],city:["",[a.kI.required]],postalCode:["",[a.kI.max(99999)]],dateOfJoining:[""],typeOfContract:[""],contractEndDate:[""],contractTime:[0,[y.L.onlyNumbersPattern()]],department:[""],charge:[""],scholarship:[""],salaryFreq:[""],salaryMethod:[""],salaryLevel:[""],imageUrl:[""]},{validators:y.L.onlyNumber("postalCode")}),this._activatedRoute.params.pipe((0,p.R)(this._unsubscribeAll)).subscribe(({employeeId:n})=>{this.employeeId=n,this._fillEmployeeData(n),this._changeDetectorRef.markForCheck()}),null===(t=this.employeeForm.get("state"))||void 0===t||t.valueChanges.pipe((0,p.R)(this._unsubscribeAll)).subscribe(n=>{this._getCitiesByState(n),this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}addEmailField(){const t=this._formBuilder.group({email:["",[a.kI.email,a.kI.maxLength(255)]],label:["",[a.kI.minLength(3),a.kI.maxLength(255)]]});this.employeeForm.get("emails").push(t),this._changeDetectorRef.markForCheck()}removeEmailField(t){this.employeeForm.get("emails").removeAt(t),this._changeDetectorRef.markForCheck()}addPhoneNumberField(){const t=this._formBuilder.group({stateCode:["",[a.kI.required]],phoneNumber:["",[a.kI.minLength(7),a.kI.maxLength(8),y.L.onlyNumbersPattern()]],label:["",[a.kI.minLength(3),a.kI.maxLength(255)]]});this.employeeForm.get("phoneNumbers").push(t),this._changeDetectorRef.markForCheck()}removePhoneNumberField(t){this.employeeForm.get("phoneNumbers").removeAt(t),this._changeDetectorRef.markForCheck()}createEmployee(){const t=`${(new Date).getDate()}${(new Date).getMonth()}${(new Date).getFullYear()}-${(new Date).getSeconds()}${(new Date).getMilliseconds()}`;this.employeeForm.get("code").setValue(t);let n=this.employeeForm.getRawValue();n=F.omit(n,"_id"),n.slug=new A.i(n.name).slug,n.change||(n=F.omit(n,"charge")),n.department||(n=F.omit(n,"department")),this._fuseConfirmationService.open({title:"Crear empleado",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(l=>{"confirmed"===l&&this._hrmEmployeesService.createEmployee(n).subscribe(m=>{this._snackBar.openFromComponent(_.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:m.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._router.navigateByUrl("/modules/hrm/employees"),this._changeDetectorRef.markForCheck()}),this._changeDetectorRef.markForCheck()})}updateEmployee(){let t=this.employeeForm.getRawValue();t.slug=new A.i(t.name).slug,t.change||(t=F.omit(t,"charge")),t.department||(t=F.omit(t,"department")),this._fuseConfirmationService.open({title:"Actualizar empleado",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(i=>{"confirmed"===i&&this._hrmEmployeesService.updateEmployee(t).subscribe(l=>{this._snackBar.openFromComponent(_.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:l.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._router.navigateByUrl("/modules/hrm/employees"),this._changeDetectorRef.markForCheck()}),this._changeDetectorRef.markForCheck()})}trackByFn(t,n){return n.id||t}openCreateDepartmentDialog(){this._dialog.open(te,{width:"600px",data:{department:this.department,dialogMode:"add"},panelClass:"ath-dialog-panel"})}uploadImage(t){if(!t.length)return;const i=t[0];!["image/jpeg","image/jpg","image/webp","image/png"].includes(i.type)||this._imagesService.uploadImage("HRM",i).subscribe(l=>{this._snackBar.openFromComponent(_.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:l.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill",svgIcon:"heroicons_solid:check"}}),this.employeeForm.get("imageUrl").setValue(l.imageUrl),this._changeDetectorRef.markForCheck()},l=>{console.warn(l)})}removeImage(){const t=this.employeeForm.get("imageUrl").value;this._fuseConfirmationService.open({title:"Cuidado",message:"\xbfEst\xe1 seguro que desea eliminar esta imagen?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"warning"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,p.R)(this._unsubscribeAll)).subscribe(i=>{"confirmed"===i&&this._imagesService.removeImage("HRM",t).subscribe(m=>{this.employeeForm.get("imageUrl").setValue(null),this._changeDetectorRef.markForCheck(),this._snackBar.openFromComponent(_.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:m.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill",svgIcon:"heroicons_solid:check"}})})})}_fillEmployeeData(t){"new"!==t&&this.store.select(ie.hf).pipe((0,p.R)(this._unsubscribeAll)).subscribe(n=>{this.employee=n,this.employeeForm.get("emails").clear(),this.employeeForm.get("phoneNumbers").clear(),this._setEmployeeDataOnForm(n),this._changeDetectorRef.markForCheck()})}_getCitiesByState(t){t!==this.stateSelected&&this._locationService.getCitiesByState(t).subscribe(n=>{this.cities=n,this._changeDetectorRef.markForCheck()})}_setEmployeeDataOnForm(t){this.employeeForm.patchValue(t),t.charge&&this.employeeForm.get("charge").setValue(t.charge._id),t.department&&this.employeeForm.get("department").setValue(t.department._id),this.employeeForm.get("merchantId").setValue(t.merchantId._id),this._getCitiesByState(t.state);const n=[];t.emails.length>0&&t.emails.forEach(l=>{n.push(this._formBuilder.group({email:[l.email,[a.kI.email,a.kI.maxLength(255)]],label:[l.label,[a.kI.minLength(3),a.kI.maxLength(255)]]}))}),n.forEach(l=>{this.employeeForm.get("emails").push(l)});const i=[];t.phoneNumbers.length>0&&t.phoneNumbers.forEach(l=>{i.push(this._formBuilder.group({stateCode:[l.stateCode,[a.kI.required]],phoneNumber:[l.phoneNumber,[a.kI.minLength(7),a.kI.maxLength(8),y.L.onlyNumbersPattern()]],label:[l.label,[a.kI.minLength(3),a.kI.maxLength(255)]]}))}),i.forEach(l=>{this.employeeForm.get("phoneNumbers").push(l)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.gz),e.Y36(e.sBO),e.Y36(u.uw),e.Y36(a.qu),e.Y36(k.R),e.Y36(se.E),e.Y36(w.b),e.Y36(me.a),e.Y36(g.F0),e.Y36(Dt.C),e.Y36(q.ux),e.Y36(f.yh))},o.\u0275cmp=e.Xpm({type:o,selectors:[["employee-detail"]],decls:264,vars:124,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-wrap","p-6","sm:flex-row","flex-0","sm:items-center","sm:justify-between","sm:pt-12","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/desktop",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],["routerLink","/modules/hrm/employees",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-3xl","font-extrabold","leading-tight","tracking-tight","sm:text-3xl"],[1,"flex","items-center","flex-shrink-0","mt-6","sm:mt-0","sm:ml-4"],["class","ml-4 text-white bg-primary-500 hover:bg-primary-700 hover:shadow-lg","mat-raised-button","",3,"disabled","ngClass","click",4,"ngIf"],[1,"flex-auto","p-4","sm:p-6"],[1,"flex","flex-col","flex-auto","min-w-0"],[3,"formGroup","autocomplete"],["multi","",1,"w-full","bg-transparent"],[3,"expanded"],[3,"collapsedHeight"],[1,"flex","items-center"],[1,"text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"grid","w-full","gap-y-3","gap-x-6","pb-8","pt-8","pr-4","pl-4","border-t-2","sm:grid-cols-4"],[1,"sm:col-span-2"],[1,"w-full"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],[4,"ngIf"],["matInput","","required","",3,"type","formControlName","minlength","maxlength"],["matInput","",3,"type","formControlName","minlength","maxlength"],["required","",3,"formControlName"],["value","Masculino"],["value","Femenino"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","required","",3,"type","formControlName","maxlength","minlength"],[1,"flex","flex-col","sm:col-span-2"],[1,"items-start","font-medium"],[1,"mt-1",3,"color","formControlName"],[1,"grid","w-full","gap-y-3","gap-x-6","pb-8","pt-8","pr-4","pl-4","border-t-2","sm:grid-cols-2","md:grid-cols-4"],[1,"space-y-4"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"inline-flex","items-center","px-4","py-2","mt-2","-ml-4","rounded","cursor-pointer","group",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2","font-medium","text-secondary","group-hover:underline"],[1,"pb-8","pt-8","pr-4","pl-4","border-t-2"],[1,"grid","w-full","gap-y-3","gap-x-6","sm:grid-cols-4"],["value","Cuba"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"w-full","fuse-mat-emphasized-affix"],["type","text","matInput","",3,"formControlName","max"],[1,"sm:col-span-4"],[1,"w-full","fuse-mat-textarea"],["matInput","","required","",3,"formControlName","minLength","maxlength"],["matPrefix","",3,"for"],["joinDatepicker",""],["matInput","",3,"matDatepicker","formControlName","placeholder"],[3,"formControlName"],["value","Determinado"],["value","Indeterminado"],["birthdayDatepicker",""],["matInput","",3,"type","formControlName"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","flex-col"],[1,"flex","items-center","mt-3"],[1,"relative","flex","items-center","justify-center","mr-6","overflow-hidden","border","rounded","w-26","h-26","flex-0"],[3,"alt","src",4,"ngIf"],["mat-mini-fab","","class","absolute p-5 transition-opacity ease-linear delay-200 rounded-full opacity-50 bg-primary-700 hover:opacity-100",3,"click",4,"ngIf"],["class","flex items-center justify-center w-full h-full text-xs font-semibold leading-none text-center uppercase",4,"ngIf"],[1,"flex","flex-col","flex-wrap","justify-end","px-6","pb-10","sm:flex-row","flex-0","sm:items-center","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex","items-center","flex-shrink-0","mt-6","text-right","sm:mt-0","sm:ml-4"],["class","ml-4 text-white  bg-primary-500 hover:bg-primary-700 hover:shadow-lg","mat-raised-button","",3,"disabled","ngClass","click",4,"ngIf"],["mat-raised-button","",1,"ml-4","text-white","bg-primary-500","hover:bg-primary-700","hover:shadow-lg",3,"disabled","ngClass","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"relative","flex","flex-col","sm:flex-row"],[1,"flex-auto"],["matInput","",3,"type","formControl","placeholder","minlength","maxlength"],["matPrefix","",1,"mr-1.5",3,"formControl"],[1,"sm:mx-0.5","font-medium","text-default"],[3,"value"],[1,"w-6","h-4","overflow-hidden"],[1,"ml-2"],[1,"ml-2","font-medium"],[1,"flex-auto","w-full","mt-6","sm:mt-0","sm:max-w-50","sm:ml-4"],["matInput","",3,"formControl","placeholder","minLength","maxLength"],[1,"flex","items-center","w-10","pl-2",3,"ngClass"],["mat-icon-button","","matTooltip","Eliminar tel\xe9fono",1,"w-8","h-8","min-h-8",3,"click"],[1,"flex","flex-col","sm:flex-row"],["matInput","",3,"formControl","spellcheck"],["mat-icon-button","","matTooltip","Eliminar",1,"w-8","h-8","min-h-8",3,"click"],[3,"alt","src"],["mat-mini-fab","",1,"absolute","p-5","transition-opacity","ease-linear","delay-200","rounded-full","opacity-50","bg-primary-700","hover:opacity-100",3,"click"],["svgIcon","heroicons_solid:trash",1,"text-white","icon-size-5"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase"],["id","image-file-input","type","file",1,"absolute","invisible","w-0","h-0","opacity-0","pointer-events-none",3,"multiple","accept","change"],["imageFileInput",""],["for","image-file-input","matRipple",""],[1,"inline-flex","items-center","px-4","py-2","mt-2","-ml-4","rounded","cursor-pointer","group"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Recursos Humanos"),e.qZA()(),e.TgZ(12,"div",4),e._UZ(13,"mat-icon",6),e.TgZ(14,"a",8),e._uU(15,"Empleados"),e.qZA()(),e.TgZ(16,"div",4),e._UZ(17,"mat-icon",6),e.TgZ(18,"a",9),e._uU(19,"Nuevo"),e.qZA()()(),e.TgZ(20,"div",10)(21,"a",11),e._UZ(22,"mat-icon",6),e.TgZ(23,"span",12),e._uU(24,"Regresar"),e.qZA()()()(),e.TgZ(25,"div",13)(26,"div",14),e._uU(27," Nuevo Empleado "),e.qZA()()(),e.TgZ(28,"div",15),e.YNc(29,Et,4,5,"button",16),e.YNc(30,wt,4,5,"button",16),e.qZA()(),e.TgZ(31,"div",17)(32,"div",18)(33,"form",19)(34,"mat-accordion",20)(35,"mat-expansion-panel",21)(36,"mat-expansion-panel-header",22)(37,"mat-panel-title",23)(38,"div",24),e._uU(39," Informaci\xf3n General "),e.qZA()()(),e.TgZ(40,"div",25)(41,"div",26)(42,"mat-form-field",27)(43,"mat-label"),e._uU(44,"Nombre"),e.qZA(),e._UZ(45,"input",28),e.YNc(46,Jt,2,0,"mat-error",29),e.YNc(47,Ht,2,0,"mat-error",29),e.YNc(48,Nt,2,0,"mat-error",29),e.qZA()(),e.TgZ(49,"div",26)(50,"mat-form-field",27)(51,"mat-label"),e._uU(52,"Primer Apellido"),e.qZA(),e._UZ(53,"input",30),e.YNc(54,Yt,2,0,"mat-error",29),e.YNc(55,St,2,0,"mat-error",29),e.YNc(56,Bt,2,0,"mat-error",29),e.qZA()(),e.TgZ(57,"div",26)(58,"mat-form-field",27)(59,"mat-label"),e._uU(60,"Segundo Apellido"),e.qZA(),e._UZ(61,"input",31),e.YNc(62,Rt,2,0,"mat-error",29),e.YNc(63,Lt,2,0,"mat-error",29),e.qZA()(),e.TgZ(64,"div",26)(65,"mat-form-field",27)(66,"mat-label"),e._uU(67,"G\xe9nero"),e.qZA(),e.TgZ(68,"mat-select",32)(69,"mat-option",33),e._uU(70,"Maculino"),e.qZA(),e.TgZ(71,"mat-option",34),e._uU(72,"Femenino"),e.qZA()(),e.YNc(73,Mt,2,0,"mat-error",29),e.qZA()(),e.TgZ(74,"div",26)(75,"mat-form-field",27)(76,"mat-label"),e._uU(77,"N\xfamero de identidad"),e.qZA(),e._UZ(78,"mat-icon",35)(79,"input",36),e.YNc(80,Ot,2,0,"mat-error",29),e.YNc(81,zt,2,0,"mat-error",29),e.YNc(82,jt,2,0,"mat-error",29),e.qZA()(),e.TgZ(83,"div",37)(84,"span",38),e._uU(85,"Estado"),e.qZA(),e.TgZ(86,"mat-slide-toggle",39),e._uU(87," Activo "),e.qZA()()()(),e.TgZ(88,"mat-expansion-panel")(89,"mat-expansion-panel-header",22)(90,"mat-panel-title",23)(91,"div",24),e._uU(92," Informaci\xf3n de contacto "),e.qZA()()(),e.TgZ(93,"div",40)(94,"div",26)(95,"div",41),e.YNc(96,eo,31,29,"ng-container",42),e.qZA(),e.TgZ(97,"div",43),e.NdJ("click",function(){return n.addPhoneNumberField()}),e._UZ(98,"mat-icon",44),e.TgZ(99,"span",45),e._uU(100,"Agregar tel\xe9fono"),e.qZA()()(),e.TgZ(101,"div",26)(102,"div",41),e.YNc(103,io,16,16,"ng-container",42),e.qZA(),e.TgZ(104,"div",43),e.NdJ("click",function(){return n.addEmailField()}),e._UZ(105,"mat-icon",44),e.TgZ(106,"span",45),e._uU(107,"Agregar correo electr\xf3nico"),e.qZA()()()()(),e.TgZ(108,"mat-expansion-panel")(109,"mat-expansion-panel-header",22)(110,"mat-panel-title",23)(111,"div",24),e._uU(112," Domicilio "),e.qZA()()(),e.TgZ(113,"div",46)(114,"div",47)(115,"div",26)(116,"mat-form-field",27)(117,"mat-label"),e._uU(118,"Pa\xeds"),e.qZA(),e.TgZ(119,"mat-select",32)(120,"mat-option",48),e._uU(121,"Cuba"),e.qZA()(),e._UZ(122,"mat-icon",49),e.YNc(123,ao,2,0,"mat-error",29),e.qZA()(),e.TgZ(124,"div",26)(125,"mat-form-field",27)(126,"mat-label"),e._uU(127,"Provincia"),e.qZA(),e.TgZ(128,"mat-select",32),e.YNc(129,lo,2,2,"mat-option",50),e.qZA(),e._UZ(130,"mat-icon",49),e.YNc(131,so,2,0,"mat-error",29),e.qZA()(),e.TgZ(132,"div",26)(133,"mat-form-field",27)(134,"mat-label"),e._uU(135,"Municipio"),e.qZA(),e.TgZ(136,"mat-select",32),e.YNc(137,mo,2,2,"mat-option",50),e.qZA(),e._UZ(138,"mat-icon",49),e.YNc(139,co,2,0,"mat-error",29),e.qZA()(),e.TgZ(140,"div",26)(141,"mat-form-field",51)(142,"mat-label"),e._uU(143,"C\xf3digo Postal"),e.qZA(),e._UZ(144,"input",52),e.YNc(145,po,2,0,"mat-error",29),e.YNc(146,go,2,0,"mat-error",29),e.qZA()(),e.TgZ(147,"div",53)(148,"mat-form-field",54)(149,"mat-label"),e._uU(150,"Direcci\xf3n"),e.qZA(),e._UZ(151,"mat-icon",35)(152,"textarea",55),e.YNc(153,uo,2,0,"mat-error",29),e.YNc(154,_o,2,0,"mat-error",29),e.qZA()()()()(),e.TgZ(155,"mat-expansion-panel")(156,"mat-expansion-panel-header",22)(157,"mat-panel-title",23)(158,"div",24),e._uU(159," Datos de incorporaci\xf3n "),e.qZA()()(),e.TgZ(160,"div",25)(161,"div",26)(162,"mat-form-field",27)(163,"mat-label"),e._uU(164,"Fecha de contrataci\xf3n"),e.qZA(),e._UZ(165,"mat-datepicker-toggle",56)(166,"mat-datepicker",null,57)(168,"input",58),e.YNc(169,ho,2,0,"mat-error",29),e.qZA()(),e.TgZ(170,"div",26)(171,"mat-form-field",27)(172,"mat-label"),e._uU(173,"Tipo de contrato"),e.qZA(),e.TgZ(174,"mat-select",59)(175,"mat-option",60),e._uU(176,"Determinado"),e.qZA(),e.TgZ(177,"mat-option",61),e._uU(178,"Indeterminado"),e.qZA()(),e.YNc(179,fo,2,0,"mat-error",29),e.qZA()(),e.TgZ(180,"div",26)(181,"mat-form-field",27)(182,"mat-label"),e._uU(183,"Fecha de cierre del contrato"),e.qZA(),e._UZ(184,"mat-datepicker-toggle",56)(185,"mat-datepicker",null,62)(187,"input",58),e.qZA()(),e.TgZ(188,"div",26)(189,"mat-form-field",27)(190,"mat-label"),e._uU(191,"Tiempo del contrato"),e.qZA(),e._UZ(192,"mat-icon",35)(193,"input",63),e.YNc(194,xo,2,0,"mat-error",29),e.qZA()()()(),e.TgZ(195,"mat-expansion-panel")(196,"mat-expansion-panel-header",22)(197,"mat-panel-title",23)(198,"div",24),e._uU(199," Departamento, cargo y escolaridad "),e.qZA()()(),e.TgZ(200,"div",46)(201,"div",47)(202,"div",26)(203,"mat-form-field",27)(204,"mat-label"),e._uU(205,"Departamento"),e.qZA(),e.TgZ(206,"mat-select",59),e.YNc(207,vo,2,2,"mat-option",64),e.ALo(208,"async"),e.qZA()()(),e.TgZ(209,"div",26)(210,"mat-form-field",27)(211,"mat-label"),e._uU(212,"Cargo"),e.qZA(),e.TgZ(213,"mat-select",59),e.YNc(214,yo,2,2,"mat-option",64),e.ALo(215,"async"),e.qZA(),e.YNc(216,Zo,2,0,"mat-error",29),e.qZA()(),e.TgZ(217,"div",26)(218,"mat-form-field",27)(219,"mat-label"),e._uU(220,"Escolaridad"),e.qZA(),e.TgZ(221,"mat-select",59),e.YNc(222,bo,2,2,"mat-option",64),e.ALo(223,"async"),e.qZA(),e.YNc(224,Co,2,0,"mat-error",29),e.qZA()()()()(),e.TgZ(225,"mat-expansion-panel")(226,"mat-expansion-panel-header",22)(227,"mat-panel-title",23)(228,"div",24),e._uU(229," Salario "),e.qZA()()(),e.TgZ(230,"div",25)(231,"div",26)(232,"mat-form-field",27)(233,"mat-label"),e._uU(234,"Frecuencia"),e.qZA(),e.TgZ(235,"mat-select",59),e.YNc(236,To,2,2,"mat-option",64),e.ALo(237,"async"),e.qZA(),e.YNc(238,Ao,2,0,"mat-error",29),e.qZA()(),e.TgZ(239,"div",26)(240,"mat-form-field",27)(241,"mat-label"),e._uU(242,"Modo de pago"),e.qZA(),e.TgZ(243,"mat-select",59),e.YNc(244,ko,2,2,"mat-option",64),e.ALo(245,"async"),e.qZA(),e.YNc(246,qo,2,0,"mat-error",29),e.qZA()()()(),e.TgZ(247,"mat-expansion-panel")(248,"mat-expansion-panel-header",22)(249,"mat-panel-title",23)(250,"div",24),e._uU(251," Imagen "),e.qZA()()(),e.TgZ(252,"div",25)(253,"div",65)(254,"div",66)(255,"div",67),e.YNc(256,Io,1,2,"img",68),e.YNc(257,Fo,2,0,"button",69),e.YNc(258,Uo,2,0,"div",70),e.qZA()(),e.YNc(259,Qo,8,3,"div",29),e.qZA()()()()()()(),e.TgZ(260,"div",71)(261,"div",72),e.YNc(262,Do,4,5,"button",73),e.YNc(263,Eo,4,5,"button",73),e.qZA()()()),2&t){const i=e.MAs(167),l=e.MAs(186);e.xp6(9),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:chevron-left"),e.xp6(7),e.Q6J("ngIf","new"===n.employeeId),e.xp6(1),e.Q6J("ngIf","new"!==n.employeeId),e.xp6(3),e.Q6J("formGroup",n.employeeForm)("autocomplete","off"),e.xp6(2),e.Q6J("expanded",!0),e.xp6(1),e.Q6J("collapsedHeight","56px"),e.xp6(9),e.Q6J("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del negocio"),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("name").hasError("required")),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("name").hasError("maxlength")||n.employeeForm.get("name").hasError("minlength")),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("name").hasError("pattern")),e.xp6(5),e.Q6J("type","text")("formControlName","lastname1")("minlength",3)("maxlength",255),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("lastname1").hasError("required")),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("lastname1").hasError("maxlength")||n.employeeForm.get("lastname2").hasError("minlength")),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("lastname1").hasError("pattern")),e.xp6(5),e.Q6J("type","text")("formControlName","lastname2")("minlength",3)("maxlength",255),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("lastname2").hasError("maxlength")||n.employeeForm.get("lastname2").hasError("minlength")),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("lastname2").hasError("pattern")),e.xp6(5),e.Q6J("formControlName","gender"),e.xp6(5),e.Q6J("ngIf",n.employeeForm.get("gender").hasError("required")),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:identification"),e.xp6(1),e.Q6J("type","text")("formControlName","idNumber")("maxlength",11)("minlength",11),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("idNumber").hasError("required")),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("idNumber").hasError("maxlength")||n.employeeForm.get("idNumber").hasError("minlength")),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("idNumber").hasError("pattern")),e.xp6(4),e.Q6J("color","primary")("formControlName","active"),e.xp6(3),e.Q6J("collapsedHeight","56px"),e.xp6(7),e.Q6J("ngForOf",n.employeeForm.get("phoneNumbers").controls)("ngForTrackBy",n.trackByFn),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:plus-circle"),e.xp6(5),e.Q6J("ngForOf",n.employeeForm.get("emails").controls)("ngForTrackBy",n.trackByFn),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:plus-circle"),e.xp6(4),e.Q6J("collapsedHeight","56px"),e.xp6(10),e.Q6J("formControlName","country"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:globe"),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("country").hasError("required")),e.xp6(5),e.Q6J("formControlName","state"),e.xp6(1),e.Q6J("ngForOf",n.states)("ngForTrackBy",n.trackByFn),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:map"),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("state").hasError("required")),e.xp6(5),e.Q6J("formControlName","city"),e.xp6(1),e.Q6J("ngForOf",n.cities)("ngForTrackBy",n.trackByFn),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:location-marker"),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("city").hasError("required")),e.xp6(5),e.Q6J("formControlName","postalCode")("max",99999),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("postalCode").hasError("onlyNumber")),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("postalCode").hasError("min")||n.employeeForm.get("postalCode").hasError("max")),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:home"),e.xp6(1),e.Q6J("formControlName","address")("minLength",3)("maxlength",255),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("address").hasError("required")),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("address").hasError("maxlength")||n.employeeForm.get("address").hasError("minlength")),e.xp6(2),e.Q6J("collapsedHeight","56px"),e.xp6(9),e.Q6J("for",i),e.xp6(3),e.Q6J("matDatepicker",i)("formControlName","dateOfJoining")("placeholder","Seleccione la fecha"),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("dateOfJoining").hasError("required")),e.xp6(5),e.Q6J("formControlName","typeOfContract"),e.xp6(5),e.Q6J("ngIf",n.employeeForm.get("typeOfContract").hasError("required")),e.xp6(5),e.Q6J("for",l),e.xp6(3),e.Q6J("matDatepicker",l)("formControlName","contractEndDate")("placeholder","Seleccione la fecha"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:clock"),e.xp6(1),e.Q6J("type","text")("formControlName","contractTime"),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("contractTime").hasError("pattern")),e.xp6(2),e.Q6J("collapsedHeight","56px"),e.xp6(10),e.Q6J("formControlName","department"),e.xp6(1),e.Q6J("ngForOf",e.lcZ(208,114,n.departments$)),e.xp6(6),e.Q6J("formControlName","charge"),e.xp6(1),e.Q6J("ngForOf",e.lcZ(215,116,n.charges$)),e.xp6(2),e.Q6J("ngIf",n.employeeForm.get("charge").hasError("required")),e.xp6(5),e.Q6J("formControlName","scholarship"),e.xp6(1),e.Q6J("ngForOf",e.lcZ(223,118,n.scholarships$)),e.xp6(2),e.Q6J("ngIf",n.employeeForm.get("scholarship").hasError("required")),e.xp6(2),e.Q6J("collapsedHeight","56px"),e.xp6(9),e.Q6J("formControlName","salaryFreq"),e.xp6(1),e.Q6J("ngForOf",e.lcZ(237,120,n.salaryFreqs$)),e.xp6(2),e.Q6J("ngIf",n.employeeForm.get("salaryFreq").hasError("required")),e.xp6(5),e.Q6J("formControlName","salaryMethod"),e.xp6(1),e.Q6J("ngForOf",e.lcZ(245,122,n.salaryMethods$)),e.xp6(2),e.Q6J("ngIf",n.employeeForm.get("salaryMethod").hasError("required")),e.xp6(2),e.Q6J("collapsedHeight","56px"),e.xp6(8),e.Q6J("ngIf",n.employeeForm.get("imageUrl").value),e.xp6(1),e.Q6J("ngIf",n.employeeForm.get("imageUrl").value),e.xp6(1),e.Q6J("ngIf",!n.employeeForm.get("imageUrl").value),e.xp6(1),e.Q6J("ngIf",!n.employeeForm.get("imageUrl").value),e.xp6(3),e.Q6J("ngIf","new"===n.employeeId),e.xp6(1),e.Q6J("ngIf","new"!==n.employeeId)}},dependencies:[g.yS,c.mk,c.sg,c.O5,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.wO,a.nD,a.oH,a.sg,a.u,I.PQ,ce.ey,b.lW,j.Mq,j.hl,j.nW,J.pp,J.ib,J.yz,J.yK,v.Hw,d.TO,d.KE,d.hX,d.qo,M.Nt,ce.wG,pe.gD,pe.$L,O.Rr,ae.gM,c.Ov,c.rS],encapsulation:2,changeDetection:0}),o})(),Jo=(()=>{class o{constructor(t){this._chargesService=t}resolve(t,n){return this._chargesService.getCharges(0,20,"name","asc","")}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(D.U))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),Ho=(()=>{class o{constructor(t){this._departmentsService=t}resolve(t,n){return this._departmentsService.getDepartments()}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(E.U))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var $=s(4128);let No=(()=>{class o{constructor(t){this._hrmEmployeesService=t}resolve(t,n){return this._hrmEmployeesService.getEmployees(0,20,"name","asc","")}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(w.b))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),Yo=(()=>{class o{constructor(t,n,i){this._hrmEmployeesService=t,this._chargeService=n,this._departmentService=i}resolve(t,n){const i=t.params.employeeId;return(0,$.D)("new"===i?[this._chargeService.getActiveCharges(),this._departmentService.getActiveDepartments()]:[this._hrmEmployeesService.getEmployeeById(i),this._chargeService.getActiveCharges(),this._departmentService.getActiveDepartments()])}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(w.b),e.LFG(D.U),e.LFG(E.U))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const So=[{path:"",component:_e},{path:"charges",component:Se,resolve:{charges:Jo}},{path:"departments",component:it,resolve:{departments:Ho}},{path:"employees",component:Qt,resolve:{employees:No}},{path:"employees/:employeeId",component:wo,resolve:{hrm:(()=>{class o{constructor(t,n){this._hrmService=t,this._locationService=n}resolve(t,n){return(0,$.D)([this._hrmService.getScholarship(),this._hrmService.getSalaryMethods(),this._hrmService.getSalaryFrequency()])}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(se.E),e.LFG(me.a))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),employee:Yo}}];let Bo=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[g.Bz.forChild(So),de.m]}),o})()}}]);