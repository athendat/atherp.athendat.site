"use strict";(self.webpackChunkatherp=self.webpackChunkatherp||[]).push([[944],{4944:(cn,se,l)=>{l.r(se),l.d(se,{HrmModule:()=>an});var d=l(5357),ve=l(2504),A=l(7579),g=l(2722),e=l(5e3),M=l(9602),N=l(393),C=l(5245),V=l(7238);let Ze=(()=>{class n{constructor(t,o,i){this._activatedRoute=t,this._changeDetectorRef=o,this._router=i,this.merchantId="",this._unsubscribeAll=new A.x}ngOnInit(){this._activatedRoute.params.pipe((0,g.R)(this._unsubscribeAll)).subscribe(({merchantId:t})=>{void 0!==t&&(this.merchantId=t,this._changeDetectorRef.markForCheck())})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.gz),e.Y36(e.sBO),e.Y36(d.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ath-hrm"]],decls:62,vars:6,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-wrap","p-6","sm:flex-row","flex-0","sm:items-center","sm:justify-between","sm:pt-12","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"ml-1","text-primary-500","hover:underline",3,"routerLink"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"flex-auto","p-6","sm:p-10"],[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","w-full"],[1,"grid","grid-flow-row","grid-cols-1","mt-8","sm:grid-cols-2","lg:grid-cols-4","gap-y-12","sm:gap-x-4"],["routerLink","/modules/hrm/departments",1,"flex","items-center","justify-between","w-full","p-6","cursor-pointer","max-w-80","filter-info","hover:shadow-md"],[1,"flex","flex-col"],[1,"text-2xl","font-semibold","leading-tight"],[1,"text-md","text-secondary"],["routerLink","/modules/hrm/charges",1,"flex","items-center","justify-between","w-full","p-6","cursor-pointer","max-w-80","filter-info","hover:shadow-md"],["routerLink","/modules/hrm/employees",1,"flex","items-center","justify-between","w-full","p-6","cursor-pointer","max-w-80","fl","filter-info","hover:shadow-md"],[1,"flex","items-center","justify-between","w-full","p-6","cursor-not-allowed","max-w-80","filter-info","hover:shadow-md",3,"matTooltip"],[1,"flex","items-center","justify-between","w-full","p-6","cursor-not-allowed","max-w-80","filter-info","hover:shadow-md"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Recursos Humanos"),e.qZA()()(),e.TgZ(12,"div",8)(13,"a",9),e._UZ(14,"mat-icon",6),e.TgZ(15,"span",10),e._uU(16,"Regresar"),e.qZA()()()(),e.TgZ(17,"div",11)(18,"div",12),e._uU(19," Recursos Humanos "),e.qZA()()()(),e.TgZ(20,"div",13)(21,"div",14)(22,"div",15)(23,"div",12),e._uU(24," M\xf3dulos "),e.qZA(),e.TgZ(25,"div",16)(26,"fuse-card",17)(27,"div",18)(28,"div",19),e._uU(29,"Departamentos"),e.qZA(),e.TgZ(30,"div",20),e._uU(31,"listado de departamentos o \xe1reas "),e.qZA()()(),e.TgZ(32,"fuse-card",21)(33,"div",18)(34,"div",19),e._uU(35,"Cargos"),e.qZA(),e.TgZ(36,"div",20),e._uU(37,"listado de cargos"),e.qZA()()(),e.TgZ(38,"fuse-card",22)(39,"div",18)(40,"div",19),e._uU(41,"Empleados"),e.qZA(),e.TgZ(42,"div",20),e._uU(43,"listado de empleados"),e.qZA()()(),e.TgZ(44,"fuse-card",23)(45,"div",18)(46,"div",19),e._uU(47,"Plantilla"),e.qZA(),e.TgZ(48,"div",20),e._uU(49,"estructura de la plantilla"),e.qZA()()(),e.TgZ(50,"fuse-card",24)(51,"div",18)(52,"div",19),e._uU(53,"Festivos"),e.qZA(),e.TgZ(54,"div",20),e._uU(55,"listado de d\xedas festivos"),e.qZA()()(),e.TgZ(56,"fuse-card",23)(57,"div",18)(58,"div",19),e._uU(59,"Aspirantes"),e.qZA(),e.TgZ(60,"div",20),e._uU(61,"listado de aspirantes"),e.qZA()()()()()()()()),2&t&&(e.xp6(6),e.MGl("routerLink","/home/",o.merchantId,""),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:chevron-left"),e.xp6(30),e.Q6J("matTooltip","Pr\xf3ximamente"),e.xp6(12),e.Q6J("matTooltip","Pr\xf3ximamente"))},dependencies:[d.rH,d.yS,M.y,N.PQ,C.Hw,V.gM],encapsulation:2,changeDetection:0}),n})();var $=l(6087),b=l(4847),k=l(9646),u=l(5620);const le=n=>n.hrmCharges,ye=(0,u.P1)(le,n=>n.charge),U=(0,u.P1)(le,n=>n.charges);var W=l(8288),s=l(3075),y=l(8966),ce=l(5119),X=l(4787),ee=l(1910),T=l(9784);class me{}var Q=l(4062),H=l(1683),q=l(520),te=l(2843),_=l(8505),v=l(5698),F=l(4004),Z=l(3900),E=l(4219),ne=l(5714),S=l(2340);const L=S.N.API_URL;let pe=(()=>{class n{constructor(t,o){this._httpClient=t,this.store=o}getChargesByMerchantOwner(t=0,o=20,i="name",a="asc",c="",p){const h=(new q.LE).append("page",t).append("size",o).append("sort",i).append("order",a).append("search",c);return this._httpClient.get(`${L}/charges/owner/${p}`,{params:h}).pipe((0,_.b)(({charges:x,pagination:I})=>{this.store.dispatch((0,ne.Jr)({pagination:I})),this.store.dispatch((0,E.dH)({charges:x}))}))}getChargeById(t){return this.store.select(U).pipe((0,v.q)(1),(0,F.U)(o=>{const i=o.find(a=>a._id===t)||null;return this.store.dispatch((0,E.LF)({charge:i})),i}),(0,Z.w)(o=>o?(0,k.of)(o):(0,te._)("No existe cargo con el id: "+t+"!")))}createCharge(t){return this.store.select(U).pipe((0,v.q)(1),(0,Z.w)(o=>this._httpClient.post(`${L}/charges`,t).pipe((0,_.b)(i=>{this.store.dispatch((0,E.dH)({charges:[i.charge,...o]}))}))))}updateCharge(t){return this.store.select(U).pipe((0,v.q)(1),(0,Z.w)(o=>this._httpClient.patch(`${L}/charges/${t._id}`,t).pipe((0,_.b)(i=>{const a=[...o],c=a.findIndex(p=>p._id===t._id);a[c]=i.charge,this.store.dispatch((0,E.dH)({charges:a}))}))))}deleteCharge(t){return this.store.select(U).pipe((0,v.q)(1),(0,Z.w)(o=>this._httpClient.delete(`${L}/charges/${t}`).pipe((0,_.b)(()=>{const i=[...o],a=i.findIndex(c=>c._id===t);i.splice(a,1),this.store.dispatch((0,E.dH)({charges:i}))}))))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(q.eN),e.LFG(u.yh))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var B=l(7261),m=l(9808),oe=l(508),w=l(7423),f=l(7322),j=l(7531),z=l(4107),D=l(2368);function be(n,r){1&n&&(e.TgZ(0,"h2",7),e._uU(1,"Agregar cargo"),e.qZA())}function Ce(n,r){1&n&&(e.TgZ(0,"h2",7),e._uU(1,"Editar cargo"),e.qZA())}function Te(n,r){1&n&&(e.TgZ(0,"h2",7),e._uU(1,"Detalles del cargo"),e.qZA())}function Ae(n,r){if(1&n&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"h6",13),e._uU(6,"Nombre"),e.qZA(),e.TgZ(7,"span",14),e._uU(8),e.qZA()(),e.TgZ(9,"div",15)(10,"h6",13),e._uU(11,"Descripci\xf3n"),e.qZA(),e.TgZ(12,"span",14),e._uU(13),e.qZA()()()()()()),2&n){const t=e.oxw();e.xp6(8),e.Oqu(t.data.charge.name||"Sin nombre"),e.xp6(5),e.Oqu(t.data.charge.description||"Sin descripci\xf3n")}}function ke(n,r){if(1&n&&(e.TgZ(0,"mat-option",31),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.name," ")}}function qe(n,r){if(1&n&&(e.TgZ(0,"div",27)(1,"mat-form-field",28)(2,"mat-label"),e._uU(3,"Negocio"),e.qZA(),e.TgZ(4,"mat-select",29),e.YNc(5,ke,2,2,"mat-option",30),e.qZA(),e.TgZ(6,"mat-hint"),e._uU(7,"Seleccione el negocio al cual pertenece el cargo"),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("formControlName","merchantId"),e.xp6(1),e.Q6J("ngForOf",t.merchants)("ngForTrackBy",t.trackByFn)}}function we(n,r){if(1&n&&(e.TgZ(0,"mat-option",31),e._uU(1),e.qZA()),2&n){const t=r.$implicit,o=e.oxw(3);e.Q6J("value",o.data.charge.merchantId._id),e.xp6(1),e.hij(" ",t.name," ")}}function Ie(n,r){if(1&n&&(e.TgZ(0,"div",27)(1,"mat-form-field",28)(2,"mat-label"),e._uU(3,"Negocio"),e.qZA(),e.TgZ(4,"mat-select",29),e.YNc(5,we,2,2,"mat-option",30),e.qZA(),e.TgZ(6,"mat-hint"),e._uU(7,"Seleccione el negocio al cual pertenece el cargo"),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("formControlName","merchantId"),e.xp6(1),e.Q6J("ngForOf",t.merchants)("ngForTrackBy",t.trackByFn)}}function Ue(n,r){if(1&n&&(e.TgZ(0,"div",16)(1,"div",9)(2,"form",17),e.YNc(3,qe,8,3,"div",18),e.YNc(4,Ie,8,3,"div",18),e.TgZ(5,"div",19)(6,"mat-form-field",20)(7,"mat-label"),e._uU(8,"Nombre"),e.qZA(),e._UZ(9,"input",21),e.qZA()(),e.TgZ(10,"div",22)(11,"mat-form-field",20)(12,"mat-label"),e._uU(13,"Requisito"),e.qZA(),e._UZ(14,"mat-icon",23)(15,"textarea",24),e.qZA()(),e.TgZ(16,"div",22)(17,"mat-form-field",20)(18,"mat-label"),e._uU(19,"Salario"),e.qZA(),e._UZ(20,"input",25),e.qZA()(),e.TgZ(21,"div",19)(22,"mat-slide-toggle",26),e._uU(23," Activo "),e.qZA()()()()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.chargeForm)("autocomplete","off"),e.xp6(1),e.Q6J("ngIf","add"===t.data.dialogMode),e.xp6(1),e.Q6J("ngIf","edit"===t.data.dialogMode),e.xp6(5),e.Q6J("type","text")("formControlName","name")("placeholder","Nombre del cargo"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:menu-alt-2"),e.xp6(1),e.Q6J("formControlName","requirement")("rows",3)("spellcheck",!1),e.xp6(5),e.Q6J("type","number")("formControlName","salary")("placeholder","Salario")("min",0),e.xp6(2),e.Q6J("value",!0)("color","primary")("formControlName","active")}}function Qe(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",34),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.updateCharge())}),e._uU(2," Actualizar "),e.qZA(),e.BQk()}2&n&&(e.xp6(1),e.Q6J("color","primary")("matDialogClose","confirmed"))}function Fe(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",34),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.createCharge())}),e._uU(2," Agregar "),e.qZA(),e.BQk()}2&n&&(e.xp6(1),e.Q6J("color","primary")("matDialogClose","confirmed"))}function De(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",32),e.ynx(2),e.TgZ(3,"button",33),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.deleteSelectedCharge())}),e._uU(4," Cancelar "),e.qZA(),e.BQk(),e.YNc(5,Qe,3,2,"ng-container",6),e.YNc(6,Fe,3,2,"ng-container",6),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("matDialogClose","cancelled"),e.xp6(2),e.Q6J("ngIf","edit"===t.data.dialogMode),e.xp6(1),e.Q6J("ngIf","add"===t.data.dialogMode)}}let Je=(()=>{class n{constructor(t,o,i,a,c,p,h,x){this.data=t,this._activatedRoute=o,this._changeDetectorRef=i,this._formBuilder=a,this._fuseConfirmationService=c,this._chargesService=p,this._snackBar=h,this.store=x,this.charge=new me,this.dialogMode="view",this.merchants=[],this.selectedMerchant=null,this.selectedMerchant$=null,this.user=null,this.user$=(0,k.of)(null),this._merchantOwnerId="",this._unsubscribeAll=new A.x}ngOnInit(){this.user$=this.store.select(X.rk),this.user$.subscribe(t=>{this.user=t,this._merchantOwnerId=t.merchantId?t.merchantId:t._id,this._changeDetectorRef.markForCheck()}),this.selectedMerchant$=this.store.select(ee.Qs),this.selectedMerchant$.pipe((0,g.R)(this._unsubscribeAll)).subscribe(t=>this.selectedMerchant=t),this.chargeForm=this._formBuilder.group({_id:[""],active:[!0,[s.kI.required]],merchantOwnerId:[this._merchantOwnerId,[s.kI.required]],userId:[this.user._id,[s.kI.required]],merchantId:[this.user.merchantId,[s.kI.required]],name:["",[s.kI.required]],slug:[""],requirement:[""],salary:[""]}),"edit"===this.data.dialogMode&&this._setChargeDataOnForm(this.data.charge),this._activatedRoute.params.subscribe(({id:t})=>this._getChargeById(t))}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createCharge(){let t=this.chargeForm.getRawValue();t=(0,ce.Z)(t,"_id"),t.slug=new Q.i(t.name).slug,this._fuseConfirmationService.open({title:"Crear Cargo",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(i=>{"confirmed"===i&&this._chargesService.createCharge(t).subscribe(a=>{this._snackBar.openFromComponent(T.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success"}}),this._changeDetectorRef.markForCheck()}),this._changeDetectorRef.markForCheck()})}updateCharge(){const t=this.chargeForm.getRawValue();t.slug=new Q.i(t.name).slug,this._fuseConfirmationService.open({title:"Actualizar Cargo",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(i=>{"confirmed"===i&&this._chargesService.updateCharge(t).subscribe(a=>{this._snackBar.openFromComponent(T.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success"}}),this._changeDetectorRef.markForCheck()}),this._changeDetectorRef.markForCheck()})}trackByFn(t,o){return o.id||t}_getChargeById(t){"new"!==t&&this.store.select(ye).pipe((0,g.R)(this._unsubscribeAll)).subscribe(o=>{this.charge=o,this._changeDetectorRef.markForCheck()})}_setChargeDataOnForm(t){this.chargeForm.patchValue(t),this.chargeForm.get("merchantId").setValue(t.merchantId._id),this.chargeForm.get("merchantOwnerId").setValue(t.merchantOwnerId._id)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y.WI),e.Y36(d.gz),e.Y36(e.sBO),e.Y36(s.qu),e.Y36(H.R),e.Y36(pe),e.Y36(B.ux),e.Y36(u.yh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["charges-detail"]],decls:12,vars:6,consts:[[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl text-gray-400",4,"ngIf"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],["class","flex-auto",4,"ngIf"],["class","w-full overflow-hidden",4,"ngIf"],[4,"ngIf"],[1,"text-2xl","text-gray-400"],[1,"flex-auto"],[1,"flex"],[1,"flex","flex-col","w-full","mt-5"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"w-full","py-10","my-10"],[1,"mb-2","font-medium"],[1,"border-sm"],[1,"w-full","pb-4","my-10"],[1,"w-full","overflow-hidden"],[1,"flex","flex-col","w-full","mt-1",3,"formGroup","autocomplete"],["class","pt-5 sm:col-span-2",4,"ngIf"],[1,"sm:col-span-2"],[1,"w-full","fuse-mat-no-subscript"],["matInput","","required","",3,"type","formControlName","placeholder"],[1,"pt-4","sm:col-span-2"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","matTextareaAutosize","",3,"formControlName","rows","spellcheck"],["matInput","","required","",3,"type","formControlName","placeholder","min"],["required","",1,"pt-4","mb-2",3,"value","color","formControlName"],[1,"pt-5","sm:col-span-2"],[1,"w-full"],["required","",3,"formControlName"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[3,"value"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose","click"],["mat-flat-button","",3,"color","matDialogClose","click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1),e.YNc(3,be,2,0,"h2",2),e.YNc(4,Ce,2,0,"h2",2),e.YNc(5,Te,2,0,"h2",2),e.qZA(),e.BQk(),e.TgZ(6,"div",3),e.ynx(7),e.YNc(8,Ae,14,2,"div",4),e.BQk(),e.ynx(9),e.YNc(10,Ue,24,18,"div",5),e.BQk(),e.qZA(),e.YNc(11,De,7,3,"ng-container",6),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngIf",null===o.data.charge._id&&"add"===o.data.dialogMode),e.xp6(1),e.Q6J("ngIf",o.data.charge._id&&"edit"===o.data.dialogMode),e.xp6(1),e.Q6J("ngIf",o.data.charge._id&&"view"===o.data.dialogMode),e.xp6(3),e.Q6J("ngIf","view"===o.data.dialogMode),e.xp6(2),e.Q6J("ngIf","edit"===o.data.dialogMode||"add"),e.xp6(1),e.Q6J("ngIf","view"!==o.data.dialogMode))},dependencies:[m.sg,m.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,oe.ey,w.lW,y.ZT,C.Hw,f.KE,f.bx,f.hX,f.qo,j.Nt,z.gD,D.SA,D.Rr],encapsulation:2,changeDetection:0}),n})();function Ne(n,r){1&n&&(e.ynx(0),e._UZ(1,"mat-icon",42),e.BQk()),2&n&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:check"))}function He(n,r){1&n&&(e.ynx(0),e._UZ(1,"mat-icon",43),e.BQk()),2&n&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:x"))}const Ee=function(){return["CUP "]};function Be(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",34)(2,"div",35),e._uU(3),e.qZA(),e.TgZ(4,"div",35),e._uU(5),e.qZA(),e.TgZ(6,"div",36),e._uU(7),e.qZA(),e.TgZ(8,"div",37),e._uU(9),e.ALo(10,"currency"),e.qZA(),e.TgZ(11,"div",38),e.YNc(12,Ne,2,1,"ng-container",31),e.YNc(13,He,2,1,"ng-container",31),e.qZA(),e.TgZ(14,"div",39)(15,"button",40),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.editCharge(a))}),e._UZ(16,"mat-icon",41),e.qZA(),e.TgZ(17,"button",40),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.deleteCharge(a._id))}),e._UZ(18,"mat-icon",41),e.qZA()()(),e.BQk()}if(2&n){const t=r.$implicit;e.xp6(3),e.hij(" ",t.merchantId.name," "),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.requirement," "),e.xp6(2),e.hij(" ",e.xi3(10,8,t.salary,e.DdM(11,Ee))," "),e.xp6(3),e.Q6J("ngIf",t.active),e.xp6(1),e.Q6J("ngIf",!t.active),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:pencil"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function Ye(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Be,19,12,"ng-container",33),e.BQk()),2&n){const t=r.ngIf,o=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",o.trackByFn)}}const Oe=function(n){return{"pointer-events-none":n}};function Re(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",24)(2,"div",25)(3,"div",26),e._uU(4," Negocio "),e.qZA(),e.TgZ(5,"div",26),e._uU(6," Nombre "),e.qZA(),e.TgZ(7,"div",27),e._uU(8," Requisitos "),e.qZA(),e.TgZ(9,"div",28),e._uU(10," Salario "),e.qZA(),e.TgZ(11,"div",29),e._uU(12," Activo "),e.qZA(),e.TgZ(13,"div",30),e._uU(14," Acciones "),e.qZA()(),e.YNc(15,Ye,2,2,"ng-container",31),e.ALo(16,"async"),e._UZ(17,"mat-paginator",32),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("mat-sort-header","business"),e.xp6(2),e.Q6J("mat-sort-header","name"),e.xp6(2),e.Q6J("mat-sort-header","requirement"),e.xp6(2),e.Q6J("mat-sort-header","salary"),e.xp6(2),e.Q6J("mat-sort-header","active"),e.xp6(4),e.Q6J("ngIf",e.lcZ(16,12,t.charges$)),e.xp6(2),e.Q6J("ngClass",e.VKq(14,Oe,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",t.qtyForView)("showFirstLastButtons",!0)}}function Me(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Re,18,16,"ng-container",22),e.BQk()),2&n){const t=e.oxw(),o=e.MAs(36);e.xp6(1),e.Q6J("ngIf",t.charges$)("ngIfElse",o)}}function $e(n,r){1&n&&(e.TgZ(0,"div",44),e._uU(1,"No ha creado ning\xfan cargo a\xfan!"),e.qZA())}let Se=(()=>{class n{constructor(t,o,i,a,c,p,h){this._activatedRoute=t,this._changeDetectorRef=o,this._chargeService=i,this._dialog=a,this._fuseConfirmationService=c,this._snackBar=p,this.store=h,this.merchantId="",this.charges$=(0,k.of)([]),this.charge=new me,this.isLoading=!1,this.qtyForView=[5,10,25,100],this._unsubscribeAll=new A.x}ngOnInit(){this._activatedRoute.params.pipe((0,g.R)(this._unsubscribeAll)).subscribe(({merchantId:t})=>{void 0!==t&&(this.merchantId=t,this._changeDetectorRef.markForCheck())}),this.store.pipe((0,g.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.charges$=this.store.select(U)}ngAfterViewInit(){}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createCharge(){this._openDialog(this.charge,"add")}editCharge(t){this._openDialog(t,"edit")}deleteCharge(t){this._fuseConfirmationService.open({title:"Eliminar Cargo",message:"\xbfEsta seguro que desea Eliminar el cargo? Perder\xe1 el acceso a todos los datos asociados al mismo.",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(i=>{"confirmed"===i&&this._chargeService.deleteCharge(t).subscribe(a=>{this._snackBar.openFromComponent(T.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success"}}),this._changeDetectorRef.markForCheck()}),this._changeDetectorRef.markForCheck()})}trackByFn(t,o){return o.id||t}_openDialog(t,o){this._dialog.open(Je,{width:"600px",data:{charge:t,dialogMode:o},panelClass:"ath-dialog-panel"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.gz),e.Y36(e.sBO),e.Y36(pe),e.Y36(y.uw),e.Y36(H.R),e.Y36(B.ux),e.Y36(u.yh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["hrm-charges"]],viewQuery:function(t,o){if(1&t&&(e.Gf($.NW,5),e.Gf(b.YE,5)),2&t){let i;e.iGM(i=e.CRH())&&(o._paginator=i.first),e.iGM(i=e.CRH())&&(o._sort=i.first)}},decls:37,vars:9,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-wrap","p-6","sm:flex-row","flex-0","sm:items-center","sm:justify-between","sm:pt-12","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/desktop",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"flex","items-center","flex-shrink-0","mt-6","sm:mt-0","sm:ml-4"],["mat-raised-button","",1,"ml-4","text-white","rounded-md","bg-primary-500","hover:bg-primary-700","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"flex-auto","p-6","sm:p-10"],[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","w-full","filter-post"],[1,"overflow-y-auto","max-h-120"],[4,"ngIf","ngIfElse"],["noCharges",""],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","charges-table","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[3,"mat-sort-header"],[1,"hidden","lg:block",3,"mat-sort-header"],[1,"hidden","md:block",3,"mat-sort-header"],[1,"hidden","text-center","sm:block",3,"mat-sort-header"],[1,"text-center"],[4,"ngIf"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","charges-table","md:px-8"],[1,"truncate"],[1,"hidden","truncate","lg:block"],[1,"hidden","md:block"],[1,"hidden","text-center","sm:block"],[1,"flex","flex-col","justify-center","gap-1","md:flex-row"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"text-green-400","icon-size-5",3,"svgIcon"],[1,"text-red-400","icon-size-5",3,"svgIcon"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Recursos Humanos"),e.qZA()(),e.TgZ(12,"div",4),e._UZ(13,"mat-icon",6),e.TgZ(14,"a",8),e._uU(15,"Cargos"),e.qZA()()(),e.TgZ(16,"div",9)(17,"a",10),e._UZ(18,"mat-icon",6),e.TgZ(19,"span",11),e._uU(20,"Regresar"),e.qZA()()()(),e.TgZ(21,"div",12)(22,"div",13),e._uU(23," Listado de Cargos "),e.qZA()()(),e.TgZ(24,"div",14)(25,"button",15),e.NdJ("click",function(){return o.createCharge()}),e._UZ(26,"mat-icon",16),e.TgZ(27,"span",17),e._uU(28,"Nuevo Cargo"),e.qZA()()()(),e.TgZ(29,"div",18)(30,"div",19)(31,"fuse-card",20)(32,"div",21),e.YNc(33,Me,2,2,"ng-container",22),e.ALo(34,"async"),e.YNc(35,$e,2,0,"ng-template",null,23,e.W1O),e.qZA()()()()()),2&t){const i=e.MAs(36);e.xp6(9),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:chevron-left"),e.xp6(8),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(7),e.Q6J("ngIf",e.lcZ(34,7,o.charges$))("ngIfElse",i)}},dependencies:[d.yS,m.mk,m.sg,m.O5,M.y,N.PQ,w.lW,C.Hw,$.NW,b.YE,b.nU,m.Ov,m.H9],encapsulation:2,data:{animation:W.L},changeDetection:0}),n})();class ie{}const de=n=>n.hrmDepartments,Le=(0,u.P1)(de,n=>n.department),J=(0,u.P1)(de,n=>n.departments);var Y=l(679);const G=S.N.API_URL;let ge=(()=>{class n{constructor(t,o){this._httpClient=t,this.store=o}getDepartmentsByMerchantOwner(t,o=0,i=20,a="name",c="asc",p=""){const h=(new q.LE).append("page",o).append("size",i).append("sort",a).append("order",c).append("search",p);return this._httpClient.get(`${G}/departments/owner/${t}`,{params:h}).pipe((0,_.b)(({departments:x,pagination:I})=>{this.store.dispatch((0,ne.Jr)({pagination:I})),this.store.dispatch((0,Y.xt)({departments:x}))}))}getDepartmentById(t){return this.store.select(J).pipe((0,v.q)(1),(0,F.U)(o=>{const i=o.find(a=>a._id===t)||null;return this.store.dispatch((0,Y.fH)({department:i})),i}),(0,Z.w)(o=>o?(0,k.of)(o):(0,te._)("Departamento no encontrado para el Id: "+t+"!")))}createDepartment(t){return this.store.select(J).pipe((0,v.q)(1),(0,Z.w)(o=>this._httpClient.post(`${G}/departments`,t).pipe((0,_.b)(i=>{this.store.dispatch((0,Y.xt)({departments:[i.department,...o]}))}))))}updateDepartment(t){return this.store.select(J).pipe((0,v.q)(1),(0,Z.w)(o=>this._httpClient.patch(`${G}/departments/${t._id}`,t).pipe((0,_.b)(i=>{const a=[...o],c=a.findIndex(p=>p._id===t._id);a[c]=i.department,this.store.dispatch((0,Y.xt)({departments:a}))}))))}deleteDepartment(t){return this.store.select(J).pipe((0,v.q)(1),(0,Z.w)(o=>this._httpClient.delete(`${G}/departments/${t}`).pipe((0,_.b)(()=>{const i=[...o],a=i.findIndex(c=>c._id===t);i.splice(a,1),this.store.dispatch((0,Y.xt)({departments:i}))}))))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(q.eN),e.LFG(u.yh))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function je(n,r){1&n&&(e.TgZ(0,"h2",7),e._uU(1,"Agregar departamento"),e.qZA())}function ze(n,r){1&n&&(e.TgZ(0,"h2",7),e._uU(1,"Editar departamento"),e.qZA())}function Ge(n,r){1&n&&(e.TgZ(0,"h2",7),e._uU(1,"Detalles del departamento"),e.qZA())}function Pe(n,r){if(1&n&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"h6",13),e._uU(6,"Nombre"),e.qZA(),e.TgZ(7,"span",14),e._uU(8),e.qZA()(),e.TgZ(9,"div",15)(10,"h6",13),e._uU(11,"Descripci\xf3n"),e.qZA(),e.TgZ(12,"span",14),e._uU(13),e.qZA()()()()()()),2&n){const t=e.oxw();e.xp6(8),e.Oqu(t.data.department.name||"Sin nombre"),e.xp6(5),e.Oqu(t.data.department.description||"Sin descripci\xf3n")}}function Ke(n,r){if(1&n&&(e.TgZ(0,"mat-option",30),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.name," ")}}function Ve(n,r){if(1&n&&(e.TgZ(0,"div",26)(1,"mat-form-field",27)(2,"mat-label"),e._uU(3,"Negocio"),e.qZA(),e.TgZ(4,"mat-select",28),e.YNc(5,Ke,2,2,"mat-option",29),e.qZA(),e.TgZ(6,"mat-hint"),e._uU(7,"Seleccione el negocio al cual pertenece el departamento"),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("formControlName","merchantId"),e.xp6(1),e.Q6J("ngForOf",t.merchants)("ngForTrackBy",t.trackByFn)}}function We(n,r){if(1&n&&(e.TgZ(0,"mat-option",30),e._uU(1),e.qZA()),2&n){const t=r.$implicit,o=e.oxw(3);e.Q6J("value",o.data.department.merchantId._id),e.xp6(1),e.hij(" ",t.name," ")}}function Xe(n,r){if(1&n&&(e.TgZ(0,"div",26)(1,"mat-form-field",27)(2,"mat-label"),e._uU(3,"Negocio"),e.qZA(),e.TgZ(4,"mat-select",28),e.YNc(5,We,2,2,"mat-option",29),e.qZA(),e.TgZ(6,"mat-hint"),e._uU(7,"Seleccione el negocio al cual pertenece el departamento"),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("formControlName","merchantId"),e.xp6(1),e.Q6J("ngForOf",t.merchants)("ngForTrackBy",t.trackByFn)}}function et(n,r){if(1&n&&(e.TgZ(0,"div",16)(1,"div",9)(2,"form",17),e.YNc(3,Ve,8,3,"div",18),e.YNc(4,Xe,8,3,"div",18),e.TgZ(5,"div",19)(6,"mat-form-field",20)(7,"mat-label"),e._uU(8,"Nombre"),e.qZA(),e._UZ(9,"input",21),e.qZA()(),e.TgZ(10,"div",22)(11,"mat-form-field",20)(12,"mat-label"),e._uU(13,"Descripci\xf3n del Departamento"),e.qZA(),e._UZ(14,"mat-icon",23)(15,"textarea",24),e.qZA()(),e.TgZ(16,"div",19)(17,"mat-slide-toggle",25),e._uU(18," Activo "),e.qZA()()()()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.departmentForm)("autocomplete","off"),e.xp6(1),e.Q6J("ngIf","add"===t.data.dialogMode),e.xp6(1),e.Q6J("ngIf","edit"===t.data.dialogMode),e.xp6(5),e.Q6J("type","text")("formControlName","name")("placeholder","Nombre del departamento"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:menu-alt-2"),e.xp6(1),e.Q6J("formControlName","description")("rows",3)("spellcheck",!1),e.xp6(2),e.Q6J("value",!0)("color","primary")("formControlName","active")}}function tt(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",33),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.updateDepartment())}),e._uU(2," Guardar "),e.qZA(),e.BQk()}2&n&&(e.xp6(1),e.Q6J("color","primary")("matDialogClose","confirmed"))}function nt(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",33),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.createDepartment())}),e._uU(2," Agregar "),e.qZA(),e.BQk()}2&n&&(e.xp6(1),e.Q6J("color","primary")("matDialogClose","confirmed"))}function ot(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",31),e.ynx(2),e.TgZ(3,"button",32),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.deleteSelectedDepartment())}),e._uU(4," Cancelar "),e.qZA(),e.BQk(),e.YNc(5,tt,3,2,"ng-container",6),e.YNc(6,nt,3,2,"ng-container",6),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("matDialogClose","cancelled"),e.xp6(2),e.Q6J("ngIf","edit"===t.data.dialogMode),e.xp6(1),e.Q6J("ngIf","add"===t.data.dialogMode)}}let ue=(()=>{class n{constructor(t,o,i,a,c,p,h,x){this.data=t,this._activatedRoute=o,this._changeDetectorRef=i,this._formBuilder=a,this._fuseConfirmationService=c,this._hrmDepartmentsService=p,this._snackBar=h,this.store=x,this.merchant=[],this.department=new ie,this.dialogMode="view",this.user$=(0,k.of)(null),this.selectedMerchant=null,this.selectedMerchant$=null,this._merchantOwnerId="",this._unsubscribeAll=new A.x}ngOnInit(){this.user$=this.store.select(X.rk),this.user$.subscribe(t=>{this.user=t,this._merchantOwnerId=t.merchantId?t.merchantId:t._id,this._changeDetectorRef.markForCheck()}),this.selectedMerchant$=this.store.select(ee.Qs),this.selectedMerchant$.pipe((0,g.R)(this._unsubscribeAll)).subscribe(t=>this.selectedMerchant=t),this.departmentForm=this._formBuilder.group({_id:[""],active:[null],merchantOwnerId:[this._merchantOwnerId,[s.kI.required]],userId:[this.user._id,[s.kI.required]],businessId:["",[s.kI.required]],code:[{value:"",disabled:!0}],name:["",[s.kI.required]],slug:[""],description:[""]}),"edit"===this.data.dialogMode&&this._setDepartmentDataOnForm(this.data.department),this._activatedRoute.params.subscribe(({id:t})=>this.getDepartmentById(t))}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createDepartment(){let t=this.departmentForm.getRawValue();t=(0,ce.Z)(t,"_id"),t.slug=new Q.i(t.name).slug,this._fuseConfirmationService.open({title:"Crear Departamento",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(i=>{"confirmed"===i&&this._hrmDepartmentsService.createDepartment(t).subscribe(a=>{this._snackBar.openFromComponent(T.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success"}}),this._changeDetectorRef.markForCheck()}),this._changeDetectorRef.markForCheck()})}updateDepartment(){const t=this.departmentForm.getRawValue();t.slug=new Q.i(t.name).slug,this._fuseConfirmationService.open({title:"Actualizar Departamento",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(i=>{"confirmed"===i&&this._hrmDepartmentsService.updateDepartment(t).subscribe(a=>{this._snackBar.openFromComponent(T.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success"}}),this._changeDetectorRef.markForCheck()}),this._changeDetectorRef.markForCheck()})}trackByFn(t,o){return o.id||t}getDepartmentById(t){"new"!==t&&this.store.select(Le).pipe((0,g.R)(this._unsubscribeAll)).subscribe(o=>{this.department=o,this._changeDetectorRef.markForCheck()})}_setDepartmentDataOnForm(t){this.departmentForm.patchValue(t),this.departmentForm.get("merchantId").setValue(t.merchantId._id),this.departmentForm.get("merchantOwnerId").setValue(t.merchantOwnerId._id)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y.WI),e.Y36(d.gz),e.Y36(e.sBO),e.Y36(s.qu),e.Y36(H.R),e.Y36(ge),e.Y36(B.ux),e.Y36(u.yh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["department-detail"]],decls:12,vars:6,consts:[[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl text-gray-400",4,"ngIf"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],["class","flex-auto",4,"ngIf"],["class","w-full overflow-hidden",4,"ngIf"],[4,"ngIf"],[1,"text-2xl","text-gray-400"],[1,"flex-auto"],[1,"flex"],[1,"flex","flex-col","w-full","mt-5"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"w-full","py-10","my-10"],[1,"mb-2","font-medium"],[1,"border-sm"],[1,"w-full","pb-4","my-10"],[1,"w-full","overflow-hidden"],[1,"flex","flex-col","w-full","mt-1",3,"formGroup","autocomplete"],["class","pt-5 sm:col-span-2",4,"ngIf"],[1,"sm:col-span-2"],[1,"w-full","fuse-mat-no-subscript"],["matInput","","required","",3,"type","formControlName","placeholder"],[1,"pt-4","sm:col-span-2"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","matTextareaAutosize","",3,"formControlName","rows","spellcheck"],["required","",1,"pt-4","mb-2",3,"value","color","formControlName"],[1,"pt-5","sm:col-span-2"],[1,"w-full"],["required","",3,"formControlName"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[3,"value"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose","click"],["mat-flat-button","",3,"color","matDialogClose","click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1),e.YNc(3,je,2,0,"h2",2),e.YNc(4,ze,2,0,"h2",2),e.YNc(5,Ge,2,0,"h2",2),e.qZA(),e.BQk(),e.TgZ(6,"div",3),e.ynx(7),e.YNc(8,Pe,14,2,"div",4),e.BQk(),e.ynx(9),e.YNc(10,et,19,14,"div",5),e.BQk(),e.qZA(),e.YNc(11,ot,7,3,"ng-container",6),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngIf",null===o.data.department._id&&"add"===o.data.dialogMode),e.xp6(1),e.Q6J("ngIf",o.data.department._id&&"edit"===o.data.dialogMode),e.xp6(1),e.Q6J("ngIf",o.data.department._id&&"view"===o.data.dialogMode),e.xp6(3),e.Q6J("ngIf","view"===o.data.dialogMode),e.xp6(2),e.Q6J("ngIf","edit"===o.data.dialogMode||"add"),e.xp6(1),e.Q6J("ngIf","view"!==o.data.dialogMode))},dependencies:[m.sg,m.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,oe.ey,w.lW,y.ZT,C.Hw,f.KE,f.bx,f.hX,f.qo,j.Nt,z.gD,D.SA,D.Rr],encapsulation:2,changeDetection:0}),n})();function it(n,r){1&n&&(e.ynx(0),e._UZ(1,"mat-icon",40),e.BQk()),2&n&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:check"))}function rt(n,r){1&n&&(e.ynx(0),e._UZ(1,"mat-icon",41),e.BQk()),2&n&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:x"))}function at(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",32)(2,"div",33),e._uU(3),e.qZA(),e.TgZ(4,"div",33),e._uU(5),e.qZA(),e.TgZ(6,"div",34),e._uU(7),e.qZA(),e.TgZ(8,"div",35),e.YNc(9,it,2,1,"ng-container",22),e.YNc(10,rt,2,1,"ng-container",22),e.qZA(),e.TgZ(11,"div",36)(12,"button",37),e._UZ(13,"mat-icon",38),e.qZA(),e.TgZ(14,"button",39),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.editDepartment(a))}),e._UZ(15,"mat-icon",38),e.qZA(),e.TgZ(16,"button",37),e._UZ(17,"mat-icon",38),e.qZA()()(),e.BQk()}if(2&n){const t=r.$implicit;e.xp6(3),e.hij(" ",t.merchantId.name," "),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.description," "),e.xp6(2),e.Q6J("ngIf",t.active),e.xp6(1),e.Q6J("ngIf",!t.active),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:eye"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:pencil"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function st(n,r){if(1&n&&(e.ynx(0),e.YNc(1,at,18,8,"ng-container",31),e.BQk()),2&n){const t=r.ngIf,o=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",o.trackByFn)}}function lt(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",25)(2,"div",26)(3,"div",27),e._uU(4," Negocio "),e.qZA(),e.TgZ(5,"div",27),e._uU(6," Nombre "),e.qZA(),e.TgZ(7,"div",28),e._uU(8," Descripci\xf3n "),e.qZA(),e.TgZ(9,"div",29),e._uU(10," Activo "),e.qZA(),e.TgZ(11,"div",30),e._uU(12," Acciones "),e.qZA()(),e.YNc(13,st,2,2,"ng-container",22),e.ALo(14,"async"),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("mat-sort-header","business"),e.xp6(2),e.Q6J("mat-sort-header","name"),e.xp6(4),e.Q6J("mat-sort-header","active"),e.xp6(4),e.Q6J("ngIf",e.lcZ(14,4,t.departments$))}}function ct(n,r){if(1&n&&(e.ynx(0),e.YNc(1,lt,15,6,"ng-container",24),e.BQk()),2&n){const t=e.oxw(),o=e.MAs(36);e.xp6(1),e.Q6J("ngIf",t.departments$)("ngIfElse",o)}}function mt(n,r){1&n&&(e.TgZ(0,"div",42),e._uU(1,"No ha creado ning\xfan departamento a\xfan!"),e.qZA())}let pt=(()=>{class n{constructor(t,o,i,a,c,p){this._activatedRoute=t,this._changeDetectorRef=o,this._hrmDepartmentsService=i,this._router=a,this.store=c,this.dialog=p,this.merchantId="",this.department=new ie,this.flashMessage=null,this.isLoading=!1,this.searchInputControl=new s.NI,this.selectedDepartment=null,this._unsubscribeAll=new A.x}ngOnInit(){this._activatedRoute.params.pipe((0,g.R)(this._unsubscribeAll)).subscribe(({merchantId:t})=>{void 0!==t&&(this.merchantId=t,this._changeDetectorRef.markForCheck())}),this.departments$=this.store.select(J)}ngAfterViewInit(){}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}closeDetails(){this.selectedDepartment=null}createDepartment(){this._openDialog(this.department,"add")}editDepartment(t){this._openDialog(t,"edit")}showFlashMessage(t){this.flashMessage=t,this._changeDetectorRef.markForCheck(),setTimeout(()=>{this.flashMessage=null,this._changeDetectorRef.markForCheck()},3e3)}trackByFn(t,o){return o.id||t}_openDialog(t,o){this.dialog.open(ue,{width:"600px",data:{department:t,dialogMode:o},panelClass:"ath-dialog-panel"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.gz),e.Y36(e.sBO),e.Y36(ge),e.Y36(d.F0),e.Y36(u.yh),e.Y36(y.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["hrm-departments"]],viewQuery:function(t,o){if(1&t&&(e.Gf($.NW,5),e.Gf(b.YE,5)),2&t){let i;e.iGM(i=e.CRH())&&(o._paginator=i.first),e.iGM(i=e.CRH())&&(o._sort=i.first)}},decls:37,vars:8,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-wrap","p-6","sm:flex-row","flex-0","sm:items-center","sm:justify-between","sm:pt-12","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/desktop",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"flex","items-center","flex-shrink-0","mt-6","sm:mt-0","sm:ml-4"],["mat-raised-button","",1,"ml-4","text-white","rounded-md","bg-primary-500","hover:bg-primary-700","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"flex-auto","p-6","sm:p-10"],[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","w-full","filter-post"],[1,"overflow-y-auto","max-h-120"],[4,"ngIf"],["noDepartments",""],[4,"ngIf","ngIfElse"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","departments-table","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[3,"mat-sort-header"],[1,"hidden","lg:block"],[1,"hidden","text-center","md:block",3,"mat-sort-header"],[1,"text-center"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","departments-table","md:px-8"],[1,"truncate"],[1,"hidden","truncate","lg:block"],[1,"hidden","text-center","md:block"],[1,"flex","flex-col","justify-center","gap-2","md:flex-row"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7"],[1,"icon-size-5",3,"svgIcon"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"text-green-400","icon-size-5",3,"svgIcon"],[1,"text-red-400","icon-size-5",3,"svgIcon"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Recursos Humanos"),e.qZA()(),e.TgZ(12,"div",4),e._UZ(13,"mat-icon",6),e.TgZ(14,"a",8),e._uU(15,"Departamentos"),e.qZA()()(),e.TgZ(16,"div",9)(17,"a",10),e._UZ(18,"mat-icon",6),e.TgZ(19,"span",11),e._uU(20,"Regresar"),e.qZA()()()(),e.TgZ(21,"div",12)(22,"div",13),e._uU(23," Departamentos "),e.qZA()()(),e.TgZ(24,"div",14)(25,"button",15),e.NdJ("click",function(){return o.createDepartment()}),e._UZ(26,"mat-icon",16),e.TgZ(27,"span",17),e._uU(28,"Nuevo Departamento"),e.qZA()()()(),e.TgZ(29,"div",18)(30,"div",19)(31,"fuse-card",20)(32,"div",21),e.YNc(33,ct,2,2,"ng-container",22),e.ALo(34,"async"),e.YNc(35,mt,2,0,"ng-template",null,23,e.W1O),e.qZA()()()()()),2&t&&(e.xp6(9),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:chevron-left"),e.xp6(8),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(7),e.Q6J("ngIf",e.lcZ(34,6,o.departments$)))},dependencies:[d.yS,m.sg,m.O5,M.y,N.PQ,w.lW,C.Hw,b.YE,b.nU,m.Ov],encapsulation:2,data:{animation:W.L},changeDetection:0}),n})();const _e=n=>n.hrmEmployees,O=((0,u.P1)(_e,n=>n.employee),(0,u.P1)(_e,n=>n.employees));var he=l(5439);class dt{constructor(){this.birthday=he(this.idNumber.substring(0,6),"YYMMDD"),this.age=he().diff(this.birthday,"years")}}function gt(n,r){if(1&n&&e._UZ(0,"img",33),2&n){const t=e.oxw();e.Q6J("src",t.employee.imageUrl,e.LSH)}}function ut(n,r){if(1&n&&(e.TgZ(0,"div",34),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.employee.name.charAt(0)," ")}}function _t(n,r){1&n&&(e.ynx(0),e._UZ(1,"mat-icon",35),e.BQk()),2&n&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:check"))}function ht(n,r){1&n&&(e.ynx(0),e._UZ(1,"mat-icon",36),e.BQk()),2&n&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:x"))}function ft(n,r){if(1&n&&(e.TgZ(0,"div",40)(1,"span",41),e._uU(2,"\u2022"),e.qZA(),e.TgZ(3,"span",42),e._uU(4),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(4),e.Oqu(t.label)}}function xt(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",37)(2,"a",38),e._uU(3),e.qZA(),e.YNc(4,ft,5,1,"div",39),e.qZA(),e.BQk()),2&n){const t=r.$implicit;e.xp6(2),e.Q6J("href","mailto:"+t.email,e.LSH),e.xp6(1),e.hij(" ",t.email," "),e.xp6(1),e.Q6J("ngIf",t.label)}}function vt(n,r){if(1&n&&(e.TgZ(0,"div",40)(1,"span",41),e._uU(2,"\u2022"),e.qZA(),e.TgZ(3,"span",42),e._uU(4),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(4),e.Oqu(t.label)}}function Zt(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",37)(2,"div",43),e._uU(3),e.qZA(),e.TgZ(4,"div",43),e._uU(5),e.qZA(),e.YNc(6,vt,5,1,"div",39),e.qZA(),e.BQk()),2&n){const t=r.$implicit;e.xp6(3),e.Oqu(t.stateCode),e.xp6(2),e.Oqu(t.phoneNumber),e.xp6(1),e.Q6J("ngIf",t.label)}}let yt=(()=>{class n{constructor(t,o,i){this.employee=t,this._dialogRef=o,this._router=i}closeDialog(){this._dialogRef.close()}editEmployee(){this.closeDialog(),this._router.navigateByUrl(`/modules/hrm/employees/${this.employee._id}`)}trackByFn(t,o){return o.id||t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y.WI),e.Y36(y.so),e.Y36(d.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["employee-dialog"]],decls:173,vars:49,consts:[[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left","bg-gray-50"],["mat-dialog-title","",1,"mb-0"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-6","pt-1"],[1,"w-full"],[1,"flex","w-full"],[1,"flex","flex-col","justify-end","w-4/5","my-2"],[1,"text-4xl","font-bold","truncate"],[1,"flex","text-xl","font-bold","truncate"],[1,"mr-2.5",3,"svgIcon"],[1,"flex","justify-center","w-1/5","py-2"],[1,"flex","items-center","justify-center","w-32","h-32","overflow-hidden","rounded-full","ring-4","ring-bg-card"],["class","object-cover w-full h-full",3,"src",4,"ngIf"],["class","flex items-center justify-center w-full h-full overflow-hidden font-bold leading-none text-gray-600 uppercase bg-gray-200 rounded text-8xl dark:bg-gray-700 dark:text-gray-200",4,"ngIf"],[1,"flex","flex-col","border-t","gap-y-5"],[1,"flex","flex-col","w-full","gap-8","md:flex-row"],[1,"flex","flex-col","w-1/3","pt-6","mt-4","space-y-8"],[1,"flex","sm:items-center"],[1,"min-w-56","font-semibold"],[1,"leading-6"],[1,"min-w-56","font-semibold","pr-5"],[4,"ngIf"],[1,"flex","flex-col"],[1,"min-w-44","font-semibold"],[1,"flex"],[3,"svgIcon"],[1,"min-w-0","space-y-1"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"min-w-28","font-semibold"],[1,"flex","items-center","justify-between","w-full","px-8","py-4","mt-10","border-t","sm:px-12","bg-gray-50","dark:bg-transparent"],["mat-button","",3,"matTooltip","click"],["mat-flat-button","",3,"color","matTooltip","click"],[1,"object-cover","w-full","h-full",3,"src"],[1,"flex","items-center","justify-center","w-full","h-full","overflow-hidden","font-bold","leading-none","text-gray-600","uppercase","bg-gray-200","rounded","text-8xl","dark:bg-gray-700","dark:text-gray-200"],[1,"text-green-400","icon-size-5",3,"svgIcon"],[1,"text-gray-400","icon-size-5",3,"svgIcon"],[1,"flex","items-center","leading-6"],["target","_blank",1,"ml-2.5","hover:underline","text-primary-500",3,"href"],["class","truncate text-md text-secondary",4,"ngIf"],[1,"truncate","text-md","text-secondary"],[1,"mx-2"],[1,"font-medium"],[1,"ml-2.5","font-mono"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1)(3,"h2",2),e._uU(4,"Informaci\xf3n del empleado"),e.qZA()(),e.BQk(),e.TgZ(5,"div",3),e.ynx(6),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"span",8),e._uU(12),e.qZA(),e.TgZ(13,"span",9),e._UZ(14,"mat-icon",10),e._uU(15),e.ALo(16,"date"),e.qZA(),e.TgZ(17,"span",9),e._uU(18),e.qZA()(),e.TgZ(19,"div",11)(20,"div",12),e.YNc(21,gt,1,1,"img",13),e.YNc(22,ut,2,1,"div",14),e.qZA()()(),e.TgZ(23,"div",15)(24,"div",16)(25,"div",17),e.ynx(26),e.TgZ(27,"div",18)(28,"mat-label",19),e._uU(29,"C\xf3digo de empleado"),e.qZA(),e.TgZ(30,"div",20),e._uU(31),e.qZA()(),e.BQk(),e.ynx(32),e.TgZ(33,"div",18)(34,"mat-label",19),e._uU(35,"N\xfamero de identidad"),e.qZA(),e.TgZ(36,"div",20),e._uU(37),e.qZA()(),e.BQk(),e.ynx(38),e.TgZ(39,"div",18)(40,"mat-label",19),e._uU(41,"G\xe9nero"),e.qZA(),e.TgZ(42,"div",20),e._uU(43),e.ALo(44,"titlecase"),e.qZA()(),e.BQk(),e.ynx(45),e.TgZ(46,"div",18)(47,"mat-label",21),e._uU(48,"Activo"),e.qZA(),e.YNc(49,_t,2,1,"ng-container",22),e.YNc(50,ht,2,1,"ng-container",22),e.qZA(),e.BQk(),e.qZA(),e.TgZ(51,"div",17),e.ynx(52),e.TgZ(53,"div",23)(54,"mat-label",24),e._uU(55,"Correos Electr\xf3nicos"),e.qZA(),e.TgZ(56,"div",25),e._UZ(57,"mat-icon",26),e.TgZ(58,"div",27),e.YNc(59,xt,5,3,"ng-container",28),e.qZA()()(),e.BQk(),e.ynx(60),e.TgZ(61,"div",23)(62,"mat-label",24),e._uU(63,"Tel\xe9fonos"),e.qZA(),e.TgZ(64,"div",25),e._UZ(65,"mat-icon",26),e.TgZ(66,"div",27),e.YNc(67,Zt,7,3,"ng-container",28),e.qZA()()(),e.BQk(),e.qZA(),e.TgZ(68,"div",17),e.ynx(69),e.TgZ(70,"div",18)(71,"mat-label",29),e._uU(72,"Domicilio"),e.qZA(),e.TgZ(73,"div",20),e._uU(74),e.qZA()(),e.BQk(),e.ynx(75),e.TgZ(76,"div",18)(77,"mat-label",29),e._uU(78,"Pa\xeds"),e.qZA(),e.TgZ(79,"div",20),e._uU(80),e.ALo(81,"titlecase"),e.qZA()(),e.BQk(),e.ynx(82),e.TgZ(83,"div",18)(84,"mat-label",29),e._uU(85,"Provincia"),e.qZA(),e.TgZ(86,"div",20),e._uU(87),e.qZA()(),e.BQk(),e.ynx(88),e.TgZ(89,"div",18)(90,"mat-label",29),e._uU(91,"Municipio"),e.qZA(),e.TgZ(92,"div",20),e._uU(93),e.qZA()(),e.BQk(),e.ynx(94),e.TgZ(95,"div",18)(96,"mat-label",29),e._uU(97,"C\xf3digo Postal"),e.qZA(),e.TgZ(98,"div",20),e._uU(99),e.qZA()(),e.BQk(),e.qZA()(),e.TgZ(100,"div",16)(101,"div",17),e.ynx(102),e.TgZ(103,"div",18)(104,"mat-label",19),e._uU(105,"Fecha de contrataci\xf3n"),e.qZA(),e.TgZ(106,"div",20),e._uU(107),e.ALo(108,"date"),e.qZA()(),e.BQk(),e.ynx(109),e.TgZ(110,"div",18)(111,"mat-label",19),e._uU(112,"Tipo de contrato"),e.qZA(),e.TgZ(113,"div",20),e._uU(114),e.ALo(115,"titlecase"),e.qZA()(),e.BQk(),e.ynx(116),e.TgZ(117,"div",18)(118,"mat-label",19),e._uU(119,"Fecha de cierre del contrato "),e.qZA(),e.TgZ(120,"div",20),e._uU(121),e.ALo(122,"date"),e.qZA()(),e.BQk(),e.ynx(123),e.TgZ(124,"div",18)(125,"mat-label",19),e._uU(126,"Duraci\xf3n del contrato (en d\xedas) "),e.qZA(),e.TgZ(127,"div",20),e._uU(128),e.qZA()(),e.BQk(),e.qZA(),e.TgZ(129,"div",17),e.ynx(130),e.TgZ(131,"div",18)(132,"mat-label",29),e._uU(133,"Departamento"),e.qZA(),e.TgZ(134,"div",20),e._uU(135),e.qZA()(),e.BQk(),e.ynx(136),e.TgZ(137,"div",18)(138,"mat-label",29),e._uU(139,"Cargo"),e.qZA(),e.TgZ(140,"div",20),e._uU(141),e.qZA()(),e.BQk(),e.ynx(142),e.TgZ(143,"div",18)(144,"mat-label",29),e._uU(145,"Escolaridad"),e.qZA(),e.TgZ(146,"div",20),e._uU(147),e.qZA()(),e.BQk(),e.qZA(),e.TgZ(148,"div",17),e.ynx(149),e.TgZ(150,"div",18)(151,"mat-label",24),e._uU(152,"Frecuencia de pago"),e.qZA(),e.TgZ(153,"div",20),e._uU(154),e.qZA()(),e.BQk(),e.ynx(155),e.TgZ(156,"div",18)(157,"mat-label",24),e._uU(158,"M\xe9todo de pago"),e.qZA(),e.TgZ(159,"div",20),e._uU(160),e.qZA()(),e.BQk(),e.ynx(161),e.TgZ(162,"div",18)(163,"mat-label",24),e._uU(164,"Salario"),e.qZA(),e.TgZ(165,"div",20),e._uU(166),e.qZA()(),e.BQk(),e.qZA()()()()(),e.BQk(),e.qZA(),e.ynx(167),e.TgZ(168,"div",30)(169,"button",31),e.NdJ("click",function(){return o.closeDialog()}),e._uU(170," Cerrar "),e.qZA(),e.TgZ(171,"button",32),e.NdJ("click",function(){return o.editEmployee()}),e._uU(172," Editar "),e.qZA()(),e.BQk(),e.qZA()),2&t&&(e.xp6(12),e.lnq(" ",o.employee.name," ",o.employee.lastname1," ",o.employee.lastname2," "),e.xp6(2),e.Q6J("svgIcon","heroicons_outline:cake"),e.xp6(1),e.hij(" ",e.lcZ(16,37,o.employee.birthday)," "),e.xp6(3),e.hij(" ",o.employee.age," a\xf1os "),e.xp6(3),e.Q6J("ngIf",o.employee.imageUrl),e.xp6(1),e.Q6J("ngIf",!o.employee.imageUrl),e.xp6(9),e.Oqu(o.employee.code),e.xp6(6),e.Oqu(o.employee.idNumber),e.xp6(6),e.Oqu(e.lcZ(44,39,o.employee.gender)),e.xp6(6),e.Q6J("ngIf",o.employee.active),e.xp6(1),e.Q6J("ngIf",!o.employee.active),e.xp6(7),e.Q6J("svgIcon","heroicons_outline:mail"),e.xp6(2),e.Q6J("ngForOf",o.employee.emails)("ngForTrackBy",o.trackByFn),e.xp6(6),e.Q6J("svgIcon","heroicons_outline:phone"),e.xp6(2),e.Q6J("ngForOf",o.employee.phoneNumbers)("ngForTrackBy",o.trackByFn),e.xp6(7),e.Oqu(o.employee.address),e.xp6(6),e.Oqu(e.lcZ(81,41,o.employee.country)),e.xp6(7),e.Oqu(o.employee.state),e.xp6(6),e.Oqu(o.employee.city),e.xp6(6),e.Oqu(o.employee.postalCode),e.xp6(8),e.Oqu(e.lcZ(108,43,o.employee.dateOfJoining)),e.xp6(7),e.Oqu(e.lcZ(115,45,o.employee.typeOfContract)),e.xp6(7),e.hij(" ",e.lcZ(122,47,o.employee.contractEndDate)||"Indefinido"," "),e.xp6(7),e.hij("",o.employee.contractTime||"Indefinido"," "),e.xp6(7),e.Oqu(o.employee.department.name),e.xp6(6),e.Oqu(o.employee.charge.name),e.xp6(6),e.Oqu(o.employee.scholarship),e.xp6(7),e.Oqu(o.employee.salaryFreq),e.xp6(6),e.Oqu(o.employee.salaryMethod),e.xp6(6),e.Oqu(o.employee.salaryLevel||"Por definir"),e.xp6(3),e.Q6J("matTooltip","Cerrar"),e.xp6(2),e.Q6J("color","primary")("matTooltip","Editar"))},dependencies:[m.sg,m.O5,w.lW,y.uh,C.Hw,f.hX,V.gM,m.rS,m.uU],encapsulation:2,changeDetection:0}),n})();var R=l(1192);const P=S.N.API_URL;let fe=(()=>{class n{constructor(t,o){this._httpClient=t,this.store=o}getEmployeesByMerchantId(t=0,o=10,i="name",a="asc",c="",p){const h=(new q.LE).append("page",t).append("size",o).append("sort",i).append("order",a).append("search",c);return this._httpClient.get(`${P}/employees/merchantId/${p}`,{params:h}).pipe((0,_.b)(({employees:x,pagination:I})=>{this.store.dispatch((0,ne.Jr)({pagination:I})),this.store.dispatch((0,R.Jq)({employees:x}))}))}getEmployeeById(t){return this.store.select(O).pipe((0,v.q)(1),(0,F.U)(o=>{const i=o.find(a=>a._id===t)||null;return this.store.dispatch((0,R.Y6)({employee:i})),i}),(0,Z.w)(o=>o?(0,k.of)(o):(0,te._)("No se encontr\xf3 ning\xfan empleado con el: "+t+"!")))}createEmployee(t){return this.store.select(O).pipe((0,v.q)(1),(0,Z.w)(o=>this._httpClient.post(`${P}/employees`,t).pipe((0,_.b)(i=>{this.store.dispatch((0,R.Jq)({employees:[i.employee,...o]}))}))))}updateEmployee(t){return this.store.select(O).pipe((0,v.q)(1),(0,Z.w)(o=>this._httpClient.patch(`${P}/employees/${t._id}`,t).pipe((0,_.b)(i=>{const a=[...o],c=a.findIndex(p=>p._id===t._id);a[c]=i.employee,this.store.dispatch((0,R.Jq)({employees:a}))}))))}deleteEmployee(t){return this.store.select(O).pipe((0,v.q)(1),(0,Z.w)(o=>this._httpClient.delete(`${P}/employees/${t}`).pipe((0,_.b)(()=>{const i=[...o],a=i.findIndex(c=>c._id===t);i.splice(a,1),this.store.dispatch((0,R.Jq)({employees:i}))}))))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(q.eN),e.LFG(u.yh))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bt(n,r){if(1&n&&e._UZ(0,"img",50),2&n){const t=e.oxw().$implicit;e.Q6J("alt","Foto")("src",t.imageUrl,e.LSH)}}function Ct(n,r){1&n&&(e.TgZ(0,"div",51),e._uU(1," SIN FOTO "),e.qZA())}function Tt(n,r){if(1&n&&(e.TgZ(0,"div",52),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.charge.name," ")}}function At(n,r){if(1&n&&(e.TgZ(0,"div",52),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.title," ")}}function kt(n,r){1&n&&(e.ynx(0),e._UZ(1,"mat-icon",53),e.BQk()),2&n&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:check"))}function qt(n,r){1&n&&(e.ynx(0),e._UZ(1,"mat-icon",54),e.BQk()),2&n&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:x"))}function wt(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",38)(2,"div",39)(3,"div",40),e.YNc(4,bt,1,2,"img",41),e.YNc(5,Ct,2,0,"div",42),e.qZA()(),e.TgZ(6,"div",43),e._uU(7),e.qZA(),e.TgZ(8,"div",44),e._uU(9),e.qZA(),e.TgZ(10,"div",45),e._uU(11),e.qZA(),e.YNc(12,Tt,2,1,"div",46),e.YNc(13,At,2,1,"div",46),e.TgZ(14,"div",32),e.YNc(15,kt,2,1,"ng-container",26),e.YNc(16,qt,2,1,"ng-container",26),e.qZA(),e.TgZ(17,"div",47)(18,"button",48),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.viewEmployee(a))}),e._UZ(19,"mat-icon",49),e.qZA(),e.TgZ(20,"button",48),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.editEmployee(a))}),e._UZ(21,"mat-icon",49),e.qZA(),e.TgZ(22,"button",48),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.deleteEmployee(a._id))}),e._UZ(23,"mat-icon",49),e.qZA()()(),e.BQk()}if(2&n){const t=r.$implicit;e.xp6(4),e.Q6J("ngIf",t.imageUrl),e.xp6(1),e.Q6J("ngIf",!t.imageUrl),e.xp6(2),e.hij(" ",t.code," "),e.xp6(2),e.lnq(" ",t.name," ",t.lastname1," ",t.lastname2," "),e.xp6(2),e.hij(" ",t.department.name," "),e.xp6(1),e.Q6J("ngIf",t.charge),e.xp6(1),e.Q6J("ngIf",t.title),e.xp6(2),e.Q6J("ngIf",t.active),e.xp6(1),e.Q6J("ngIf",!t.active),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:eye"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:pencil"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function It(n,r){if(1&n&&(e.ynx(0),e.YNc(1,wt,24,14,"ng-container",37),e.BQk()),2&n){const t=r.ngIf,o=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",o.trackByFn)}}function Ut(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",29)(2,"div",30),e._UZ(3,"div",31),e.TgZ(4,"div",32),e._uU(5," C\xf3digo "),e.qZA(),e.TgZ(6,"div",33),e._uU(7," Nombre completo "),e.qZA(),e.TgZ(8,"div",34),e._uU(9," Departamento "),e.qZA(),e.TgZ(10,"div",35),e._uU(11," Cargo "),e.qZA(),e.TgZ(12,"div",32),e._uU(13," Activo "),e.qZA(),e.TgZ(14,"div",36),e._uU(15," Acciones "),e.qZA()(),e.YNc(16,It,2,2,"ng-container",26),e.ALo(17,"async"),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("mat-sort-header","name"),e.xp6(2),e.Q6J("mat-sort-header","department"),e.xp6(8),e.Q6J("ngIf",e.lcZ(17,3,t.employees$))}}function Qt(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Ut,18,5,"ng-container",28),e.BQk()),2&n){const t=e.oxw(),o=e.MAs(40);e.xp6(1),e.Q6J("ngIf",t.employees$)("ngIfElse",o)}}function Ft(n,r){1&n&&(e.TgZ(0,"div",55),e._uU(1,"No ha creado ning\xfan empleado a\xfan!"),e.qZA())}let Dt=(()=>{class n{constructor(t,o,i,a,c,p,h,x){this._activatedRoute=t,this._changeDetectorRef=o,this._dialog=i,this._hrmEmployeeService=a,this._fuseConfirmationService=c,this._router=p,this._snackBar=h,this.store=x,this.merchantId="",this.flashMessage=null,this.isLoading=!1,this.searchInputControl=new s.NI,this.selectedEmployee=null,this._unsubscribeAll=new A.x}ngOnInit(){this._activatedRoute.params.pipe((0,g.R)(this._unsubscribeAll)).subscribe(({merchantId:t})=>{void 0!==t&&(this.merchantId=t,this._changeDetectorRef.markForCheck())}),this.employees$=this.store.select(O)}ngAfterViewInit(){}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createEmployee(){this._router.navigateByUrl(`/home/${this.merchantId}/modules/hrm/employees/new`)}viewEmployee(t){this._dialog.open(yt,{data:t,width:"90%",height:"98%",panelClass:"ath-dialog-panel"})}editEmployee(t){this._router.navigateByUrl(`/home/${this.merchantId}/modules/hrm/employees/${t._id}`)}deleteEmployee(t){this._fuseConfirmationService.open({title:"Eliminar Empleado",message:"\xbfEsta seguro que desea Eliminar el empleado? Perder\xe1 el acceso a todos los datos asociados al mismo.",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(i=>{"confirmed"===i&&this._hrmEmployeeService.deleteEmployee(t).subscribe(a=>{this._snackBar.openFromComponent(T.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success"}}),this._changeDetectorRef.markForCheck()}),this._changeDetectorRef.markForCheck()})}trackByFn(t,o){return o.id||t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.gz),e.Y36(e.sBO),e.Y36(y.uw),e.Y36(fe),e.Y36(H.R),e.Y36(d.F0),e.Y36(B.ux),e.Y36(u.yh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["hrm-employees"]],viewQuery:function(t,o){if(1&t&&(e.Gf($.NW,5),e.Gf(b.YE,5)),2&t){let i;e.iGM(i=e.CRH())&&(o._paginator=i.first),e.iGM(i=e.CRH())&&(o._sort=i.first)}},decls:41,vars:11,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-wrap","p-6","sm:flex-row","flex-0","sm:items-center","sm:justify-between","sm:pt-12","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/desktop",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"flex","items-center","flex-shrink-0","mt-6","sm:mt-0","sm:ml-4"],["mat-raised-button","",1,"ml-4","text-white","rounded-md","bg-primary-500","hover:bg-primary-700","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"flex-auto","p-6","sm:p-10"],[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","w-full","filter-post"],[1,"flex","flex-col","mx-4","mt-6","mb-3","sm:mx-8"],[1,"flex","items-start"],[1,"border-none","fuse-mat-dense","fuse-mat-no-subscript","min-w-50"],["matInput","","type","text",3,"formControl","autocomplete","placeholder"],[1,"overflow-y-auto","max-h-120"],[4,"ngIf"],["noEmployees",""],[4,"ngIf","ngIfElse"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","employees-table","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[1,"hidden","sm:block"],[1,"hidden","text-center","lg:block"],[3,"mat-sort-header"],[1,"hidden","text-center","md:block",3,"mat-sort-header"],[1,"hidden","lg:block"],[1,"text-center"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","employees-table","md:px-8"],[1,"items-center","hidden","sm:block"],[1,"relative","flex","items-center","justify-center","w-12","h-12","mr-6","overflow-hidden","border","rounded","flex-0"],["class","w-8",3,"alt","src",4,"ngIf"],["class","flex items-center justify-center w-full h-full text-xs font-semibold leading-none text-center uppercase",4,"ngIf"],[1,"hidden","text-center","truncate","lg:block"],[1,"truncate"],[1,"hidden","md:block"],["class","items-center hidden lg:block",4,"ngIf"],[1,"flex","flex-col","items-center","justify-center","gap-1","md:flex-row"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"w-8",3,"alt","src"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase"],[1,"items-center","hidden","lg:block"],[1,"text-green-400","icon-size-5",3,"svgIcon"],[1,"text-gray-400","icon-size-5",3,"svgIcon"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Recursos Humanos"),e.qZA()(),e.TgZ(12,"div",4),e._UZ(13,"mat-icon",6),e.TgZ(14,"a",8),e._uU(15,"Empleados"),e.qZA()()(),e.TgZ(16,"div",9)(17,"a",10),e._UZ(18,"mat-icon",6),e.TgZ(19,"span",11),e._uU(20,"Regresar"),e.qZA()()()(),e.TgZ(21,"div",12)(22,"div",13),e._uU(23," Empleados "),e.qZA()()(),e.TgZ(24,"div",14)(25,"button",15),e.NdJ("click",function(){return o.createEmployee()}),e._UZ(26,"mat-icon",16),e.TgZ(27,"span",17),e._uU(28,"Nuevo Empleado"),e.qZA()()()(),e.TgZ(29,"div",18)(30,"div",19)(31,"fuse-card",20)(32,"div",21)(33,"div",22)(34,"mat-form-field",23),e._UZ(35,"input",24),e.qZA()()(),e.TgZ(36,"div",25),e.YNc(37,Qt,2,2,"ng-container",26),e.ALo(38,"async"),e.YNc(39,Ft,2,0,"ng-template",null,27,e.W1O),e.qZA()()()()()),2&t&&(e.xp6(9),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:chevron-left"),e.xp6(8),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(9),e.Q6J("formControl",o.searchInputControl)("autocomplete","off")("placeholder","Nombre..."),e.xp6(2),e.Q6J("ngIf",e.lcZ(38,9,o.employees$)))},dependencies:[d.yS,m.sg,m.O5,s.Fj,s.JJ,s.oH,M.y,N.PQ,w.lW,C.Hw,f.KE,j.Nt,b.YE,b.nU,m.Ov],encapsulation:2,data:{animation:W.L},changeDetection:0}),n})();var Jt=l(7489),re=l(1135);let Nt=(()=>{class n{constructor(t){this._httpClient=t,this._scholarship=new re.X(null),this._salaryFreqs=new re.X(null),this._salaryMethods=new re.X(null)}get _scholarship$(){return this._scholarship.asObservable()}get _salaryFreqs$(){return this._salaryFreqs.asObservable()}get _salaryMethods$(){return this._salaryMethods.asObservable()}getScholarship(){return this._httpClient.get("assets/data/scholarship.json").pipe((0,F.U)(t=>t.sort((o,i)=>o.toLowerCase()<i.toLowerCase()?-1:o.toLowerCase()>i.toLowerCase()?1:void 0)),(0,_.b)(t=>{this._scholarship.next(t)}))}getSalaryFrequency(){return this._httpClient.get("assets/data/salary-freqs.json").pipe((0,F.U)(t=>t.sort((o,i)=>o.toLowerCase()<i.toLowerCase()?-1:o.toLowerCase()>i.toLowerCase()?1:void 0)),(0,_.b)(t=>{this._salaryFreqs.next(t)}))}getSalaryMethods(){return this._httpClient.get("assets/data/salary-methods.json").pipe((0,F.U)(t=>t.sort((o,i)=>o.toLowerCase()<i.toLowerCase()?-1:o.toLowerCase()>i.toLowerCase()?1:void 0)),(0,_.b)(t=>{this._salaryMethods.next(t)}))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(q.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ht=l(1158),ae=l(6856),K=l(288);function Et(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",58),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.createEmployee())}),e._UZ(1,"mat-icon",59),e.TgZ(2,"span",60),e._uU(3,"Guardar"),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("disabled",!t.employeeForm.valid),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:save")}}function Bt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",58),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.updateEmployee())}),e._UZ(1,"mat-icon",59),e.TgZ(2,"span",60),e._uU(3,"Actualizar"),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("disabled",!t.employeeForm.valid),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:refresh")}}function Yt(n,r){if(1&n&&(e.TgZ(0,"mat-option",61),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.name," ")}}function Ot(n,r){1&n&&(e.TgZ(0,"mat-label"),e._uU(1,"Tel\xe9fonos"),e.qZA())}function Rt(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"mat-option",61)(2,"span",21),e._UZ(3,"span",68),e.TgZ(4,"span",69),e._uU(5),e.qZA(),e.TgZ(6,"span",70),e._uU(7),e.qZA()()(),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("value",t.code),e.xp6(4),e.Oqu(t.name),e.xp6(2),e.Oqu(t.code)}}function Mt(n,r){1&n&&(e.TgZ(0,"mat-label"),e._uU(1,"Etiqueta"),e.qZA())}const xe=function(n){return{"mt-6":n}};function $t(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",73)(2,"button",74),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().index,a=e.oxw();return e.KtG(a.removePhoneNumberField(i))}),e._UZ(3,"mat-icon",38),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw().first;e.xp6(1),e.Q6J("ngClass",e.VKq(2,xe,t)),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function St(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",62)(2,"mat-form-field",63),e.YNc(3,Ot,2,0,"mat-label",64),e._UZ(4,"input",65),e.TgZ(5,"mat-select",66)(6,"mat-select-trigger")(7,"span",21)(8,"span",67),e._uU(9),e.qZA()()(),e.TgZ(10,"mat-option",61)(11,"span",21),e._UZ(12,"span",68),e.TgZ(13,"span",69),e._uU(14),e.ALo(15,"titlecase"),e.qZA(),e.TgZ(16,"span",70),e._uU(17),e.qZA()()(),e.YNc(18,Rt,8,3,"ng-container",36),e.qZA()(),e.TgZ(19,"mat-form-field",71),e.YNc(20,Mt,2,0,"mat-label",64),e._UZ(21,"mat-icon",31)(22,"input",72),e.qZA(),e.YNc(23,$t,4,4,"ng-container",64),e.qZA(),e.BQk()),2&n){const t=r.$implicit,o=r.index,i=r.first,a=r.last,c=e.oxw();e.xp6(3),e.Q6J("ngIf",i),e.xp6(1),e.Q6J("type","tel")("formControl",t.get("phoneNumber"))("placeholder","Tel\xe9fono"),e.xp6(1),e.Q6J("formControl",t.get("stateCode")),e.xp6(4),e.Oqu(c.employeeForm.get("phoneNumbers").value[o].stateCode),e.xp6(1),e.Q6J("value","+535"),e.xp6(4),e.Oqu(e.lcZ(15,16,"celular")),e.xp6(3),e.Oqu("+535"),e.xp6(1),e.Q6J("ngForOf",c.statesCodes)("ngForTrackBy",c.trackByFn),e.xp6(2),e.Q6J("ngIf",i),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:tag"),e.xp6(1),e.Q6J("formControl",t.get("label"))("placeholder","Etiqueta"),e.xp6(1),e.Q6J("ngIf",!(i&&a))}}function Lt(n,r){1&n&&(e.TgZ(0,"mat-label"),e._uU(1,"Correos Electr\xf3nicos"),e.qZA())}function jt(n,r){1&n&&(e.TgZ(0,"mat-label"),e._uU(1,"Etiqueta"),e.qZA())}function zt(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",73)(2,"button",77),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().index,a=e.oxw();return e.KtG(a.removeEmailField(i))}),e._UZ(3,"mat-icon",38),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw().first;e.xp6(1),e.Q6J("ngClass",e.VKq(2,xe,t)),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function Gt(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",75)(2,"mat-form-field",63),e.YNc(3,Lt,2,0,"mat-label",64),e._UZ(4,"mat-icon",31)(5,"input",76),e.qZA(),e.TgZ(6,"mat-form-field",71),e.YNc(7,jt,2,0,"mat-label",64),e._UZ(8,"mat-icon",31)(9,"input",72),e.qZA(),e.YNc(10,zt,4,4,"ng-container",64),e.qZA(),e.BQk()),2&n){const t=r.$implicit,o=r.first,i=r.last;e.xp6(3),e.Q6J("ngIf",o),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:mail"),e.xp6(1),e.Q6J("formControl",t.get("email"))("spellcheck",!1),e.xp6(2),e.Q6J("ngIf",o),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:tag"),e.xp6(1),e.Q6J("formControl",t.get("label"))("placeholder","Etiqueta"),e.xp6(1),e.Q6J("ngIf",!(o&&i))}}function Pt(n,r){if(1&n&&(e.TgZ(0,"mat-option",61),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Kt(n,r){if(1&n&&(e.TgZ(0,"mat-option",61),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.city),e.xp6(1),e.hij(" ",t.city," ")}}function Vt(n,r){if(1&n&&(e.TgZ(0,"mat-option",61),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij("",t.name," ")}}function Wt(n,r){if(1&n&&(e.TgZ(0,"mat-option",61),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t._id),e.xp6(1),e.hij(" ",t.name,"")}}function Xt(n,r){if(1&n&&(e.TgZ(0,"mat-option",61),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij("",t," ")}}function en(n,r){if(1&n&&(e.TgZ(0,"mat-option",61),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij("",t," ")}}function tn(n,r){if(1&n&&(e.TgZ(0,"mat-option",61),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij("",t," ")}}function nn(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",58),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.createEmployee())}),e._UZ(1,"mat-icon",59),e.TgZ(2,"span",60),e._uU(3,"Guardar"),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("disabled",!t.employeeForm.valid),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:save")}}function on(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",58),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.updateEmployee())}),e._UZ(1,"mat-icon",59),e.TgZ(2,"span",60),e._uU(3,"Actualizar"),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("disabled",!t.employeeForm.valid),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:refresh")}}const rn=[{path:"",component:Ze},{path:"charges",component:Se,resolve:{}},{path:"departments",component:pt,resolve:{}},{path:"employees",component:Dt,resolve:{}},{path:"employees/:employeeId",component:(()=>{class n{constructor(t,o,i,a,c,p,h,x,I,sn,ln){this._activatedRoute=t,this._changeDetectorRef=o,this._dialog=i,this._formBuilder=a,this._fuseConfirmationService=c,this._hrmService=p,this._hrmEmployeesService=h,this._locationService=x,this._router=I,this._snackBar=sn,this.store=ln,this.cities=[],this.department=new ie,this.employee=new dt,this.employees=[],this.isNew=!1,this.selectedMerchant=null,this.selectedMerchant$=null,this.states=[],this.statesCodes=[],this.stateSelected="",this.user$=(0,k.of)(null),this._merchantOwnerId="",this._unsubscribeAll=new A.x}ngOnInit(){var t;this.user$=this.store.select(X.rk),this.user$.subscribe(o=>{this.user=o,this._merchantOwnerId=o.merchantId?o.merchantId:o._id,this._changeDetectorRef.markForCheck()}),this.selectedMerchant$=this.store.select(ee.Qs),this.selectedMerchant$.pipe((0,g.R)(this._unsubscribeAll)).subscribe(o=>this.selectedMerchant=o),this._activatedRoute.params.pipe((0,g.R)(this._unsubscribeAll)).subscribe(({merchantId:o})=>{void 0!==o&&(this.merchantId=o,this._changeDetectorRef.markForCheck())}),this.charges$=this.store.select(U),this.departments$=this.store.select(J),this.salaryFreqs$=this._hrmService._salaryFreqs$,this.salaryMethods$=this._hrmService._salaryMethods$,this.scholarships$=this._hrmService._scholarship$,this._locationService.states$.pipe((0,g.R)(this._unsubscribeAll)).subscribe(o=>{this.states=o,this._changeDetectorRef.markForCheck()}),this._locationService.statesCodes$.pipe((0,g.R)(this._unsubscribeAll)).subscribe(o=>{this.statesCodes=o,this._changeDetectorRef.markForCheck()}),this.employeeForm=this._formBuilder.group({_id:[""],userId:[this.user._id,[s.kI.required]],businessOwnerId:[this._merchantOwnerId,[s.kI.required]],merchantId:[{value:this.merchantId,disabled:!0},[s.kI.required]],active:["",[s.kI.required]],code:[{value:"",disabled:!0}],name:["",[s.kI.required]],slug:[""],lastname1:["",[s.kI.required]],lastname2:["",[s.kI.required]],gender:["",[s.kI.required]],idNumber:["",[s.kI.required]],emails:this._formBuilder.array([]),phoneNumbers:this._formBuilder.array([]),address:["",[s.kI.required]],country:[{value:"Cuba",disabled:!0},[s.kI.required]],state:["",[s.kI.required]],city:["",[s.kI.required]],postalCode:[""],dateOfJoining:["",[s.kI.required]],typeOfContract:["",[s.kI.required]],contractEndDate:[""],contractTime:[""],department:[""],charge:[""],scholarship:[""],salaryFreq:["",[s.kI.required]],salaryMethod:["",[s.kI.required]],salaryLevel:[""]}),this._activatedRoute.params.pipe((0,g.R)(this._unsubscribeAll)).subscribe(({id:o})=>{this.employeeId=o,this._getEmployeeById(o),this._changeDetectorRef.markForCheck()}),null===(t=this.employeeForm.get("state"))||void 0===t||t.valueChanges.pipe((0,g.R)(this._unsubscribeAll)).subscribe(o=>{this._getCitiesByState(o),this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}addEmailField(){const t=this._formBuilder.group({email:[""]});this.employeeForm.get("emails").push(t),this._changeDetectorRef.markForCheck()}removeEmailField(t){this.employeeForm.get("emails").removeAt(t),this._changeDetectorRef.markForCheck()}addPhoneNumberField(){const t=this._formBuilder.group({stateCode:[""],phoneNumber:[""],label:[""]});this.employeeForm.get("phoneNumbers").push(t),this._changeDetectorRef.markForCheck()}removePhoneNumberField(t){this.employeeForm.get("phoneNumbers").removeAt(t),this._changeDetectorRef.markForCheck()}createEmployee(){const t=`${(new Date).getDate()}${(new Date).getMonth()}${(new Date).getFullYear()}-${(new Date).getSeconds()}${(new Date).getMilliseconds()}`;this.employeeForm.get("code").setValue(t);let o=this.employeeForm.getRawValue();o=(0,Jt.omit)(o,"_id"),o.slug=new Q.i(o.name).slug,this._fuseConfirmationService.open({title:"Crear empleado",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(a=>{"confirmed"===a&&this._hrmEmployeesService.createEmployee(o).subscribe(c=>{this._snackBar.openFromComponent(T.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:c.message,title:"Confirmaci\xf3n",type:"success"}}),this._router.navigateByUrl("/modules/hrm/employees"),this._changeDetectorRef.markForCheck()}),this._changeDetectorRef.markForCheck()})}updateEmployee(){const t=this.employeeForm.getRawValue();t.slug=new Q.i(t.name).slug,this._fuseConfirmationService.open({title:"Actualizar empleado",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(i=>{"confirmed"===i&&this._hrmEmployeesService.updateEmployee(t).subscribe(a=>{this._snackBar.openFromComponent(T.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",type:"success"}}),this._router.navigateByUrl(`/home/${this.merchantId}/modules/hrm/employees`),this._changeDetectorRef.markForCheck()}),this._changeDetectorRef.markForCheck()})}trackByFn(t,o){return o.id||t}openCreateDepartmentDialog(){this._dialog.open(ue,{width:"600px",data:{department:this.department,dialogMode:"add"},panelClass:"ath-dialog-panel"})}_getEmployeeById(t){if("new"===t){const o=[];o.push(this._formBuilder.group({email:[""],label:[""]})),o.forEach(a=>{this.employeeForm.get("emails").push(a)});const i=[];return i.push(this._formBuilder.group({stateCode:["+535"],phoneNumber:[""],label:[""]})),void i.forEach(a=>{this.employeeForm.get("phoneNumbers").push(a)})}this._hrmEmployeesService.getEmployeeById(t).pipe((0,g.R)(this._unsubscribeAll)).subscribe(o=>{console.log(o),this.employee=o,this.employeeForm.get("emails").clear(),this.employeeForm.get("phoneNumbers").clear(),this._setEmployeeDataOnForm(o),this._changeDetectorRef.markForCheck()})}_getCitiesByState(t){t!==this.stateSelected&&this._locationService.getCitiesByState(t).subscribe(o=>{this.cities=o,this._changeDetectorRef.markForCheck()})}_setEmployeeDataOnForm(t){this.employeeForm.patchValue(t),this.employeeForm.get("businessOwnerId").setValue(t.merchantOwnerId._id),this.employeeForm.get("charge").setValue(t.charge._id),this.employeeForm.get("department").setValue(t.department._id),this.employeeForm.get("merchantId").setValue(t.merchantId._id);const o=[];t.emails.length>0?t.emails.forEach(a=>{o.push(this._formBuilder.group({email:[a.email]}))}):o.push(this._formBuilder.group({email:[""]})),o.forEach(a=>{this.employeeForm.get("emails").push(a)});const i=[];t.phoneNumbers.length>0?t.phoneNumbers.forEach(a=>{i.push(this._formBuilder.group({stateCode:[a.stateCode],phoneNumber:[a.phoneNumber]}))}):i.push(this._formBuilder.group({stateCode:["+535"],phoneNumber:[""]})),i.forEach(a=>{this.employeeForm.get("phoneNumbers").push(a)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.gz),e.Y36(e.sBO),e.Y36(y.uw),e.Y36(s.qu),e.Y36(H.R),e.Y36(Nt),e.Y36(fe),e.Y36(Ht.a),e.Y36(d.F0),e.Y36(B.ux),e.Y36(u.yh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["employee-detail"]],decls:231,vars:95,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-wrap","p-6","sm:flex-row","flex-0","sm:items-center","sm:justify-between","sm:pt-12","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"ml-1","text-primary-500","hover:underline",3,"routerLink"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-3xl","font-extrabold","leading-tight","tracking-tight","sm:text-3xl"],[1,"flex","items-center","flex-shrink-0","mt-6","sm:mt-0","sm:ml-4"],["class","ml-4 text-white rounded-md bg-primary-500 hover:bg-primary-700 hover:shadow-lg","mat-raised-button","",3,"disabled","click",4,"ngIf"],[1,"flex-auto","p-6","sm:p-6"],[1,"flex","flex-col","flex-auto","min-w-0"],[3,"formGroup","autocomplete"],[1,"w-full","bg-transparent"],[3,"expanded"],[3,"collapsedHeight"],[1,"flex","items-center"],[1,"text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"grid","w-full","gap-6","p-8","mb-6","border-t-2","sm:grid-cols-4"],[1,"sm:col-span-2"],[1,"w-full","fuse-mat-no-subscript"],["matInput","","required","",3,"type","formControlName","placeholder"],["matInput","","required","",3,"type","formControlName"],["required","",3,"formControlName"],["value","masculino"],["value","femenino"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["required","",1,"mb-2",3,"color","formControlName"],[1,"grid","w-full","gap-6","p-8","mb-6","border-t-2","sm:grid-cols-2","md:grid-cols-4"],[1,"space-y-4"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"inline-flex","items-center","px-4","py-2","mt-2","-ml-4","rounded","cursor-pointer","group",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2","font-medium","text-secondary","group-hover:underline"],[1,"p-8","mb-6","border-t-2"],[1,"grid","w-full","gap-6","sm:grid-cols-4"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["value","Cuba"],[1,"w-full","fuse-mat-no-subscript","fuse-mat-emphasized-affix"],["matInput","",3,"type","formControlName","minlength","maxlength","value"],["matPrefix","",3,"for"],["joinDatepicker",""],["matInput","","required","",3,"matDatepicker","formControlName","placeholder"],["value","determinado"],["value","indeterminado"],["birthdayDatepicker",""],["matInput","",3,"matDatepicker","formControlName","placeholder"],["matInput","",3,"type","formControlName"],[3,"value",4,"ngFor","ngForOf"],["value"," "],[1,"flex","flex-col","flex-wrap","justify-end","px-6","pb-10","sm:flex-row","flex-0","sm:items-center","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex","items-center","flex-shrink-0","mt-6","text-right","sm:mt-0","sm:ml-4"],["mat-raised-button","",1,"ml-4","text-white","rounded-md","bg-primary-500","hover:bg-primary-700","hover:shadow-lg",3,"disabled","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[3,"value"],[1,"relative","flex","flex-col","sm:flex-row"],[1,"flex-auto","fuse-mat-no-subscript"],[4,"ngIf"],["matInput","",3,"type","formControl","placeholder"],["matPrefix","",1,"mr-1.5",3,"formControl"],[1,"sm:mx-0.5","font-medium","text-default"],[1,"w-6","h-4","overflow-hidden"],[1,"ml-2"],[1,"ml-2","font-medium"],[1,"flex-auto","w-full","mt-6","sm:mt-0","fuse-mat-no-subscript","sm:max-w-50","sm:ml-4"],["matInput","",3,"formControl","placeholder"],[1,"flex","items-center","w-10","pl-2",3,"ngClass"],["mat-icon-button","","matTooltip","Eliminar tel\xe9fono",1,"w-8","h-8","min-h-8",3,"click"],[1,"flex","flex-col","sm:flex-row"],["matInput","",3,"formControl","spellcheck"],["mat-icon-button","","matTooltip","Eliminar",1,"w-8","h-8","min-h-8",3,"click"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",5),e._uU(11,"Recursos Humanos"),e.qZA()(),e.TgZ(12,"div",4),e._UZ(13,"mat-icon",6),e.TgZ(14,"a",5),e._uU(15,"Empleados"),e.qZA()(),e.TgZ(16,"div",4),e._UZ(17,"mat-icon",6),e.TgZ(18,"a",7),e._uU(19,"Nuevo"),e.qZA()()(),e.TgZ(20,"div",8)(21,"a",9),e._UZ(22,"mat-icon",6),e.TgZ(23,"span",10),e._uU(24,"Regresar"),e.qZA()()()(),e.TgZ(25,"div",11)(26,"div",12),e._uU(27," Nuevo Empleado "),e.qZA()()(),e.TgZ(28,"div",13),e.YNc(29,Et,4,2,"button",14),e.YNc(30,Bt,4,2,"button",14),e.qZA()(),e.TgZ(31,"div",15)(32,"div",16)(33,"form",17)(34,"mat-accordion",18)(35,"mat-expansion-panel",19)(36,"mat-expansion-panel-header",20)(37,"mat-panel-title",21)(38,"div",22),e._uU(39," Informaci\xf3n General "),e.qZA()()(),e.TgZ(40,"div",23)(41,"div",24)(42,"mat-form-field",25)(43,"mat-label"),e._uU(44,"Nombre"),e.qZA(),e._UZ(45,"input",26),e.qZA()(),e.TgZ(46,"div",24)(47,"mat-form-field",25)(48,"mat-label"),e._uU(49,"Primer Apellido"),e.qZA(),e._UZ(50,"input",27),e.qZA()(),e.TgZ(51,"div",24)(52,"mat-form-field",25)(53,"mat-label"),e._uU(54,"Segundo Apellido"),e.qZA(),e._UZ(55,"input",27),e.qZA()(),e.TgZ(56,"div",24)(57,"mat-form-field",25)(58,"mat-label"),e._uU(59,"G\xe9nero"),e.qZA(),e.TgZ(60,"mat-select",28)(61,"mat-option",29),e._uU(62,"Maculino"),e.qZA(),e.TgZ(63,"mat-option",30),e._uU(64,"Femenino"),e.qZA()()()(),e.TgZ(65,"div",24)(66,"mat-form-field",25)(67,"mat-label"),e._uU(68,"N\xfamero de identidad"),e.qZA(),e._UZ(69,"mat-icon",31)(70,"input",27),e.qZA()(),e.TgZ(71,"div",24)(72,"mat-form-field",25)(73,"mat-label"),e._uU(74,"Negocio al cual pertenece el empleado"),e.qZA(),e.TgZ(75,"mat-select",28),e.YNc(76,Yt,2,2,"mat-option",32),e.ALo(77,"async"),e.qZA()()(),e.TgZ(78,"div",24)(79,"mat-slide-toggle",33),e._uU(80," Activo "),e.qZA()()()(),e.TgZ(81,"mat-expansion-panel")(82,"mat-expansion-panel-header",20)(83,"mat-panel-title",21)(84,"div",22),e._uU(85," Informaci\xf3n de contacto "),e.qZA()()(),e.TgZ(86,"div",34)(87,"div",24)(88,"div",35),e.YNc(89,St,24,18,"ng-container",36),e.qZA(),e.TgZ(90,"div",37),e.NdJ("click",function(){return o.addPhoneNumberField()}),e._UZ(91,"mat-icon",38),e.TgZ(92,"span",39),e._uU(93,"Agregar tel\xe9fono"),e.qZA()()(),e.TgZ(94,"div",24)(95,"div",35),e.YNc(96,Gt,11,9,"ng-container",36),e.qZA(),e.TgZ(97,"div",37),e.NdJ("click",function(){return o.addEmailField()}),e._UZ(98,"mat-icon",38),e.TgZ(99,"span",39),e._uU(100,"Agregar correo electr\xf3nico"),e.qZA()()()()(),e.TgZ(101,"mat-expansion-panel")(102,"mat-expansion-panel-header",20)(103,"mat-panel-title",21)(104,"div",22),e._uU(105," Domicilio "),e.qZA()()(),e.TgZ(106,"div",40)(107,"div",41)(108,"div",24)(109,"mat-form-field",25)(110,"mat-label"),e._uU(111,"Direcci\xf3n"),e.qZA(),e._UZ(112,"mat-icon",31)(113,"input",27),e.qZA()(),e.TgZ(114,"div",24)(115,"mat-form-field",25)(116,"mat-label"),e._uU(117,"Provincia"),e.qZA(),e.TgZ(118,"mat-select",28),e.YNc(119,Pt,2,2,"mat-option",32),e.qZA(),e._UZ(120,"mat-icon",42),e.qZA()(),e.TgZ(121,"div",24)(122,"mat-form-field",25)(123,"mat-label"),e._uU(124,"Municipio"),e.qZA(),e.TgZ(125,"mat-select",28),e.YNc(126,Kt,2,2,"mat-option",32),e.qZA(),e._UZ(127,"mat-icon",42),e.qZA()(),e.TgZ(128,"div",24)(129,"mat-form-field",25)(130,"mat-label"),e._uU(131,"Pa\xeds"),e.qZA(),e.TgZ(132,"mat-select",28)(133,"mat-option",43),e._uU(134,"Cuba"),e.qZA()(),e._UZ(135,"mat-icon",42),e.qZA()(),e.TgZ(136,"div",24)(137,"mat-form-field",44)(138,"mat-label"),e._uU(139,"C\xf3digo Postal"),e.qZA(),e._UZ(140,"input",45),e.qZA()()()()(),e.TgZ(141,"mat-expansion-panel")(142,"mat-expansion-panel-header",20)(143,"mat-panel-title",21)(144,"div",22),e._uU(145," Datos de incorporaci\xf3n "),e.qZA()()(),e.TgZ(146,"div",23)(147,"div",24)(148,"mat-form-field",25)(149,"mat-label"),e._uU(150,"Fecha de contrataci\xf3n"),e.qZA(),e._UZ(151,"mat-datepicker-toggle",46)(152,"mat-datepicker",null,47)(154,"input",48),e.qZA()(),e.TgZ(155,"div",24)(156,"mat-form-field",25)(157,"mat-label"),e._uU(158,"Tipo de contrato"),e.qZA(),e.TgZ(159,"mat-select",28)(160,"mat-option",49),e._uU(161,"Determinado"),e.qZA(),e.TgZ(162,"mat-option",50),e._uU(163,"Indeterminado"),e.qZA()()()(),e.TgZ(164,"div",24)(165,"mat-form-field",25)(166,"mat-label"),e._uU(167,"Fecha de cierre del contrato"),e.qZA(),e._UZ(168,"mat-datepicker-toggle",46)(169,"mat-datepicker",null,51)(171,"input",52),e.qZA()(),e.TgZ(172,"div",24)(173,"mat-form-field",25)(174,"mat-label"),e._uU(175,"Tiempo del contrato"),e.qZA(),e._UZ(176,"mat-icon",31)(177,"input",53),e.qZA()()()(),e.TgZ(178,"mat-expansion-panel")(179,"mat-expansion-panel-header",20)(180,"mat-panel-title",21)(181,"div",22),e._uU(182," Departamento, cargo y escolaridad "),e.qZA()()(),e.TgZ(183,"div",40)(184,"div",41)(185,"div",24)(186,"mat-form-field",25)(187,"mat-label"),e._uU(188,"Departamento"),e.qZA(),e.TgZ(189,"mat-select",28),e.YNc(190,Vt,2,2,"mat-option",54),e.ALo(191,"async"),e.qZA()()(),e.TgZ(192,"div",24)(193,"mat-form-field",25)(194,"mat-label"),e._uU(195,"Cargo"),e.qZA(),e.TgZ(196,"mat-select",28),e.YNc(197,Wt,2,2,"mat-option",54),e.ALo(198,"async"),e.qZA()()(),e.TgZ(199,"div",24)(200,"mat-form-field",25)(201,"mat-label"),e._uU(202,"Escolaridad"),e.qZA(),e.TgZ(203,"mat-select",28),e.YNc(204,Xt,2,2,"mat-option",54),e.ALo(205,"async"),e.qZA()()()()()(),e.TgZ(206,"mat-expansion-panel")(207,"mat-expansion-panel-header",20)(208,"mat-panel-title",21)(209,"div",22),e._uU(210," Salario "),e.qZA()()(),e.TgZ(211,"div",23)(212,"div",24)(213,"mat-form-field",25)(214,"mat-label"),e._uU(215,"Frecuencia"),e.qZA(),e.TgZ(216,"mat-select",28),e.YNc(217,en,2,2,"mat-option",54),e.ALo(218,"async"),e.qZA()()(),e.TgZ(219,"div",24)(220,"mat-form-field",25)(221,"mat-label"),e._uU(222,"Modo de pago"),e.qZA(),e.TgZ(223,"mat-select",28),e._UZ(224,"mat-option",55),e.YNc(225,tn,2,2,"mat-option",54),e.ALo(226,"async"),e.qZA()()()()()()()()(),e.TgZ(227,"div",56)(228,"div",57),e.YNc(229,nn,4,2,"button",14),e.YNc(230,on,4,2,"button",14),e.qZA()()()),2&t){const i=e.MAs(153),a=e.MAs(170);e.xp6(6),e.MGl("routerLink","/home/",o.merchantId,""),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(1),e.MGl("routerLink","/home/",o.merchantId,"/modules/hrm/"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(1),e.MGl("routerLink","/home/",o.merchantId,"/modules/hrm/employees"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:chevron-left"),e.xp6(7),e.Q6J("ngIf","new"===o.employeeId),e.xp6(1),e.Q6J("ngIf","new"!==o.employeeId),e.xp6(3),e.Q6J("formGroup",o.employeeForm)("autocomplete","off"),e.xp6(2),e.Q6J("expanded",!0),e.xp6(1),e.Q6J("collapsedHeight","56px"),e.xp6(9),e.Q6J("type","text")("formControlName","name")("placeholder","Nombre del negocio"),e.xp6(5),e.Q6J("type","text")("formControlName","lastname1"),e.xp6(5),e.Q6J("type","text")("formControlName","lastname2"),e.xp6(5),e.Q6J("formControlName","gender"),e.xp6(9),e.Q6J("svgIcon","heroicons_solid:identification"),e.xp6(1),e.Q6J("type","text")("formControlName","idNumber"),e.xp6(5),e.Q6J("formControlName","merchantId"),e.xp6(1),e.Q6J("ngForOf",e.lcZ(77,83,o.merchants$))("ngForTrackBy",o.trackByFn),e.xp6(3),e.Q6J("color","primary")("formControlName","active"),e.xp6(3),e.Q6J("collapsedHeight","56px"),e.xp6(7),e.Q6J("ngForOf",o.employeeForm.get("phoneNumbers").controls)("ngForTrackBy",o.trackByFn),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:plus-circle"),e.xp6(5),e.Q6J("ngForOf",o.employeeForm.get("emails").controls)("ngForTrackBy",o.trackByFn),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:plus-circle"),e.xp6(4),e.Q6J("collapsedHeight","56px"),e.xp6(10),e.Q6J("svgIcon","heroicons_solid:home"),e.xp6(1),e.Q6J("type","text")("formControlName","address"),e.xp6(5),e.Q6J("formControlName","state"),e.xp6(1),e.Q6J("ngForOf",o.states)("ngForTrackBy",o.trackByFn),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:map"),e.xp6(5),e.Q6J("formControlName","city"),e.xp6(1),e.Q6J("ngForOf",o.cities)("ngForTrackBy",o.trackByFn),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:location-marker"),e.xp6(5),e.Q6J("formControlName","country"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:globe"),e.xp6(5),e.Q6J("type","number")("formControlName","postalCode")("minlength",5)("maxlength",5)("value",0),e.xp6(2),e.Q6J("collapsedHeight","56px"),e.xp6(9),e.Q6J("for",i),e.xp6(3),e.Q6J("matDatepicker",i)("formControlName","dateOfJoining")("placeholder","Seleccione la fecha"),e.xp6(5),e.Q6J("formControlName","typeOfContract"),e.xp6(9),e.Q6J("for",a),e.xp6(3),e.Q6J("matDatepicker",a)("formControlName","contractEndDate")("placeholder","Seleccione la fecha"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:clock"),e.xp6(1),e.Q6J("type","text")("formControlName","contractTime"),e.xp6(2),e.Q6J("collapsedHeight","56px"),e.xp6(10),e.Q6J("formControlName","department"),e.xp6(1),e.Q6J("ngForOf",e.lcZ(191,85,o.departments$)),e.xp6(6),e.Q6J("formControlName","charge"),e.xp6(1),e.Q6J("ngForOf",e.lcZ(198,87,o.charges$)),e.xp6(6),e.Q6J("formControlName","scholarship"),e.xp6(1),e.Q6J("ngForOf",e.lcZ(205,89,o.scholarships$)),e.xp6(3),e.Q6J("collapsedHeight","56px"),e.xp6(9),e.Q6J("formControlName","salaryFreq"),e.xp6(1),e.Q6J("ngForOf",e.lcZ(218,91,o.salaryFreqs$)),e.xp6(6),e.Q6J("formControlName","salaryMethod"),e.xp6(2),e.Q6J("ngForOf",e.lcZ(226,93,o.salaryMethods$)),e.xp6(4),e.Q6J("ngIf","new"===o.employeeId),e.xp6(1),e.Q6J("ngIf","new"!==o.employeeId)}},dependencies:[d.yS,m.mk,m.sg,m.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.oH,s.sg,s.u,N.PQ,oe.ey,w.lW,ae.Mq,ae.hl,ae.nW,K.pp,K.ib,K.yz,K.yK,C.Hw,f.KE,f.hX,f.qo,j.Nt,z.gD,z.$L,D.SA,D.Rr,V.gM,m.Ov,m.rS],encapsulation:2,changeDetection:0}),n})()}];let an=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild(rn),ve.m]}),n})()}}]);